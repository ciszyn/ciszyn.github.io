var f3=Object.defineProperty,p3=Object.defineProperties,g3=Object.getOwnPropertyDescriptors,rR=Object.getOwnPropertySymbols,m3=Object.prototype.hasOwnProperty,_3=Object.prototype.propertyIsEnumerable,sR=(ot,Ae,V)=>Ae in ot?f3(ot,Ae,{enumerable:!0,configurable:!0,writable:!0,value:V}):ot[Ae]=V,dT=(ot,Ae)=>{for(var V in Ae||(Ae={}))m3.call(Ae,V)&&sR(ot,V,Ae[V]);if(rR)for(var V of rR(Ae))_3.call(Ae,V)&&sR(ot,V,Ae[V]);return ot},hT=(ot,Ae)=>p3(ot,g3(Ae));(self.webpackChunkciszyn_github_io=self.webpackChunkciszyn_github_io||[]).push([[179],{2011:(ot,Ae,V)=>{"use strict";V.d(Ae,{Dh:()=>oe,GT:()=>le,cc:()=>Le,hO:()=>Ce,on:()=>H,pX:()=>ce,xv:()=>ue});var u=V(5e3),z=V(127),L=V(6351);ot=V.hmd(ot);const fe=["ngOnDestroy"],ce=(Me,$e,Ve,Qe={})=>new Proxy(Me,{get:(_t,Ct)=>Ve.runOutsideAngular(()=>{var Qt;if(Me[Ct])return!(null===(Qt=null==Qe?void 0:Qe.spy)||void 0===Qt)&&Qt.get&&Qe.spy.get(Ct,Me[Ct]),Me[Ct];if(fe.indexOf(Ct)>-1)return()=>{};const Ie=$e.toPromise().then(Pe=>{const ke=Pe&&Pe[Ct];return"function"==typeof ke?ke.bind(Pe):ke&&ke.then?ke.then(ae=>Ve.run(()=>ae)):Ve.run(()=>ke)});return new Proxy(()=>{},{get:(Pe,ke)=>Ie[ke],apply:(Pe,ke,ae)=>Ie.then(he=>{var Te;const _e=he&&he(...ae);return!(null===(Te=null==Qe?void 0:Qe.spy)||void 0===Te)&&Te.apply&&Qe.spy.apply(Ct,ae,_e),_e})})})}),le=(Me,$e)=>{$e.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(Qe=>{Object.defineProperty(Me.prototype,Qe,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,Qe))})})};class we{constructor($e){return $e}}const oe=new u.OlP("angularfire2.app.options"),ue=new u.OlP("angularfire2.app.name");function H(Me,$e,Ve){const _t="object"==typeof Ve&&Ve||{};_t.name=_t.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const Qt=z.Z.apps.filter(Ie=>Ie&&Ie.name===_t.name)[0]||$e.runOutsideAngular(()=>z.Z.initializeApp(Me,_t));try{JSON.stringify(Me)!==JSON.stringify(Qt.options)&&W("error",`${Qt.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ie){}return new we(Qt)}const W=(Me,...$e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Me](...$e)},Q={provide:we,useFactory:H,deps:[oe,u.R0b,[new u.FiY,ue]]};let Ce=(()=>{class Me{constructor(Ve){z.Z.registerVersion("angularfire",L.q4.full,"core"),z.Z.registerVersion("angularfire",L.q4.full,"app-compat"),z.Z.registerVersion("angular",u.q4F.full,Ve.toString())}static initializeApp(Ve,Qe){return{ngModule:Me,providers:[{provide:oe,useValue:Ve},{provide:ue,useValue:Qe}]}}}return Me.\u0275fac=function(Ve){return new(Ve||Me)(u.LFG(u.Lbi))},Me.\u0275mod=u.oAB({type:Me}),Me.\u0275inj=u.cJS({providers:[Q]}),Me})();function Le(Me,$e,Ve,Qe,_t){const[,Ct,Qt]=globalThis.\u0275AngularfireInstanceCache.find(Ie=>Ie[0]===Me)||[];if(Ct)return function Be(Me,$e){try{return Me.toString()===$e.toString()}catch(Ve){return Me===$e}}(_t,Qt)||(Ee("error",`${$e} was already initialized on the ${Ve} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:_t,was:Qt})),Ct;{const Ie=Qe();return globalThis.\u0275AngularfireInstanceCache.push([Me,Ie,_t]),Ie}}const Fe=!!ot.hot,Ee=(Me,...$e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[Me](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(ot,Ae,V)=>{"use strict";V.d(Ae,{q4:()=>Th,iC:()=>kc,HU:()=>Ya,vb:()=>is,JM:()=>Pc,u3:()=>ra});var u=V(5e3),z=V(5867),L=V(5861),fe=V(9681),ce=V(2090),le=V(4859),we=V(1877),oe=V(8766);const ue="@firebase/installations",H="0.5.12",Q=`w:${H}`,Ce="FIS_v2",$e=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(I){return I instanceof ce.ZR&&I.code.includes("request-failed")}function Qe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function _t(I){return{token:I.token,requestStatus:2,expiresIn:he(I.expiresIn),creationTime:Date.now()}}function Ct(I,x){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,L.Z)(function*(I,x){const G=(yield x.json()).error;return $e.create("request-failed",{requestName:I,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function Ie({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Pe(I,{refreshToken:x}){const k=Ie(I);return k.append("Authorization",function Te(I){return`${Ce} ${I}`}(x)),k}function ke(I){return ae.apply(this,arguments)}function ae(){return(ae=(0,L.Z)(function*(I){const x=yield I();return x.status>=500&&x.status<600?I():x})).apply(this,arguments)}function he(I){return Number(I.replace("s","000"))}function _e(I,x){return ze.apply(this,arguments)}function ze(){return(ze=(0,L.Z)(function*({appConfig:I,heartbeatServiceProvider:x},{fid:k}){const G=Qe(I),de=Ie(I),ye=x.getImmediate({optional:!0});if(ye){const Lt=yield ye.getHeartbeatsHeader();Lt&&de.append("x-firebase-client",Lt)}const rt={method:"POST",headers:de,body:JSON.stringify({fid:k,authVersion:Ce,appId:I.appId,sdkVersion:Q})},At=yield ke(()=>fetch(G,rt));if(At.ok){const Lt=yield At.json();return{fid:Lt.fid||k,registrationStatus:2,refreshToken:Lt.refreshToken,authToken:_t(Lt.authToken)}}throw yield Ct("Create Installation",At)})).apply(this,arguments)}function Ze(I){return new Promise(x=>{setTimeout(x,I)})}const nn=/^[cdef][\w-]{21}$/;function Xe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function In(I){return function vt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return nn.test(k)?k:""}catch(I){return""}}function Pn(I){return`${I.appName}!${I.appId}`}const un=new Map;function Jt(I,x){const k=Pn(I);vn(k,x),function tr(I,x){const k=function Kt(){return!Xt&&"BroadcastChannel"in self&&(Xt=new BroadcastChannel("[Firebase] FID Change"),Xt.onmessage=I=>{vn(I.data.key,I.data.fid)}),Xt}();k&&k.postMessage({key:I,fid:x}),function dr(){0===un.size&&Xt&&(Xt.close(),Xt=null)}()}(k,x)}function vn(I,x){const k=un.get(I);if(k)for(const G of k)G(x)}let Xt=null;const kn="firebase-installations-store";let Ni=null;function oi(){return Ni||(Ni=(0,oe.X3)("firebase-installations-database",1,{upgrade:(I,x)=>{0===x&&I.createObjectStore(kn)}})),Ni}function et(I,x){return pi.apply(this,arguments)}function pi(){return(pi=(0,L.Z)(function*(I,x){const k=Pn(I),de=(yield oi()).transaction(kn,"readwrite"),ye=de.objectStore(kn),Ue=yield ye.get(k);return yield ye.put(x,k),yield de.done,(!Ue||Ue.fid!==x.fid)&&Jt(I,x.fid),x})).apply(this,arguments)}function Wn(I){return pn.apply(this,arguments)}function pn(){return(pn=(0,L.Z)(function*(I){const x=Pn(I),G=(yield oi()).transaction(kn,"readwrite");yield G.objectStore(kn).delete(x),yield G.done})).apply(this,arguments)}function Tn(I,x){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,L.Z)(function*(I,x){const k=Pn(I),de=(yield oi()).transaction(kn,"readwrite"),ye=de.objectStore(kn),Ue=yield ye.get(k),rt=x(Ue);return void 0===rt?yield ye.delete(k):yield ye.put(rt,k),yield de.done,rt&&(!Ue||Ue.fid!==rt.fid)&&Jt(I,rt.fid),rt})).apply(this,arguments)}function On(I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,L.Z)(function*(I){let x;const k=yield Tn(I.appConfig,G=>{const de=Dn(G),ye=ft(I,de);return x=ye.registrationPromise,ye.installationEntry});return""===k.fid?{installationEntry:yield x}:{installationEntry:k,registrationPromise:x}})).apply(this,arguments)}function Dn(I){return St(I||{fid:Xe(),registrationStatus:0})}function ft(I,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject($e.create("app-offline"))};const k={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},G=function pt(I,x){return kt.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:G}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Li(I)}:{installationEntry:x}}function kt(){return(kt=(0,L.Z)(function*(I,x){try{const k=yield _e(I,x);return et(I.appConfig,k)}catch(k){throw Ve(k)&&409===k.customData.serverCode?yield Wn(I.appConfig):yield et(I.appConfig,{fid:x.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Li(I){return gi.apply(this,arguments)}function gi(){return(gi=(0,L.Z)(function*(I){let x=yield ai(I.appConfig);for(;1===x.registrationStatus;)yield Ze(100),x=yield ai(I.appConfig);if(0===x.registrationStatus){const{installationEntry:k,registrationPromise:G}=yield On(I);return G||k}return x})).apply(this,arguments)}function ai(I){return Tn(I,x=>{if(!x)throw $e.create("installation-not-found");return St(x)})}function St(I){return function Fi(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Rt(I,x){return nr.apply(this,arguments)}function nr(){return(nr=(0,L.Z)(function*({appConfig:I,heartbeatServiceProvider:x},k){const G=zt(I,k),de=Pe(I,k),ye=x.getImmediate({optional:!0});if(ye){const Lt=yield ye.getHeartbeatsHeader();Lt&&de.append("x-firebase-client",Lt)}const rt={method:"POST",headers:de,body:JSON.stringify({installation:{sdkVersion:Q,appId:I.appId}})},At=yield ke(()=>fetch(G,rt));if(At.ok)return _t(yield At.json());throw yield Ct("Generate Auth Token",At)})).apply(this,arguments)}function zt(I,{fid:x}){return`${Qe(I)}/${x}/authTokens:generate`}function re(I){return J.apply(this,arguments)}function J(){return(J=(0,L.Z)(function*(I,x=!1){let k;const G=yield Tn(I.appConfig,ye=>{if(!Et(ye))throw $e.create("not-registered");const Ue=ye.authToken;if(!x&&bn(Ue))return ye;if(1===Ue.requestStatus)return k=q(I,x),ye;{if(!navigator.onLine)throw $e.create("app-offline");const rt=ii(ye);return k=Re(I,rt),rt}});return k?yield k:G.authToken})).apply(this,arguments)}function q(I,x){return te.apply(this,arguments)}function te(){return(te=(0,L.Z)(function*(I,x){let k=yield ne(I.appConfig);for(;1===k.authToken.requestStatus;)yield Ze(100),k=yield ne(I.appConfig);const G=k.authToken;return 0===G.requestStatus?re(I,x):G})).apply(this,arguments)}function ne(I){return Tn(I,x=>{if(!Et(x))throw $e.create("not-registered");return function pe(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function Re(I,x){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,L.Z)(function*(I,x){try{const k=yield Rt(I,x),G=Object.assign(Object.assign({},x),{authToken:k});return yield et(I.appConfig,G),k}catch(k){if(!Ve(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const G=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield et(I.appConfig,G)}else yield Wn(I.appConfig);throw k}})).apply(this,arguments)}function Et(I){return void 0!==I&&2===I.registrationStatus}function bn(I){return 2===I.requestStatus&&!function gn(I){const x=Date.now();return x<I.creationTime||I.creationTime+I.expiresIn<x+36e5}(I)}function ii(I){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:x})}function X(){return(X=(0,L.Z)(function*(I){const x=I,{installationEntry:k,registrationPromise:G}=yield On(x);return G?G.catch(console.error):re(x).catch(console.error),k.fid})).apply(this,arguments)}function Je(){return(Je=(0,L.Z)(function*(I,x=!1){const k=I;return yield bt(k),(yield re(k,x)).token})).apply(this,arguments)}function bt(I){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,L.Z)(function*(I){const{registrationPromise:x}=yield On(I);x&&(yield x)})).apply(this,arguments)}function Mt(I){return $e.create("missing-app-config-values",{valueName:I})}const mn="installations",$i=I=>{const x=I.getProvider("app").getImmediate(),k=function tt(I){if(!I||!I.options)throw Mt("App Configuration");if(!I.name)throw Mt("App Name");const x=["projectId","apiKey","appId"];for(const k of x)if(!I.options[k])throw Mt(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(x);return{app:x,appConfig:k,heartbeatServiceProvider:(0,fe._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Kn=I=>{const x=I.getProvider("app").getImmediate(),k=(0,fe._getProvider)(x,mn).getImmediate();return{getId:()=>function K(I){return X.apply(this,arguments)}(k),getToken:de=>function De(I){return Je.apply(this,arguments)}(k,de)}};(function Ar(){(0,fe._registerComponent)(new le.wA(mn,$i,"PUBLIC")),(0,fe._registerComponent)(new le.wA("installations-internal",Kn,"PRIVATE"))})(),(0,fe.registerVersion)(ue,H),(0,fe.registerVersion)(ue,H,"esm2017");const Vn="@firebase/remote-config",An=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ma{constructor(x,k,G,de){this.client=x,this.storage=k,this.storageCache=G,this.logger=de}isCachedDataFresh(x,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-k,de=G<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${de}.`),de}fetch(x){var k=this;return(0,L.Z)(function*(){const[G,de]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(de&&k.isCachedDataFresh(x.cacheMaxAgeMillis,G))return de;x.eTag=de&&de.eTag;const ye=yield k.client.fetch(x),Ue=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ye.status&&Ue.push(k.storage.setLastSuccessfulFetchResponse(ye)),yield Promise.all(Ue),ye})()}}function Xs(I=navigator){return I.languages&&I.languages[0]||I.language}class N{constructor(x,k,G,de,ye,Ue){this.firebaseInstallations=x,this.sdkVersion=k,this.namespace=G,this.projectId=de,this.apiKey=ye,this.appId=Ue}fetch(x){var k=this;return(0,L.Z)(function*(){var G,de,ye;const[Ue,rt]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Lt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Bt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},wt={sdk_version:k.sdkVersion,app_instance_id:Ue,app_instance_id_token:rt,app_id:k.appId,language_code:Xs()},Di={method:"POST",headers:Bt,body:JSON.stringify(wt)},mi=fetch(Lt,Di),Oi=new Promise((rs,Nr)=>{x.signal.addEventListener(()=>{const Bs=new Error("The operation was aborted.");Bs.name="AbortError",Nr(Bs)})});let or;try{yield Promise.race([mi,Oi]),or=yield mi}catch(rs){let Nr="fetch-client-network";throw"AbortError"===(null===(G=rs)||void 0===G?void 0:G.name)&&(Nr="fetch-timeout"),An.create(Nr,{originalErrorMessage:null===(de=rs)||void 0===de?void 0:de.message})}let Ln=or.status;const Ki=or.headers.get("ETag")||void 0;let Ja,sa;if(200===or.status){let rs;try{rs=yield or.json()}catch(Nr){throw An.create("fetch-client-parse",{originalErrorMessage:null===(ye=Nr)||void 0===ye?void 0:ye.message})}Ja=rs.entries,sa=rs.state}if("INSTANCE_STATE_UNSPECIFIED"===sa?Ln=500:"NO_CHANGE"===sa?Ln=304:("NO_TEMPLATE"===sa||"EMPTY_CONFIG"===sa)&&(Ja={}),304!==Ln&&200!==Ln)throw An.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:Ki,config:Ja}})()}}class ve{constructor(x,k){this.client=x,this.storage=k}fetch(x){var k=this;return(0,L.Z)(function*(){const G=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(x,G)})()}attemptFetch(x,{throttleEndTimeMillis:k,backoffCount:G}){var de=this;return(0,L.Z)(function*(){yield function U(I,x){return new Promise((k,G)=>{const de=Math.max(x-Date.now(),0),ye=setTimeout(k,de);I.addEventListener(()=>{clearTimeout(ye),G(An.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,k);try{const ye=yield de.client.fetch(x);return yield de.storage.deleteThrottleMetadata(),ye}catch(ye){if(!function ee(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const x=Number(I.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ye))throw ye;const Ue={throttleEndTimeMillis:Date.now()+(0,ce.$s)(G),backoffCount:G+1};return yield de.storage.setThrottleMetadata(Ue),de.attemptFetch(x,Ue)}})()}}class Wt{constructor(x,k,G,de,ye){this.app=x,this._client=k,this._storageCache=G,this._storage=de,this._logger=ye,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zn(I,x){var k;const G=I.target.error||void 0;return An.create(x,{originalErrorMessage:G&&(null===(k=G)||void 0===k?void 0:k.message)})}const Gn="app_namespace_store";class fc{constructor(x,k,G,de=function ap(){return new Promise((I,x)=>{var k;try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=de=>{x(Zn(de,"storage-open"))},G.onsuccess=de=>{I(de.target.result)},G.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore(Gn,{keyPath:"compositeKey"})}}catch(G){x(An.create("storage-open",{originalErrorMessage:null===(k=G)||void 0===k?void 0:k.message}))}})}()){this.appId=x,this.appName=k,this.namespace=G,this.openDbPromise=de}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var k=this;return(0,L.Z)(function*(){const G=yield k.openDbPromise;return new Promise((de,ye)=>{var Ue;const At=G.transaction([Gn],"readonly").objectStore(Gn),Lt=k.createCompositeKey(x);try{const Bt=At.get(Lt);Bt.onerror=wt=>{ye(Zn(wt,"storage-get"))},Bt.onsuccess=wt=>{const Di=wt.target.result;de(Di?Di.value:void 0)}}catch(Bt){ye(An.create("storage-get",{originalErrorMessage:null===(Ue=Bt)||void 0===Ue?void 0:Ue.message}))}})})()}set(x,k){var G=this;return(0,L.Z)(function*(){const de=yield G.openDbPromise;return new Promise((ye,Ue)=>{var rt;const Lt=de.transaction([Gn],"readwrite").objectStore(Gn),Bt=G.createCompositeKey(x);try{const wt=Lt.put({compositeKey:Bt,value:k});wt.onerror=Di=>{Ue(Zn(Di,"storage-set"))},wt.onsuccess=()=>{ye()}}catch(wt){Ue(An.create("storage-set",{originalErrorMessage:null===(rt=wt)||void 0===rt?void 0:rt.message}))}})})()}delete(x){var k=this;return(0,L.Z)(function*(){const G=yield k.openDbPromise;return new Promise((de,ye)=>{var Ue;const At=G.transaction([Gn],"readwrite").objectStore(Gn),Lt=k.createCompositeKey(x);try{const Bt=At.delete(Lt);Bt.onerror=wt=>{ye(Zn(wt,"storage-delete"))},Bt.onsuccess=()=>{de()}}catch(Bt){ye(An.create("storage-delete",{originalErrorMessage:null===(Ue=Bt)||void 0===Ue?void 0:Ue.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ko{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,L.Z)(function*(){const k=x.storage.getLastFetchStatus(),G=x.storage.getLastSuccessfulFetchTimestampMillis(),de=x.storage.getActiveConfig(),ye=yield k;ye&&(x.lastFetchStatus=ye);const Ue=yield G;Ue&&(x.lastSuccessfulFetchTimestampMillis=Ue);const rt=yield de;rt&&(x.activeConfig=rt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function km(){return dl.apply(this,arguments)}function dl(){return(dl=(0,L.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(I){return!1}})).apply(this,arguments)}!function Tu(){(0,fe._registerComponent)(new le.wA("remote-config",function I(x,{instanceIdentifier:k}){const G=x.getProvider("app").getImmediate(),de=x.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,ce.hl)())throw An.create("indexed-db-unavailable");const{projectId:ye,apiKey:Ue,appId:rt}=G.options;if(!ye)throw An.create("registration-project-id");if(!Ue)throw An.create("registration-api-key");if(!rt)throw An.create("registration-app-id");const At=new fc(rt,G.name,k=k||"firebase"),Lt=new ko(At),Bt=new we.Yd(Vn);Bt.logLevel=we.in.ERROR;const wt=new N(de,fe.SDK_VERSION,k,ye,Ue,rt),Di=new ve(wt,At),mi=new Ma(Di,At,Lt,Bt),Oi=new Wt(G,mi,Lt,At,Bt);return function Mr(I){const x=(0,ce.m9)(I);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Oi),Oi},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Vn,"0.3.11"),(0,fe.registerVersion)(Vn,"0.3.11","esm2017")}();const Zi="/firebase-messaging-sw.js",Ro="/firebase-cloud-messaging-push-scope",Ps="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hl="google.c.a.c_id",pc="google.c.a.c_l",Du="google.c.a.ts",No="google.c.a.e";var Pr=(()=>{return(I=Pr||(Pr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Pr;var I})();function vs(I){const x=new Uint8Array(I);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vr(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(k),de=new Uint8Array(G.length);for(let ye=0;ye<G.length;++ye)de[ye]=G.charCodeAt(ye);return de}const to="fcm_token_details_db",Pa="fcm_token_object_Store";function lp(I){return gc.apply(this,arguments)}function gc(){return gc=(0,L.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ye=>ye.name).includes(to))return null;let x=null;return(yield(0,oe.X3)(to,5,{upgrade:(G=(0,L.Z)(function*(de,ye,Ue,rt){var At;if(ye<2||!de.objectStoreNames.contains(Pa))return;const Lt=rt.objectStore(Pa),Bt=yield Lt.index("fcmSenderId").get(I);if(yield Lt.clear(),Bt)if(2===ye){const wt=Bt;if(!wt.auth||!wt.p256dh||!wt.endpoint)return;x={token:wt.fcmToken,createTime:null!==(At=wt.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:wt.auth,p256dh:wt.p256dh,endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:"string"==typeof wt.vapidKey?wt.vapidKey:vs(wt.vapidKey)}}}else if(3===ye){const wt=Bt;x={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:vs(wt.auth),p256dh:vs(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:vs(wt.vapidKey)}}}else if(4===ye){const wt=Bt;x={token:wt.fcmToken,createTime:wt.createTime,subscriptionOptions:{auth:vs(wt.auth),p256dh:vs(wt.p256dh),endpoint:wt.endpoint,swScope:wt.swScope,vapidKey:vs(wt.vapidKey)}}}}),function(ye,Ue,rt,At){return G.apply(this,arguments)})})).close(),yield(0,oe.Lj)(to),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),ri(x)?x:null;var G}),gc.apply(this,arguments)}function ri(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:x}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Zr="firebase-messaging-store";let Gi=null;function fl(){return Gi||(Gi=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(I,x)=>{0===x&&I.createObjectStore(Zr)}})),Gi}function no(I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,L.Z)(function*(I){const x=kr(I),G=yield(yield fl()).transaction(Zr).objectStore(Zr).get(x);if(G)return G;{const de=yield lp(I.appConfig.senderId);if(de)return yield wn(I,de),de}})).apply(this,arguments)}function wn(I,x){return pl.apply(this,arguments)}function pl(){return(pl=(0,L.Z)(function*(I,x){const k=kr(I),de=(yield fl()).transaction(Zr,"readwrite");return yield de.objectStore(Zr).put(x,k),yield de.done,x})).apply(this,arguments)}function ks(I){return mc.apply(this,arguments)}function mc(){return(mc=(0,L.Z)(function*(I){const x=kr(I),G=(yield fl()).transaction(Zr,"readwrite");yield G.objectStore(Zr).delete(x),yield G.done})).apply(this,arguments)}function kr({appConfig:I}){return I.appId}const li=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(I,x){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,L.Z)(function*(I,x){var k;const G=yield La(I),de=He(x),ye={method:"POST",headers:G,body:JSON.stringify(de)};let Ue;try{Ue=yield(yield fetch(io(I.appConfig),ye)).json()}catch(rt){throw li.create("token-subscribe-failed",{errorInfo:null===(k=rt)||void 0===k?void 0:k.toString()})}if(Ue.error)throw li.create("token-subscribe-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw li.create("token-subscribe-no-token");return Ue.token})).apply(this,arguments)}function cp(I,x){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,L.Z)(function*(I,x){var k;const G=yield La(I),de=He(x.subscriptionOptions),ye={method:"PATCH",headers:G,body:JSON.stringify(de)};let Ue;try{Ue=yield(yield fetch(`${io(I.appConfig)}/${x.token}`,ye)).json()}catch(rt){throw li.create("token-update-failed",{errorInfo:null===(k=rt)||void 0===k?void 0:k.toString()})}if(Ue.error)throw li.create("token-update-failed",{errorInfo:Ue.error.message});if(!Ue.token)throw li.create("token-update-no-token");return Ue.token})).apply(this,arguments)}function xu(I,x){return Na.apply(this,arguments)}function Na(){return(Na=(0,L.Z)(function*(I,x){var k;const de={method:"DELETE",headers:yield La(I)};try{const Ue=yield(yield fetch(`${io(I.appConfig)}/${x}`,de)).json();if(Ue.error)throw li.create("token-unsubscribe-failed",{errorInfo:Ue.error.message})}catch(ye){throw li.create("token-unsubscribe-failed",{errorInfo:null===(k=ye)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function io({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function La(I){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,L.Z)(function*({appConfig:I,installations:x}){const k=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function He({p256dh:I,auth:x,endpoint:k,vapidKey:G}){const de={web:{endpoint:k,auth:x,p256dh:I}};return G!==Ps&&(de.web.applicationPubKey=G),de}const en=6048e5;function dh(I){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,L.Z)(function*(I){const x=yield hh(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:x.endpoint,auth:vs(x.getKey("auth")),p256dh:vs(x.getKey("p256dh"))},G=yield no(I.firebaseDependencies);if(G){if(up(G.subscriptionOptions,k))return Date.now()>=G.createTime+en?gl(I,{token:G.token,createTime:Date.now(),subscriptionOptions:k}):G.token;try{yield xu(I.firebaseDependencies,G.token)}catch(de){console.warn(de)}return ml(I.firebaseDependencies,k)}return ml(I.firebaseDependencies,k)})).apply(this,arguments)}function Ti(I){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(I){const x=yield no(I.firebaseDependencies);x&&(yield xu(I.firebaseDependencies,x.token),yield ks(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function gl(I,x){return fr.apply(this,arguments)}function fr(){return(fr=(0,L.Z)(function*(I,x){try{const k=yield cp(I.firebaseDependencies,x),G=Object.assign(Object.assign({},x),{token:k,createTime:Date.now()});return yield wn(I.firebaseDependencies,G),k}catch(k){throw yield Ti(I),k}})).apply(this,arguments)}function ml(I,x){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,L.Z)(function*(I,x){const G={token:yield Nt(I,x),createTime:Date.now(),subscriptionOptions:x};return yield wn(I,G),G.token})).apply(this,arguments)}function hh(I,x){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,L.Z)(function*(I,x){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vr(x)})})).apply(this,arguments)}function up(I,x){return x.vapidKey===I.vapidKey&&x.endpoint===I.endpoint&&x.auth===I.auth&&x.p256dh===I.p256dh}function bs(I){const x={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Si(I,x){if(!x.notification)return;I.notification={};const k=x.notification.title;k&&(I.notification.title=k);const G=x.notification.body;G&&(I.notification.body=G);const de=x.notification.image;de&&(I.notification.image=de)}(x,I),function Xr(I,x){!x.data||(I.data=x.data)}(x,I),function Ua(I,x){var k,G,de,ye,Ue;if(!(x.fcmOptions||null!==(k=x.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const rt=null!==(de=null===(G=x.fcmOptions)||void 0===G?void 0:G.link)&&void 0!==de?de:null===(ye=x.notification)||void 0===ye?void 0:ye.click_action;rt&&(I.fcmOptions.link=rt);const At=null===(Ue=x.fcmOptions)||void 0===Ue?void 0:Ue.analytics_label;At&&(I.fcmOptions.analyticsLabel=At)}(x,I),x}function Va(I){return"object"==typeof I&&!!I&&hl in I}function ws(I,x){const k=[];for(let G=0;G<I.length;G++)k.push(I.charAt(G)),G<x.length&&k.push(x.charAt(G));return k.join("")}function _c(I){return li.create("missing-app-config-values",{valueName:I})}ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pu{constructor(x,k,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const de=function Mu(I){if(!I||!I.options)throw _c("App Configuration Object");if(!I.name)throw _c("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const G of x)if(!k[G])throw _c(G);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:de,installations:k,analyticsProvider:G}}_delete(){return Promise.resolve()}}function fh(I){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,L.Z)(function*(I){var x;try{I.swRegistration=yield navigator.serviceWorker.register(Zi,{scope:Ro}),I.swRegistration.update().catch(()=>{})}catch(k){throw li.create("failed-service-worker-registration",{browserErrorMessage:null===(x=k)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function yc(I,x){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,L.Z)(function*(I,x){if(!x&&!I.swRegistration&&(yield fh(I)),x||!I.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw li.create("invalid-sw-registration");I.swRegistration=x}})).apply(this,arguments)}function vc(I,x){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,L.Z)(function*(I,x){x?I.vapidKey=x:I.vapidKey||(I.vapidKey=Ps)})).apply(this,arguments)}function Ho(){return(Ho=(0,L.Z)(function*(I,x){if(!navigator)throw li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw li.create("permission-blocked");return yield vc(I,null==x?void 0:x.vapidKey),yield yc(I,null==x?void 0:x.serviceWorkerRegistration),dh(I)})).apply(this,arguments)}function ph(I,x,k){return ja.apply(this,arguments)}function ja(){return(ja=(0,L.Z)(function*(I,x,k){const G=gh(x);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:k[hl],message_name:k[pc],message_time:k[Du],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gh(I){switch(I){case Pr.NOTIFICATION_CLICKED:return"notification_open";case Pr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Os(){return(Os=(0,L.Z)(function*(I,x){const k=x.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===Pr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(bs(k)):I.onMessageHandler.next(bs(k)));const G=k.data;Va(G)&&"1"===G[No]&&(yield ph(I,k.messageType,G))})).apply(this,arguments)}const Rs="@firebase/messaging",Qn=I=>{const x=new Pu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ou(I,x){return Os.apply(this,arguments)}(x,k)),x},Cs=I=>{const x=I.getProvider("messaging").getImmediate();return{getToken:G=>function ku(I,x){return Ho.apply(this,arguments)}(x,G)}};function bc(){return wc.apply(this,arguments)}function wc(){return(wc=(0,L.Z)(function*(){try{yield(0,ce.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jn(){(0,fe._registerComponent)(new le.wA("messaging",Qn,"PUBLIC")),(0,fe._registerComponent)(new le.wA("messaging-internal",Cs,"PRIVATE")),(0,fe.registerVersion)(Rs,"0.9.16"),(0,fe.registerVersion)(Rs,"0.9.16","esm2017")}();const zo="analytics",Uu="firebase_id",Ec="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vu="https://www.googletagmanager.com/gtag/js",ci=new we.Yd("@firebase/analytics");function vl(I){return Promise.all(I.map(x=>x.catch(k=>k)))}function bl(I,x){const k=document.createElement("script");k.src=`${Vu}?l=${I}&id=${x}`,k.async=!0,document.head.appendChild(k)}function mh(I,x,k,G,de,ye){return $a.apply(this,arguments)}function $a(){return($a=(0,L.Z)(function*(I,x,k,G,de,ye){const Ue=G[de];try{if(Ue)yield x[Ue];else{const At=(yield vl(k)).find(Lt=>Lt.measurementId===de);At&&(yield x[At.appId])}}catch(rt){ci.error(rt)}I("config",de,ye)})).apply(this,arguments)}function Es(I,x,k,G,de){return za.apply(this,arguments)}function za(){return(za=(0,L.Z)(function*(I,x,k,G,de){try{let ye=[];if(de&&de.send_to){let Ue=de.send_to;Array.isArray(Ue)||(Ue=[Ue]);const rt=yield vl(k);for(const At of Ue){const Lt=rt.find(wt=>wt.measurementId===At),Bt=Lt&&x[Lt.appId];if(!Bt){ye=[];break}ye.push(Bt)}}0===ye.length&&(ye=Object.values(x)),yield Promise.all(ye),I("event",G,de||{})}catch(ye){ci.error(ye)}})).apply(this,arguments)}function Bu(){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(Vu))return x;return null}const Ii=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Za=new class Sc{constructor(x={},k=1e3){this.throttleMetadata=x,this.intervalMillis=k}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,k){this.throttleMetadata[x]=k}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Wo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function vh(I){return ui.apply(this,arguments)}function ui(){return(ui=(0,L.Z)(function*(I){var x;const{appId:k,apiKey:G}=I,de={method:"GET",headers:Wo(G)},ye=Ec.replace("{app-id}",k),Ue=yield fetch(ye,de);if(200!==Ue.status&&304!==Ue.status){let rt="";try{const At=yield Ue.json();null!==(x=At.error)&&void 0!==x&&x.message&&(rt=At.error.message)}catch(At){}throw Ii.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:rt})}return Ue.json()})).apply(this,arguments)}function Hu(I){return br.apply(this,arguments)}function br(){return(br=(0,L.Z)(function*(I,x=Za,k){const{appId:G,apiKey:de,measurementId:ye}=I.options;if(!G)throw Ii.create("no-app-id");if(!de){if(ye)return{measurementId:ye,appId:G};throw Ii.create("no-api-key")}const Ue=x.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Ga;return setTimeout((0,L.Z)(function*(){rt.abort()}),void 0!==k?k:6e4),ju({appId:G,apiKey:de,measurementId:ye},Ue,rt,x)})).apply(this,arguments)}function ju(I,x,k){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,L.Z)(function*(I,{throttleEndTimeMillis:x,backoffCount:k},G,de=Za){var ye,Ue;const{appId:rt,measurementId:At}=I;try{yield Ic(G,x)}catch(Lt){if(At)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${null===(ye=Lt)||void 0===ye?void 0:ye.message}]`),{appId:rt,measurementId:At};throw Lt}try{const Lt=yield vh(I);return de.deleteThrottleMetadata(rt),Lt}catch(Lt){const Bt=Lt;if(!Cl(Bt)){if(de.deleteThrottleMetadata(rt),At)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${At} provided in the "measurementId" field in the local Firebase config. [${null==Bt?void 0:Bt.message}]`),{appId:rt,measurementId:At};throw Lt}const wt=503===Number(null===(Ue=null==Bt?void 0:Bt.customData)||void 0===Ue?void 0:Ue.httpStatus)?(0,ce.$s)(k,de.intervalMillis,30):(0,ce.$s)(k,de.intervalMillis),Di={throttleEndTimeMillis:Date.now()+wt,backoffCount:k+1};return de.setThrottleMetadata(rt,Di),ci.debug(`Calling attemptFetch again in ${wt} millis`),ju(I,Di,G,de)}})).apply(this,arguments)}function Ic(I,x){return new Promise((k,G)=>{const de=Math.max(x-Date.now(),0),ye=setTimeout(k,de);I.addEventListener(()=>{clearTimeout(ye),G(Ii.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Cl(I){if(!(I instanceof ce.ZR&&I.customData))return!1;const x=Number(I.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Ga{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let ro,Tl;function Zo(){return(Zo=(0,L.Z)(function*(I,x,k,G,de){if(de&&de.global)I("event",k,G);else{const ye=yield x;I("event",k,Object.assign(Object.assign({},G),{send_to:ye}))}})).apply(this,arguments)}function Ko(I){Tl=I}function Dc(I){ro=I}function Ls(){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,L.Z)(function*(){var I;if(!(0,ce.hl)())return ci.warn(Ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(x){return ci.warn(Ii.create("indexeddb-unavailable",{errorInfo:null===(I=x)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Qo(){return(Qo=(0,L.Z)(function*(I,x,k,G,de,ye,Ue){var rt;const At=Hu(I);At.then(mi=>{k[mi.measurementId]=mi.appId,I.options.measurementId&&mi.measurementId!==I.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mi=>ci.error(mi)),x.push(At);const Lt=Ls().then(mi=>{if(mi)return G.getId()}),[Bt,wt]=yield Promise.all([At,Lt]);Bu()||bl(ye,Bt.measurementId),Tl&&(de("consent","default",Tl),Ko(void 0)),de("js",new Date);const Di=null!==(rt=null==Ue?void 0:Ue.config)&&void 0!==rt?rt:{};return Di.origin="firebase",Di.update=!0,null!=wt&&(Di[Uu]=wt),de("config",Bt.measurementId,Di),ro&&(de("set",ro),Dc(void 0)),Bt.measurementId})).apply(this,arguments)}class Sl{constructor(x){this.app=x}_delete(){return delete sr[this.app.options.appId],Promise.resolve()}}let sr={},Jo=[];const so={};let ea,ts,Xo="dataLayer",zu=!1;function Wu(I,x,k){!function dp(){const I=[];if((0,ce.ru)()&&I.push("This is a browser extension environment."),(0,ce.zI)()||I.push("Cookies are not available."),I.length>0){const x=I.map((G,de)=>`(${de+1}) ${G}`).join(" "),k=Ii.create("invalid-analytics-context",{errorInfo:x});ci.warn(k.message)}}();const G=I.options.appId;if(!G)throw Ii.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ii.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sr[G])throw Ii.create("already-exists",{id:G});if(!zu){!function wl(I){let x=[];Array.isArray(window[I])?x=window[I]:window[I]=x}(Xo);const{wrappedGtag:ye,gtagCore:Ue}=function Wa(I,x,k,G,de){let ye=function(...Ue){window[G].push(arguments)};return window[de]&&"function"==typeof window[de]&&(ye=window[de]),window[de]=function Tc(I,x,k,G){function ye(){return(ye=(0,L.Z)(function*(Ue,rt,At){try{"event"===Ue?yield Es(I,x,k,rt,At):"config"===Ue?yield mh(I,x,k,G,rt,At):"consent"===Ue?I("consent","update",At):I("set",rt)}catch(Lt){ci.error(Lt)}})).apply(this,arguments)}return function de(Ue,rt,At){return ye.apply(this,arguments)}}(ye,I,x,k),{gtagCore:ye,wrappedGtag:window[de]}}(sr,Jo,so,Xo,"gtag");ts=ye,ea=Ue,zu=!0}return sr[G]=function wh(I,x,k,G,de,ye,Ue){return Qo.apply(this,arguments)}(I,Jo,so,x,ea,Xo,k),new Sl(I)}function Eh(){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,L.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(I){return!1}})).apply(this,arguments)}const wr="@firebase/analytics";!function jn(){(0,fe._registerComponent)(new le.wA(zo,(x,{options:k})=>Wu(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,fe._registerComponent)(new le.wA("analytics-internal",function I(x){try{const k=x.getProvider(zo).getImmediate();return{logEvent:(G,de,ye)=>function Hn(I,x,k,G){I=(0,ce.m9)(I),function qa(I,x,k,G,de){return Zo.apply(this,arguments)}(ts,sr[I.app.options.appId],x,k,G).catch(de=>ci.error(de))}(k,G,de,ye)}}catch(k){throw Ii.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,fe.registerVersion)(wr,"0.8.0"),(0,fe.registerVersion)(wr,"0.8.0","esm2017")}();var Fs=V(341),oo=V(353),Is=V(6498),ns=V(2868),Hi=V(8915),ta=V(7770);const Th=new u.GfV("7.4.1"),Us="__angularfire_symbol__analyticsIsSupportedValue",qr="__angularfire_symbol__analyticsIsSupported",na="__angularfire_symbol__remoteConfigIsSupportedValue",qi="__angularfire_symbol__remoteConfigIsSupported",ia="__angularfire_symbol__messagingIsSupportedValue",Rr="__angularfire_symbol__messagingIsSupported";function Pc(I,x,k){if(x){if(1===x.length)return x[0];const ye=x.filter(Ue=>Ue.app===k);if(1===ye.length)return ye[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[qr]||(globalThis[qr]=Eh().then(I=>globalThis[Us]=I).catch(()=>globalThis[Us]=!1)),globalThis[Rr]||(globalThis[Rr]=bc().then(I=>globalThis[ia]=I).catch(()=>globalThis[ia]=!1)),globalThis[qi]||(globalThis[qi]=km().then(I=>globalThis[na]=I).catch(()=>globalThis[na]=!1));const is=(I,x)=>{const k=x?[x]:(0,z.C6)(),G=[];return k.forEach(de=>{de.container.getProvider(I).instances.forEach(Ue=>{G.includes(Ue)||G.push(Ue)})}),G};function ao(){}class Al{constructor(x,k=Fs.N){this.zone=x,this.delegate=k}now(){return this.delegate.now()}schedule(x,k,G){const de=this.zone;return this.delegate.schedule(function(Ue){de.runGuarded(()=>{x.apply(this,[Ue])})},k,G)}}class Cr{constructor(x){this.zone=x,this.task=null}call(x,k){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),k.pipe((0,ns.b)({next:G,complete:G,error:G})).subscribe(x).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ya=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Al(Zone.current)),this.insideAngular=k.run(()=>new Al(Zone.current,oo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function yt(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Er(I){return yt().ngZone.runOutsideAngular(()=>I())}function xn(I){return yt().ngZone.run(()=>I())}function kc(I){return yt(),function Yu(I){return function(k){return(k=k.lift(new Cr(I.ngZone))).pipe((0,Hi.R)(I.outsideAngular),(0,ta.QV)(I.insideAngular))}}(yt())(I)}const Vs=(I,x)=>function(){const G=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),xn(()=>I.apply(void 0,G))},ra=(I,x)=>function(){let k;const G=arguments;for(let ye=0;ye<arguments.length;ye++)"function"==typeof G[ye]&&(x&&(k||(k=xn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)))),G[ye]=Vs(G[ye],k));const de=Er(()=>I.apply(this,G));if(!x){if(de instanceof Is.y){const ye=yt();return de.pipe((0,Hi.R)(ye.outsideAngular),(0,ta.QV)(ye.insideAngular))}return xn(()=>de)}return de instanceof Is.y?de.pipe(kc):de instanceof Promise?xn(()=>new Promise((ye,Ue)=>de.then(rt=>xn(()=>ye(rt)),rt=>xn(()=>Ue(rt))))):"function"==typeof de&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),de.apply(this,arguments)}:xn(()=>de)}},8554:(ot,Ae,V)=>{"use strict";V.d(Ae,{$:()=>io,A:()=>W,B:()=>Le,G:()=>Kn,H:()=>gt,J:()=>ve,L:()=>bn,M:()=>dl,N:()=>Iu,P:()=>Th,Q:()=>hl,R:()=>Rm,T:()=>pc,U:()=>Ps,V:()=>Pr,W:()=>vs,X:()=>lp,Y:()=>ka,Z:()=>Nt,_:()=>cp,a:()=>Ns,a0:()=>dh,a1:()=>Ti,a2:()=>gl,a3:()=>ml,a4:()=>hh,a5:()=>up,a6:()=>Si,a7:()=>Xr,a8:()=>Va,a9:()=>ws,aA:()=>Ki,aB:()=>Di,aC:()=>Vs,aD:()=>Yu,aE:()=>hn,aI:()=>Wo,aL:()=>No,aa:()=>fh,ab:()=>yc,ac:()=>vc,af:()=>ph,ag:()=>gh,ah:()=>Ou,ak:()=>Zr,al:()=>Cc,an:()=>Vu,ao:()=>$a,ap:()=>wi,aq:()=>ke,ar:()=>dn,as:()=>bt,at:()=>Ve,au:()=>Ml,av:()=>Nr,aw:()=>Qe,ax:()=>Ie,ay:()=>he,az:()=>gn,b:()=>Ii,c:()=>Dl,d:()=>ao,e:()=>Pc,f:()=>x,g:()=>rt,h:()=>de,i:()=>Yo,j:()=>Bt,k:()=>xh,l:()=>xc,m:()=>oa,n:()=>td,o:()=>oe,r:()=>Fs,s:()=>at,u:()=>Hi});var u=V(5861),z=V(2090),L=V(9681),fe=V(655),ce=V(1877),le=V(4859);const oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Me=new ce.Yd("@firebase/auth");function $e(C,..._){Me.logLevel<=ce.in.ERROR&&Me.error(`Auth (${L.SDK_VERSION}): ${C}`,..._)}function Ve(C,..._){throw Qt(C,..._)}function Qe(C,..._){return Qt(C,..._)}function _t(C,_,y){const T=Object.assign(Object.assign({},Be()),{[_]:y});return new z.LL("auth","Firebase",T).create(_,{appName:C.name})}function Ct(C,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&Ve(C,"argument-error"),_t(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qt(C,..._){if("string"!=typeof C){const y=_[0],T=[..._.slice(1)];return T[0]&&(T[0].appName=C.name),C._errorFactory.create(y,...T)}return Fe.create(C,..._)}function Ie(C,_,...y){if(!C)throw Qt(_,...y)}function Pe(C){const _="INTERNAL ASSERTION FAILED: "+C;throw $e(_),new Error(_)}function ke(C,_){C||Pe(_)}const ae=new Map;function he(C){ke(C instanceof Function,"Expected a class definition");let _=ae.get(C);return _?(ke(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,ae.set(C,_),_)}function ze(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ze(){return"http:"===vt()||"https:"===vt()}function vt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Xe{constructor(_,y){this.shortDelay=_,this.longDelay=y,ke(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function nn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function In(C,_){ke(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class Pn{static initialize(_,y,T){this.fetchImpl=_,y&&(this.headersImpl=y),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const un={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jt=new Xe(3e4,6e4);function jt(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function Ut(C,_,y,T){return vn.apply(this,arguments)}function vn(){return(vn=(0,u.Z)(function*(C,_,y,T,O={}){return tr(C,O,(0,u.Z)(function*(){let B={},ge={};T&&("GET"===_?ge=T:B={body:JSON.stringify(T)});const Ne=(0,z.xO)(Object.assign({key:C.config.apiKey},ge)).slice(1),nt=yield C._getAdditionalHeaders();return nt["Content-Type"]="application/json",C.languageCode&&(nt["X-Firebase-Locale"]=C.languageCode),Pn.fetch()(ji(C,C.config.apiHost,y,Ne),Object.assign({method:_,headers:nt,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function tr(C,_,y){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,u.Z)(function*(C,_,y){C._canInitEmulator=!1;const T=Object.assign(Object.assign({},un),_);try{const O=new bi(C),B=yield Promise.race([y(),O.promise]);O.clearNetworkTimeout();const ge=yield B.json();if("needConfirmation"in ge)throw kn(C,"account-exists-with-different-credential",ge);if(B.ok&&!("errorMessage"in ge))return ge;{const Ne=B.ok?ge.errorMessage:ge.error.message,[nt,ht]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===nt)throw kn(C,"credential-already-in-use",ge);if("EMAIL_EXISTS"===nt)throw kn(C,"email-already-in-use",ge);if("USER_DISABLED"===nt)throw kn(C,"user-disabled",ge);const Gt=T[nt]||nt.toLowerCase().replace(/[_\s]+/g,"-");if(ht)throw _t(C,Gt,ht);Ve(C,Gt)}}catch(O){if(O instanceof z.ZR)throw O;Ve(C,"network-request-failed")}})).apply(this,arguments)}function Kt(C,_,y,T){return dr.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(C,_,y,T,O={}){const B=yield Ut(C,_,y,T,O);return"mfaPendingCredential"in B&&Ve(C,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function ji(C,_,y,T){const O=`${_}${y}?${T}`;return C.config.emulator?In(C.config,O):`${C.config.apiScheme}://${O}`}class bi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,T)=>{this.timer=setTimeout(()=>T(Qe(this.auth,"network-request-failed")),Jt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(C,_,y){const T={appName:C.name};y.email&&(T.email=y.email),y.phoneNumber&&(T.phoneNumber=y.phoneNumber);const O=Qe(C,_,T);return O.customData._tokenResponse=y,O}function oi(){return(oi=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function et(C,_){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Wn(C,_){return pn.apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Tn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Rn(){return(Rn=(0,u.Z)(function*(C,_=!1){const y=(0,z.m9)(C),T=yield y.getIdToken(_),O=ft(T);Ie(O&&O.exp&&O.auth_time&&O.iat,y.auth,"internal-error");const B="object"==typeof O.firebase?O.firebase:void 0,ge=null==B?void 0:B.sign_in_provider;return{claims:O,token:T,authTime:Tn(Dn(O.auth_time)),issuedAtTime:Tn(Dn(O.iat)),expirationTime:Tn(Dn(O.exp)),signInProvider:ge||null,signInSecondFactor:(null==B?void 0:B.sign_in_second_factor)||null}})).apply(this,arguments)}function Dn(C){return 1e3*Number(C)}function ft(C){var _;const[y,T,O]=C.split(".");if(void 0===y||void 0===T||void 0===O)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,z.tV)(T);return B?JSON.parse(B):($e("Failed to decode base64 JWT payload"),null)}catch(B){return $e("Caught error parsing JWT payload as JSON",null===(_=B)||void 0===_?void 0:_.toString()),null}}function kt(C,_){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(C,_,y=!1){if(y)return _;try{return yield _}catch(T){throw T instanceof z.ZR&&gi(T)&&C.auth.currentUser===C&&(yield C.auth.signOut()),T}})).apply(this,arguments)}function gi({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ai{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const O=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,O)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const T=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),T)}iteration(){var _=this;return(0,u.Z)(function*(){var y;try{yield _.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(y=T)||void 0===y?void 0:y.code)&&_.schedule(!0))}_.schedule()})()}}class St{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tn(this.lastLoginAt),this.creationTime=Tn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fi(C){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,u.Z)(function*(C){var _;const y=C.auth,T=yield C.getIdToken(),O=yield kt(C,Wn(y,{idToken:T}));Ie(null==O?void 0:O.users.length,y,"internal-error");const B=O.users[0];C._notifyReloadListener(B);const ge=null!==(_=B.providerUserInfo)&&void 0!==_&&_.length?J(B.providerUserInfo):[],Ne=re(C.providerData,ge),Gt=!!C.isAnonymous&&!(C.email&&B.passwordHash||null!=Ne&&Ne.length),$n={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:Ne,metadata:new St(B.createdAt,B.lastLoginAt),isAnonymous:Gt};Object.assign(C,$n)})).apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(C){const _=(0,z.m9)(C);yield Fi(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function re(C,_){return[...C.filter(T=>!_.some(O=>O.providerId===T.providerId)),..._]}function J(C){return C.map(_=>{var{providerId:y}=_,T=(0,fe._T)(_,["providerId"]);return{providerId:y,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function te(){return(te=(0,u.Z)(function*(C,_){const y=yield tr(C,{},(0,u.Z)(function*(){const T=(0,z.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:O,apiKey:B}=C.config,ge=ji(C,O,"/v1/token",`key=${B}`),Ne=yield C._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",Pn.fetch()(ge,{method:"POST",headers:Ne,body:T})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ie(_.idToken,"internal-error"),Ie(void 0!==_.idToken,"internal-error"),Ie(void 0!==_.refreshToken,"internal-error");const y="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function pt(C){const _=ft(C);return Ie(_,"internal-error"),Ie(void 0!==_.exp,"internal-error"),Ie(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var T=this;return(0,u.Z)(function*(){return Ie(!T.accessToken||T.refreshToken,_,"user-token-expired"),y||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(_,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var T=this;return(0,u.Z)(function*(){const{accessToken:O,refreshToken:B,expiresIn:ge}=yield function q(C,_){return te.apply(this,arguments)}(_,y);T.updateTokensAndExpiration(O,B,Number(ge))})()}updateTokensAndExpiration(_,y,T){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(_,y){const{refreshToken:T,accessToken:O,expirationTime:B}=y,ge=new ne;return T&&(Ie("string"==typeof T,"internal-error",{appName:_}),ge.refreshToken=T),O&&(Ie("string"==typeof O,"internal-error",{appName:_}),ge.accessToken=O),B&&(Ie("number"==typeof B,"internal-error",{appName:_}),ge.expirationTime=B),ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ne,this.toJSON())}_performRefresh(){return Pe("not implemented")}}function Re(C,_){Ie("string"==typeof C||void 0===C,"internal-error",{appName:_})}class Ye{constructor(_){var{uid:y,auth:T,stsTokenManager:O}=_,B=(0,fe._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=T,this.stsTokenManager=O,this.accessToken=O.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new St(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,u.Z)(function*(){const T=yield kt(y,y.stsTokenManager.getToken(y.auth,_));return Ie(T,y.auth,"internal-error"),y.accessToken!==T&&(y.accessToken=T,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),T})()}getIdTokenResult(_){return function On(C){return Rn.apply(this,arguments)}(this,_)}reload(){return function nr(C){return zt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ie(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ye(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var T=this;return(0,u.Z)(function*(){let O=!1;_.idToken&&_.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(_),O=!0),y&&(yield Fi(T)),yield T.auth._persistUserIfCurrent(T),O&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var _=this;return(0,u.Z)(function*(){const y=yield _.getIdToken();return yield kt(_,function Ni(C,_){return oi.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var T,O,B,ge,Ne,nt,ht,Gt;const $n=null!==(T=y.displayName)&&void 0!==T?T:void 0,Lr=null!==(O=y.email)&&void 0!==O?O:void 0,aa=null!==(B=y.phoneNumber)&&void 0!==B?B:void 0,nd=null!==(ge=y.photoURL)&&void 0!==ge?ge:void 0,Vm=null!==(Ne=y.tenantId)&&void 0!==Ne?Ne:void 0,Nc=null!==(nt=y._redirectEventId)&&void 0!==nt?nt:void 0,id=null!==(ht=y.createdAt)&&void 0!==ht?ht:void 0,tl=null!==(Gt=y.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:Cp,emailVerified:Bm,isAnonymous:kh,providerData:Oh,stsTokenManager:Ep}=y;Ie(Cp&&Ep,_,"internal-error");const Rh=ne.fromJSON(this.name,Ep);Ie("string"==typeof Cp,_,"internal-error"),Re($n,_.name),Re(Lr,_.name),Ie("boolean"==typeof Bm,_,"internal-error"),Ie("boolean"==typeof kh,_,"internal-error"),Re(aa,_.name),Re(nd,_.name),Re(Vm,_.name),Re(Nc,_.name),Re(id,_.name),Re(tl,_.name);const kl=new Ye({uid:Cp,auth:_,email:Lr,emailVerified:Bm,displayName:$n,isAnonymous:kh,photoURL:nd,phoneNumber:aa,tenantId:Vm,stsTokenManager:Rh,createdAt:id,lastLoginAt:tl});return Oh&&Array.isArray(Oh)&&(kl.providerData=Oh.map(Tp=>Object.assign({},Tp))),Nc&&(kl._redirectEventId=Nc),kl}static _fromIdTokenResponse(_,y,T=!1){return(0,u.Z)(function*(){const O=new ne;O.updateFromServerResponse(y);const B=new Ye({uid:y.localId,auth:_,stsTokenManager:O,isAnonymous:T});return yield Fi(B),B})()}}const bn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,T){var O=this;return(0,u.Z)(function*(){O.storage[y]=T})()}_get(y){var T=this;return(0,u.Z)(function*(){const O=T.storage[y];return void 0===O?null:O})()}_remove(y){var T=this;return(0,u.Z)(function*(){delete T.storage[y]})()}_addListener(y,T){}_removeListener(y,T){}}return C.type="NONE",C})();function gn(C,_,y){return`firebase:${C}:${_}:${y}`}class ii{constructor(_,y,T){this.persistence=_,this.auth=y,this.userKey=T;const{config:O,name:B}=this.auth;this.fullUserKey=gn(this.userKey,O.apiKey,B),this.fullPersistenceKey=gn("persistence",O.apiKey,B),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?Ye._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,u.Z)(function*(){if(y.persistence===_)return;const T=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,T?y.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,T="authUser"){return(0,u.Z)(function*(){if(!y.length)return new ii(he(bn),_,T);const O=(yield Promise.all(y.map(function(){var ht=(0,u.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return ht.apply(this,arguments)}}()))).filter(ht=>ht);let B=O[0]||he(bn);const ge=gn(T,_.config.apiKey,_.name);let Ne=null;for(const ht of y)try{const Gt=yield ht._get(ge);if(Gt){const $n=Ye._fromJSON(_,Gt);ht!==B&&(Ne=$n),B=ht;break}}catch(Gt){}const nt=O.filter(ht=>ht._shouldAllowMigration);return B._shouldAllowMigration&&nt.length?(B=nt[0],Ne&&(yield B._set(ge,Ne.toJSON())),yield Promise.all(y.map(function(){var ht=(0,u.Z)(function*(Gt){if(Gt!==B)try{yield Gt._remove(ge)}catch($n){}});return function(Gt){return ht.apply(this,arguments)}}())),new ii(B,_,T)):new ii(B,_,T)})()}}function pe(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Je(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(K(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ot(_))return"Blackberry";if(Yt(_))return"Webos";if(X(_))return"Safari";if((_.includes("chrome/")||De(_))&&!_.includes("edge/"))return"Chrome";if(bt(_))return"Android";{const T=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function K(C=(0,z.z$)()){return/firefox\//i.test(C)}function X(C=(0,z.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function De(C=(0,z.z$)()){return/crios\//i.test(C)}function Je(C=(0,z.z$)()){return/iemobile/i.test(C)}function bt(C=(0,z.z$)()){return/android/i.test(C)}function Ot(C=(0,z.z$)()){return/blackberry/i.test(C)}function Yt(C=(0,z.z$)()){return/webos/i.test(C)}function dn(C=(0,z.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function wi(C=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function hr(C=(0,z.z$)()){return dn(C)||bt(C)||Yt(C)||Ot(C)||/windows phone/i.test(C)||Je(C)}function tt(C,_=[]){let y;switch(C){case"Browser":y=pe((0,z.z$)());break;case"Worker":y=`${pe((0,z.z$)())}-${C}`;break;default:y=C}const T=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${L.SDK_VERSION}/${T}`}class Mt{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const T=B=>new Promise((ge,Ne)=>{try{ge(_(B))}catch(nt){Ne(nt)}});T.onAbort=y,this.queue.push(T);const O=this.queue.length-1;return()=>{this.queue[O]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,u.Z)(function*(){var T;if(y.auth.currentUser===_)return;const O=[];try{for(const B of y.queue)yield B(_),B.onAbort&&O.push(B.onAbort)}catch(B){O.reverse();for(const ge of O)try{ge()}catch(Ne){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=B)||void 0===T?void 0:T.message})}})()}}class mn{constructor(_,y,T){this.app=_,this.heartbeatServiceProvider=y,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(_,y){var T=this;return y&&(this._popupRedirectResolver=he(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var O,B;if(!T._deleted&&(T.persistenceManager=yield ii.create(T,_),!T._deleted)){if(null!==(O=T._popupRedirectResolver)&&void 0!==O&&O._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch(ge){}yield T.initializeCurrentUser(y),T.lastNotifiedUid=(null===(B=T.currentUser)||void 0===B?void 0:B.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,u.Z)(function*(){var T;const O=yield y.assertedPersistence.getCurrentUser();let B=O,ge=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ne=null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId,nt=null==B?void 0:B._redirectEventId,ht=yield y.tryRedirectSignIn(_);(!Ne||Ne===nt)&&(null==ht?void 0:ht.user)&&(B=ht.user,ge=!0)}if(!B)return y.directlySetCurrentUser(null);if(!B._redirectEventId){if(ge)try{yield y.beforeStateQueue.runMiddleware(B)}catch(Ne){B=O,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ne))}return B?y.reloadAndSetCurrentUserOrClear(B):y.directlySetCurrentUser(null)}return Ie(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===B._redirectEventId?y.directlySetCurrentUser(B):y.reloadAndSetCurrentUserOrClear(B)})()}tryRedirectSignIn(_){var y=this;return(0,u.Z)(function*(){let T=null;try{T=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch(O){yield y._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,u.Z)(function*(){var T;try{yield Fi(_)}catch(O){if("auth/network-request-failed"!==(null===(T=O)||void 0===T?void 0:T.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Vt(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,u.Z)(function*(){const T=_?(0,z.m9)(_):null;return T&&Ie(T.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(T&&T._clone(y))})()}_updateCurrentUser(_,y=!1){var T=this;return(0,u.Z)(function*(){if(!T._deleted)return _&&Ie(T.tenantId===_.tenantId,T,"tenant-id-mismatch"),y||(yield T.beforeStateQueue.runMiddleware(_)),T.queue((0,u.Z)(function*(){yield T.directlySetCurrentUser(_),T.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(he(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new z.LL("auth","Firebase",_())}onAuthStateChanged(_,y,T){return this.registerStateListener(this.authStateSubscription,_,y,T)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,T){return this.registerStateListener(this.idTokenSubscription,_,y,T)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var T=this;return(0,u.Z)(function*(){const O=yield T.getOrInitRedirectPersistenceManager(y);return null===_?O.removeCurrentUser():O.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const T=_&&he(_)||y._popupRedirectResolver;Ie(T,y,"argument-error"),y.redirectPersistenceManager=yield ii.create(y,[he(T._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,u.Z)(function*(){var T,O;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(T=y._currentUser)||void 0===T?void 0:T._redirectEventId)===_?y._currentUser:(null===(O=y.redirectUser)||void 0===O?void 0:O._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,u.Z)(function*(){if(_===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,T,O){if(this._deleted)return()=>{};const B="function"==typeof y?y:y.next.bind(y),ge=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(ge,this,"internal-error"),ge.then(()=>B(this.currentUser)),"function"==typeof y?_.addObserver(y,T,O):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=tt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var y;const T={"X-Client-Version":_.clientVersion};_.app.options.appId&&(T["X-Firebase-gmpid"]=_.app.options.appId);const O=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return O&&(T["X-Firebase-Client"]=O),T})()}}function hn(C){return(0,z.m9)(C)}class $i{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,z.ne)(y=>this.observer=y)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kn(C,_,y){const T=hn(C);Ie(T._canInitEmulator,T,"emulator-config-failed"),Ie(/^https?:\/\//.test(_),T,"invalid-emulator-scheme");const O=!(null==y||!y.disableWarnings),B=Ar(_),{host:ge,port:Ne}=function Vn(C){const _=Ar(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!y)return{host:"",port:null};const T=y[2].split("@").pop()||"",O=/^(\[[^\]]+\])(:|$)/.exec(T);if(O){const B=O[1];return{host:B,port:Hr(T.substr(B.length+1))}}{const[B,ge]=T.split(":");return{host:B,port:Hr(ge)}}}(_);T.config.emulator={url:`${B}//${ge}${null===Ne?"":`:${Ne}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:ge,port:Ne,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:O})}),O||function yr(){function C(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Ar(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function Hr(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class gt{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return Pe("not implemented")}_getIdTokenResponse(_){return Pe("not implemented")}_linkToIdToken(_,y){return Pe("not implemented")}_getReauthenticationResolver(_){return Pe("not implemented")}}function xr(C,_){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:resetPassword",jt(C,_))})).apply(this,arguments)}function ir(C,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Nn(C,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:update",jt(C,_))})).apply(this,arguments)}function Mi(){return(Mi=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithPassword",jt(C,_))})).apply(this,arguments)}function Pi(C,_){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:sendOobCode",jt(C,_))})).apply(this,arguments)}function _n(C,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(C,_){return Pi(C,_)})).apply(this,arguments)}function xa(C,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(C,_){return Pi(C,_)})).apply(this,arguments)}function zi(C,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(C,_){return Pi(C,_)})).apply(this,arguments)}function $r(C,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(C,_){return Pi(C,_)})).apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,_))})).apply(this,arguments)}function Ma(){return(Ma=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithEmailLink",jt(C,_))})).apply(this,arguments)}class Xs extends gt{constructor(_,y,T,O=null){super("password",T),this._email=_,this._password=y,this._tenantId=O}static _fromEmailAndPassword(_,y){return new Xs(_,y,"password")}static _fromEmailAndCode(_,y,T=null){return new Xs(_,y,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return function Qr(C,_){return Mi.apply(this,arguments)}(_,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Wi(C,_){return Js.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:Ve(_,"internal-error")}})()}_linkToIdToken(_,y){var T=this;return(0,u.Z)(function*(){switch(T.signInMethod){case"password":return ir(_,{idToken:y,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function hc(C,_){return Ma.apply(this,arguments)}(_,{idToken:y,email:T._email,oobCode:T._password});default:Ve(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function N(C,_){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithIdp",jt(C,_))})).apply(this,arguments)}class ve extends gt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new ve(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):Ve("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:O}=y,B=(0,fe._T)(y,["providerId","signInMethod"]);if(!T||!O)return null;const ge=new ve(T,O);return ge.idToken=B.idToken||void 0,ge.accessToken=B.accessToken||void 0,ge.secret=B.secret,ge.nonce=B.nonce,ge.pendingToken=B.pendingToken||null,ge}_getIdTokenResponse(_){return N(_,this.buildRequest())}_linkToIdToken(_,y){const T=this.buildRequest();return T.idToken=y,N(_,T)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,N(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,z.xO)(y)}return _}}function We(C,_){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:sendVerificationCode",jt(C,_))})).apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,_))})).apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(C,_){const y=yield Kt(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,_));if(y.temporaryProof)throw kn(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const zr={USER_NOT_FOUND:"user-not-found"};function fc(){return(fc=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithPhoneNumber",jt(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),zr)})).apply(this,arguments)}class ko extends gt{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new ko({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new ko({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function Wt(C,_){return Zn.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function Gn(C,_){return ki.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function ap(C,_){return fc.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:T,verificationCode:O}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:T,code:O}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:T,phoneNumber:O,temporaryProof:B}=_;return T||y||O||B?new ko({verificationId:y,verificationCode:T,phoneNumber:O,temporaryProof:B}):null}}class Oo{constructor(_){var y,T,O,B,ge,Ne;const nt=(0,z.zd)((0,z.pd)(_)),ht=null!==(y=nt.apiKey)&&void 0!==y?y:null,Gt=null!==(T=nt.oobCode)&&void 0!==T?T:null,$n=function Tu(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(O=nt.mode)&&void 0!==O?O:null);Ie(ht&&Gt&&$n,"argument-error"),this.apiKey=ht,this.operation=$n,this.code=Gt,this.continueUrl=null!==(B=nt.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(ge=nt.languageCode)&&void 0!==ge?ge:null,this.tenantId=null!==(Ne=nt.tenantId)&&void 0!==Ne?Ne:null}static parseLink(_){const y=function Su(C){const _=(0,z.zd)((0,z.pd)(C)).link,y=_?(0,z.zd)((0,z.pd)(_)).deep_link_id:null,T=(0,z.zd)((0,z.pd)(C)).deep_link_id;return(T?(0,z.zd)((0,z.pd)(T)).link:null)||T||y||_||C}(_);try{return new Oo(y)}catch(T){return null}}}let dl=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,T){return Xs._fromEmailAndPassword(y,T)}static credentialWithLink(y,T){const O=Oo.parseLink(T);return Ie(O,"argument-error"),Xs._fromEmailAndCode(y,O.code,O.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Zi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ro extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Ps extends Ro{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return Ie("providerId"in y&&"signInMethod"in y,"argument-error"),ve._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ie(_.idToken||_.accessToken,"argument-error"),ve._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Ps.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Ps.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:T,oauthTokenSecret:O,pendingToken:B,nonce:ge,providerId:Ne}=_;if(!T&&!O&&!y&&!B||!Ne)return null;try{return new Ps(Ne)._credential({idToken:y,accessToken:T,nonce:ge,pendingToken:B})}catch(nt){return null}}}let Iu=(()=>{class C extends Ro{constructor(){super("facebook.com")}static credential(y){return ve._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(T){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),hl=(()=>{class C extends Ro{constructor(){super("google.com"),this.addScope("profile")}static credential(y,T){return ve._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:T})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:T,oauthAccessToken:O}=y;if(!T&&!O)return null;try{return C.credential(T,O)}catch(B){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),pc=(()=>{class C extends Ro{constructor(){super("github.com")}static credential(y){return ve._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(T){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class No extends gt{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return N(_,this.buildRequest())}_linkToIdToken(_,y){const T=this.buildRequest();return T.idToken=y,N(_,T)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,N(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:T,signInMethod:O,pendingToken:B}=y;return T&&O&&B&&T===O?new No(T,B):null}static _create(_,y){return new No(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pr extends Zi{constructor(_){Ie(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Pr.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Pr.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=No.fromJSON(_);return Ie(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:T}=_;if(!y||!T)return null;try{return No._create(T,y)}catch(O){return null}}}let vs=(()=>{class C extends Ro{constructor(){super("twitter.com")}static credential(y,T){return ve._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:T})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:T,oauthTokenSecret:O}=y;if(!T||!O)return null;try{return C.credential(T,O)}catch(B){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function vr(C,_){return to.apply(this,arguments)}function to(){return(to=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signUp",jt(C,_))})).apply(this,arguments)}class Wr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,T,O=!1){return(0,u.Z)(function*(){const B=yield Ye._fromIdTokenResponse(_,T,O),ge=Pa(T);return new Wr({user:B,providerId:ge,_tokenResponse:T,operationType:y})})()}static _forOperation(_,y,T){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(T,!0);const O=Pa(T);return new Wr({user:_,providerId:O,_tokenResponse:T,operationType:y})})()}}function Pa(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function lp(C){return gc.apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(C){var _;const y=hn(C);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new Wr({user:y.currentUser,providerId:null,operationType:"signIn"});const T=yield vr(y,{returnSecureToken:!0}),O=yield Wr._fromIdTokenResponse(y,"signIn",T,!0);return yield y._updateCurrentUser(O.user),O})).apply(this,arguments)}class ri extends z.ZR{constructor(_,y,T,O){var B;super(y.code,y.message),this.operationType=T,this.user=O,Object.setPrototypeOf(this,ri.prototype),this.customData={appName:_.name,tenantId:null!==(B=_.tenantId)&&void 0!==B?B:void 0,_serverResponse:y.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(_,y,T,O){return new ri(_,y,T,O)}}function Au(C,_,y,T){return("reauthenticate"===_?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?ri._fromErrorAndOperation(C,B,_,T):B})}function uh(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function Zr(C,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(C,_){const y=(0,z.m9)(C);yield Jr(!0,y,_);const{providerUserInfo:T}=yield et(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),O=uh(T||[]);return y.providerData=y.providerData.filter(B=>O.has(B.providerId)),O.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function fl(C,_){return no.apply(this,arguments)}function no(){return(no=(0,u.Z)(function*(C,_,y=!1){const T=yield kt(C,_._linkToIdToken(C.auth,yield C.getIdToken()),y);return Wr._forOperation(C,"link",T)})).apply(this,arguments)}function Jr(C,_,y){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(C,_,y){yield Fi(_);const O=!1===C?"provider-already-linked":"no-such-provider";Ie(uh(_.providerData).has(y)===C,_.auth,O)})).apply(this,arguments)}function pl(C,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(C,_,y=!1){var T;const{auth:O}=C,B="reauthenticate";try{const ge=yield kt(C,Au(O,B,_,C),y);Ie(ge.idToken,O,"internal-error");const Ne=ft(ge.idToken);Ie(Ne,O,"internal-error");const{sub:nt}=Ne;return Ie(C.uid===nt,O,"user-mismatch"),Wr._forOperation(C,B,ge)}catch(ge){throw"auth/user-not-found"===(null===(T=ge)||void 0===T?void 0:T.code)&&Ve(O,"user-mismatch"),ge}})).apply(this,arguments)}function mc(C,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(C,_,y=!1){const T="signIn",O=yield Au(C,T,_),B=yield Wr._fromIdTokenResponse(C,T,O);return y||(yield C._updateCurrentUser(B.user)),B})).apply(this,arguments)}function ka(C,_){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(C,_){return mc(hn(C),_)})).apply(this,arguments)}function Nt(C,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(C,_){const y=(0,z.m9)(C);return yield Jr(!1,y,_.providerId),fl(y,_)})).apply(this,arguments)}function cp(C,_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(C,_){return pl((0,z.m9)(C),_)})).apply(this,arguments)}function xu(C,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(C,_){return Kt(C,"POST","/v1/accounts:signInWithCustomToken",jt(C,_))})).apply(this,arguments)}function io(C,_){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(C,_){const y=hn(C),T=yield xu(y,{token:_,returnSecureToken:!0}),O=yield Wr._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(O.user),O})).apply(this,arguments)}class Lo{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?He._fromServerResponse(_,y):Ve(_,"internal-error")}}class He extends Lo{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new He(y)}}function en(C,_,y){var T;Ie((null===(T=y.url)||void 0===T?void 0:T.length)>0,C,"invalid-continue-uri"),Ie(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Ie(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(Ie(y.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function dh(C,_,y){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C),O={requestType:"PASSWORD_RESET",email:_};y&&en(T,O,y),yield xa(T,O)})).apply(this,arguments)}function Ti(C,_,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(C,_,y){yield xr((0,z.m9)(C),{oobCode:_,newPassword:y})})).apply(this,arguments)}function gl(C,_){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(C,_){yield Nn((0,z.m9)(C),{oobCode:_})})).apply(this,arguments)}function ml(C,_){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(C,_){const y=(0,z.m9)(C),T=yield xr(y,{oobCode:_}),O=T.requestType;switch(Ie(O,y,"internal-error"),O){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(T.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(T.mfaInfo,y,"internal-error");default:Ie(T.email,y,"internal-error")}let B=null;return T.mfaInfo&&(B=Lo._fromServerResponse(hn(y),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:B},operation:O}})).apply(this,arguments)}function hh(C,_){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(C,_){const{data:y}=yield ml((0,z.m9)(C),_);return y.email})).apply(this,arguments)}function up(C,_,y){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(C,_,y){const T=hn(C),O=yield vr(T,{returnSecureToken:!0,email:_,password:y}),B=yield Wr._fromIdTokenResponse(T,"signIn",O);return yield T._updateCurrentUser(B.user),B})).apply(this,arguments)}function Si(C,_,y){return ka((0,z.m9)(C),dl.credential(_,y))}function Xr(C,_,y){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C),O={requestType:"EMAIL_SIGNIN",email:_};Ie(y.handleCodeInApp,T,"argument-error"),y&&en(T,O,y),yield zi(T,O)})).apply(this,arguments)}function Va(C,_){const y=Oo.parseLink(_);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function ws(C,_,y){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C),O=dl.credentialWithLink(_,y||ze());return Ie(O._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),ka(T,O)})).apply(this,arguments)}function _c(C,_){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:createAuthUri",jt(C,_))})).apply(this,arguments)}function fh(C,_){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,u.Z)(function*(C,_){const T={identifier:_,continueUri:Ze()?ze():"http://localhost"},{signinMethods:O}=yield _c((0,z.m9)(C),T);return O||[]})).apply(this,arguments)}function yc(C,_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(C,_){const y=(0,z.m9)(C),O={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&en(y.auth,O,_);const{email:B}=yield _n(y.auth,O);B!==C.email&&(yield C.reload())})).apply(this,arguments)}function vc(C,_,y){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};y&&en(T.auth,B,y);const{email:ge}=yield $r(T.auth,B);ge!==C.email&&(yield C.reload())})).apply(this,arguments)}function ku(C,_){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(C,_){return Ut(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ph(C,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(C,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const T=(0,z.m9)(C),B={idToken:yield T.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},ge=yield kt(T,ku(T.auth,B));T.displayName=ge.displayName||null,T.photoURL=ge.photoUrl||null;const Ne=T.providerData.find(({providerId:nt})=>"password"===nt);Ne&&(Ne.displayName=T.displayName,Ne.photoURL=T.photoURL),yield T._updateTokensIfNecessary(ge)})).apply(this,arguments)}function gh(C,_){return Os((0,z.m9)(C),_,null)}function Ou(C,_){return Os((0,z.m9)(C),null,_)}function Os(C,_,y){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(C,_,y){const{auth:T}=C,B={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(B.email=_),y&&(B.password=y);const ge=yield kt(C,ir(T,B));yield C._updateTokensIfNecessary(ge,!0)})).apply(this,arguments)}class Qn{constructor(_,y,T={}){this.isNewUser=_,this.providerId=y,this.profile=T}}class Cs extends Qn{constructor(_,y,T,O){super(_,y,T),this.username=O}}class Jn extends Qn{constructor(_,y){super(_,"facebook.com",y)}}class bc extends Cs{constructor(_,y){super(_,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class wc extends Qn{constructor(_,y){super(_,"google.com",y)}}class Nu extends Cs{constructor(_,y,T){super(_,"twitter.com",y,T)}}function Cc(C){const{user:_,_tokenResponse:y}=C;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ru(C){var _,y;if(!C)return null;const{providerId:T}=C,O=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},B=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!T&&(null==C?void 0:C.idToken)){const ge=null===(y=null===(_=ft(C.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(ge)return new Qn(B,"anonymous"!==ge&&"custom"!==ge?ge:null)}if(!T)return null;switch(T){case"facebook.com":return new Jn(B,O);case"github.com":return new bc(B,O);case"google.com":return new wc(B,O);case"twitter.com":return new Nu(B,O,C.screenName||null);case"custom":case"anonymous":return new Qn(B,null);default:return new Qn(B,T,O)}}(y)}class Or{constructor(_,y){this.type=_,this.credential=y}static _fromIdtoken(_){return new Or("enroll",_)}static _fromMfaPendingCredential(_){return new Or("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,T;if(null!=_&&_.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Or._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(T=_.multiFactorSession)&&void 0!==T&&T.idToken)return Or._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ec{constructor(_,y,T){this.session=_,this.hints=y,this.signInResolver=T}static _fromError(_,y){const T=hn(_),O=y.customData._serverResponse,B=(O.mfaInfo||[]).map(Ne=>Lo._fromServerResponse(T,Ne));Ie(O.mfaPendingCredential,T,"internal-error");const ge=Or._fromMfaPendingCredential(O.mfaPendingCredential);return new Ec(ge,B,function(){var Ne=(0,u.Z)(function*(nt){const ht=yield nt._process(T,ge);delete O.mfaInfo,delete O.mfaPendingCredential;const Gt=Object.assign(Object.assign({},O),{idToken:ht.idToken,refreshToken:ht.refreshToken});switch(y.operationType){case"signIn":const $n=yield Wr._fromIdTokenResponse(T,y.operationType,Gt);return yield T._updateCurrentUser($n.user),$n;case"reauthenticate":return Ie(y.user,T,"internal-error"),Wr._forOperation(y.user,y.operationType,Gt);default:Ve(T,"internal-error")}});return function(nt){return Ne.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,u.Z)(function*(){return y.signInResolver(_)})()}}function Vu(C,_){var y;const T=(0,z.m9)(C),O=_;return Ie(_.customData.operationType,T,"argument-error"),Ie(null===(y=O.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,T,"argument-error"),Ec._fromError(T,O)}function ci(C,_){return Ut(C,"POST","/v2/accounts/mfaEnrollment:start",jt(C,_))}class wl{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(T=>Lo._fromServerResponse(_.auth,T)))})}static _fromUser(_){return new wl(_)}getSession(){var _=this;return(0,u.Z)(function*(){return Or._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,y){var T=this;return(0,u.Z)(function*(){const O=_,B=yield T.getSession(),ge=yield kt(T.user,O._process(T.user.auth,B,y));return yield T.user._updateTokensIfNecessary(ge),T.user.reload()})()}unenroll(_){var y=this;return(0,u.Z)(function*(){var T;const O="string"==typeof _?_:_.uid,B=yield y.user.getIdToken(),ge=yield kt(y.user,function bl(C,_){return Ut(C,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(C,_))}(y.user.auth,{idToken:B,mfaEnrollmentId:O}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ne})=>Ne!==O),yield y.user._updateTokensIfNecessary(ge);try{yield y.user.reload()}catch(Ne){if("auth/user-token-expired"!==(null===(T=Ne)||void 0===T?void 0:T.code))throw Ne}})()}}const mh=new WeakMap;function $a(C){const _=(0,z.m9)(C);return mh.has(_)||mh.set(_,wl._fromUser(_)),mh.get(_)}const Es="__sak";class za{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Es,"1"),this.storage.removeItem(Es),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ii=(()=>{class C extends za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,T)=>this.onStorageEvent(y,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Tc(){const C=(0,z.z$)();return X(C)||dn(C)}()&&function Ui(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=hr(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const T of Object.keys(this.listeners)){const O=this.storage.getItem(T),B=this.localCache[T];O!==B&&y(T,B,O)}}onStorageEvent(y,T=!1){if(!y.key)return void this.forAllChangedKeys((Ne,nt,ht)=>{this.notifyListeners(Ne,ht)});const O=y.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(O);if(y.newValue!==Ne)null!==y.newValue?this.storage.setItem(O,y.newValue):this.storage.removeItem(O);else if(this.localCache[O]===y.newValue&&!T)return}const B=()=>{const Ne=this.storage.getItem(O);!T&&this.localCache[O]===Ne||this.notifyListeners(O,Ne)},ge=this.storage.getItem(O);!function Tt(){return(0,z.w1)()&&10===document.documentMode}()||ge===y.newValue||y.newValue===y.oldValue?B():setTimeout(B,10)}notifyListeners(y,T){this.localCache[y]=T;const O=this.listeners[y];if(O)for(const B of Array.from(O))B(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,T,O)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:T,newValue:O}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,T){var O=()=>super._set,B=this;return(0,u.Z)(function*(){yield O().call(B,y,T),B.localCache[y]=JSON.stringify(T)})()}_get(y){var T=()=>super._get,O=this;return(0,u.Z)(function*(){const B=yield T().call(O,y);return O.localCache[y]=JSON.stringify(B),B})()}_remove(y){var T=()=>super._remove,O=this;return(0,u.Z)(function*(){yield T().call(O,y),delete O.localCache[y]})()}}return C.type="LOCAL",C})(),Ns=(()=>{class C extends za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,T){}_removeListener(y,T){}}return C.type="SESSION",C})();let Za=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const T=this.receivers.find(B=>B.isListeningto(y));if(T)return T;const O=new C(y);return this.receivers.push(O),O}isListeningto(y){return this.eventTarget===y}handleEvent(y){var T=this;return(0,u.Z)(function*(){const O=y,{eventId:B,eventType:ge,data:Ne}=O.data,nt=T.handlersMap[ge];if(null==nt||!nt.size)return;O.ports[0].postMessage({status:"ack",eventId:B,eventType:ge});const ht=Array.from(nt).map(function(){var $n=(0,u.Z)(function*(Lr){return Lr(O.origin,Ne)});return function(Lr){return $n.apply(this,arguments)}}()),Gt=yield function Sc(C){return Promise.all(C.map(function(){var _=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(T){return{fulfilled:!1,reason:T}}});return function(y){return _.apply(this,arguments)}}()))}(ht);O.ports[0].postMessage({status:"done",eventId:B,eventType:ge,response:Gt})})()}_subscribe(y,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(T)}_unsubscribe(y,T){this.handlersMap[y]&&T&&this.handlersMap[y].delete(T),(!T||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Wo(C="",_=10){let y="";for(let T=0;T<_;T++)y+=Math.floor(10*Math.random());return C+y}class vh{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,T=50){var O=this;return(0,u.Z)(function*(){const B="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let ge,Ne;return new Promise((nt,ht)=>{const Gt=Wo("",20);B.port1.start();const $n=setTimeout(()=>{ht(new Error("unsupported_event"))},T);Ne={messageChannel:B,onMessage(Lr){const aa=Lr;if(aa.data.eventId===Gt)switch(aa.data.status){case"ack":clearTimeout($n),ge=setTimeout(()=>{ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(ge),nt(aa.data.response);break;default:clearTimeout($n),clearTimeout(ge),ht(new Error("invalid_response"))}}},O.handlers.add(Ne),B.port1.addEventListener("message",Ne.onMessage),O.target.postMessage({eventType:_,eventId:Gt,data:y},[B.port2])}).finally(()=>{Ne&&O.removeMessageHandler(Ne)})})()}}function ui(){return window}function br(){return void 0!==ui().WorkerGlobalScope&&"function"==typeof ui().importScripts}function Ts(){return(Ts=(0,u.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Ga="firebaseLocalStorageDb",qa="firebaseLocalStorage",Zo="fbase_key";class Ss{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Go(C,_){return C.transaction([qa],_?"readwrite":"readonly").objectStore(qa)}function El(){const C=indexedDB.open(Ga,1);return new Promise((_,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const T=C.result;try{T.createObjectStore(qa,{keyPath:Zo})}catch(O){y(O)}}),C.addEventListener("success",(0,u.Z)(function*(){const T=C.result;T.objectStoreNames.contains(qa)?_(T):(T.close(),yield function $u(){const C=indexedDB.deleteDatabase(Ga);return new Ss(C).toPromise()}(),_(yield El()))}))})}function Ka(C,_,y){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(C,_,y){const T=Go(C,!0).put({[Zo]:_,value:y});return new Ss(T).toPromise()})).apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(C,_){const y=Go(C,!1).get(_),T=yield new Ss(y).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Tl(C,_){const y=Go(C,!0).delete(_);return new Ss(y).toPromise()}const Yo=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield El()),y.db})()}_withRetries(y){var T=this;return(0,u.Z)(function*(){let O=0;for(;;)try{const B=yield T._openDb();return yield y(B)}catch(B){if(O++>3)throw B;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return br()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=Za._getInstance(function Cl(){return br()?self:null}()),y.receiver._subscribe("keyChanged",function(){var T=(0,u.Z)(function*(O,B){return{keyProcessed:(yield y._poll()).includes(B.key)}});return function(O,B){return T.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var T=(0,u.Z)(function*(O,B){return["keyChanged"]});return function(O,B){return T.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var T,O;if(y.activeServiceWorker=yield function ju(){return Ts.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new vh(y.activeServiceWorker);const B=yield y.sender._send("ping",{},800);!B||(null===(T=B[0])||void 0===T?void 0:T.fulfilled)&&(null===(O=B[0])||void 0===O?void 0:O.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var T=this;return(0,u.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function Ic(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:y},T.serviceWorkerReceiverAvailable?800:50)}catch(O){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield El();return yield Ka(y,Es,"1"),yield Tl(y,Es),!0}catch(y){}return!1})()}_withPendingWrite(y){var T=this;return(0,u.Z)(function*(){T.pendingWrites++;try{yield y()}finally{T.pendingWrites--}})()}_set(y,T){var O=this;return(0,u.Z)(function*(){return O._withPendingWrite((0,u.Z)(function*(){return yield O._withRetries(B=>Ka(B,y,T)),O.localCache[y]=T,O.notifyServiceWorker(y)}))})()}_get(y){var T=this;return(0,u.Z)(function*(){const O=yield T._withRetries(B=>function bh(C,_){return qo.apply(this,arguments)}(B,y));return T.localCache[y]=O,O})()}_remove(y){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(O=>Tl(O,y)),delete T.localCache[y],T.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const T=yield y._withRetries(ge=>{const Ne=Go(ge,!1).getAll();return new Ss(Ne).toPromise()});if(!T)return[];if(0!==y.pendingWrites)return[];const O=[],B=new Set;for(const{fbase_key:ge,value:Ne}of T)B.add(ge),JSON.stringify(y.localCache[ge])!==JSON.stringify(Ne)&&(y.notifyListeners(ge,Ne),O.push(ge));for(const ge of Object.keys(y.localCache))y.localCache[ge]&&!B.has(ge)&&(y.notifyListeners(ge,null),O.push(ge));return O})()}notifyListeners(y,T){this.localCache[y]=T;const O=this.listeners[y];if(O)for(const B of Array.from(O))B(T)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(T)}_removeListener(y,T){this.listeners[y]&&(this.listeners[y].delete(T),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function wh(C,_){return Ut(C,"POST","/v2/accounts/mfaSignIn:start",jt(C,_))}function sr(){return(sr=(0,u.Z)(function*(C){return(yield Ut(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function so(C){return new Promise((_,y)=>{const T=document.createElement("script");T.setAttribute("src",C),T.onload=_,T.onerror=O=>{const B=Qe("internal-error");B.customData=O,y(B)},T.type="text/javascript",T.charset="UTF-8",function Jo(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(T)})}function Xo(C){return`__${C}${Math.floor(1e6*Math.random())}`}const ts=1e12;class zu{constructor(_){this.auth=_,this.counter=ts,this._widgets=new Map}render(_,y){const T=this.counter;return this._widgets.set(T,new Bn(_,this.auth.name,y||{})),this.counter++,T}reset(_){var y;const T=_||ts;null===(y=this._widgets.get(T))||void 0===y||y.delete(),this._widgets.delete(T)}getResponse(_){var y;return(null===(y=this._widgets.get(_||ts))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,u.Z)(function*(){var T;return null===(T=y._widgets.get(_||ts))||void 0===T||T.execute(),""})()}}class Bn{constructor(_,y,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const O="string"==typeof _?document.getElementById(_):_;Ie(O,"argument-error",{appName:y}),this.container=O,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dp(C){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<C;T++)_.push(y.charAt(Math.floor(Math.random()*y.length)));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wu=Xo("rcb"),Zu=new Xe(3e4,6e4);class Eh{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=ui().grecaptcha)||void 0===_||!_.render)}load(_,y=""){return Ie(function Gu(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),_,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(ui().grecaptcha):new Promise((T,O)=>{const B=ui().setTimeout(()=>{O(Qe(_,"network-request-failed"))},Zu.get());ui()[Wu]=()=>{ui().clearTimeout(B),delete ui()[Wu];const Ne=ui().grecaptcha;if(!Ne)return void O(Qe(_,"internal-error"));const nt=Ne.render;Ne.render=(ht,Gt)=>{const $n=nt(ht,Gt);return this.counter++,$n},this.hostLanguage=y,T(Ne)},so(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Wu,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(B),O(Qe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!(null===(y=ui().grecaptcha)||void 0===y||!y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Om{load(_){return(0,u.Z)(function*(){return new zu(_)})()}clearedOneInstance(){}}const Il="recaptcha",vb={theme:"light",type:"image"};class Rm{constructor(_,y=Object.assign({},vb),T){this.parameters=y,this.type=Il,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(T),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const O="string"==typeof _?document.getElementById(_):_;Ie(O,this.auth,"argument-error"),this.container=O,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Om:new Eh,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),T=_.getAssertedRecaptcha();return T.getResponse(y)||new Promise(B=>{const ge=Ne=>{!Ne||(_.tokenChangeListeners.delete(ge),B(Ne))};_.tokenChangeListeners.add(ge),_.isInvisible&&T.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(T=>T(y)),"function"==typeof _)_(y);else if("string"==typeof _){const T=ui()[_];"function"==typeof T&&T(y)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const T=document.createElement("div");y.appendChild(T),y=T}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){Ie(Ze()&&!br(),_.auth,"internal-error"),yield function Bi(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function Sl(C){return sr.apply(this,arguments)}(_.auth);Ie(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hn{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=ko._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function at(C,_,y){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(C,_,y){const T=hn(C),O=yield Is(T,_,(0,z.m9)(y));return new Hn(O,B=>ka(T,B))})).apply(this,arguments)}function xc(C,_,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C);yield Jr(!1,T,"phone");const O=yield Is(T.auth,_,(0,z.m9)(y));return new Hn(O,B=>Nt(T,B))})).apply(this,arguments)}function Fs(C,_,y){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C),O=yield Is(T.auth,_,(0,z.m9)(y));return new Hn(O,B=>cp(T,B))})).apply(this,arguments)}function Is(C,_,y){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(C,_,y){var T;const O=yield y.verify();try{let B;if(Ie("string"==typeof O,C,"argument-error"),Ie(y.type===Il,C,"argument-error"),B="string"==typeof _?{phoneNumber:_}:_,"session"in B){const ge=B.session;if("phoneNumber"in B)return Ie("enroll"===ge.type,C,"internal-error"),(yield ci(C,{idToken:ge.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:O}})).phoneSessionInfo.sessionInfo;{Ie("signin"===ge.type,C,"internal-error");const Ne=(null===(T=B.multiFactorHint)||void 0===T?void 0:T.uid)||B.multiFactorUid;return Ie(Ne,C,"missing-multi-factor-info"),(yield wh(C,{mfaPendingCredential:ge.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:O}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ge}=yield We(C,{phoneNumber:B.phoneNumber,recaptchaToken:O});return ge}}finally{y._reset()}})).apply(this,arguments)}function Hi(C,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(C,_){yield fl((0,z.m9)(C),_)})).apply(this,arguments)}let Th=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=hn(y)}verifyPhoneNumber(y,T){return Is(this.auth,y,(0,z.m9)(T))}static credential(y,T){return ko._fromVerification(y,T)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:T,temporaryProof:O}=y;return T&&O?ko._fromTokenResponse(T,O):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Us(C,_){return _?he(_):(Ie(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class qr extends gt{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return N(_,this._buildIdpRequest())}_linkToIdToken(_,y){return N(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return N(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function na(C){return mc(C.auth,new qr(C),C.bypassAuthState)}function qi(C){const{auth:_,user:y}=C;return Ie(y,_,"internal-error"),pl(y,new qr(C),C.bypassAuthState)}function ia(C){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,u.Z)(function*(C){const{auth:_,user:y}=C;return Ie(y,_,"internal-error"),fl(y,new qr(C),C.bypassAuthState)})).apply(this,arguments)}class Mc{constructor(_,y,T,O,B=!1){this.auth=_,this.resolver=T,this.user=O,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,u.Z)(function*(T,O){_.pendingPromise={resolve:T,reject:O};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(B){_.reject(B)}});return function(T,O){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,u.Z)(function*(){const{urlResponse:T,sessionId:O,postBody:B,tenantId:ge,error:Ne,type:nt}=_;if(Ne)return void y.reject(Ne);const ht={auth:y.auth,requestUri:T,sessionId:O,tenantId:ge||void 0,postBody:B||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(nt)(ht))}catch(Gt){y.reject(Gt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return na;case"linkViaPopup":case"linkViaRedirect":return ia;case"reauthViaPopup":case"reauthViaRedirect":return qi;default:Ve(this.auth,"internal-error")}}resolve(_){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sh=new Xe(2e3,1e4);function Dl(C,_,y){return qu.apply(this,arguments)}function qu(){return(qu=(0,u.Z)(function*(C,_,y){const T=hn(C);Ct(C,_,Zi);const O=Us(T,y);return new Cr(T,"signInViaPopup",_,O).executeNotNull()})).apply(this,arguments)}function Pc(C,_,y){return is.apply(this,arguments)}function is(){return(is=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C);Ct(T.auth,_,Zi);const O=Us(T.auth,y);return new Cr(T.auth,"reauthViaPopup",_,O,T).executeNotNull()})).apply(this,arguments)}function ao(C,_,y){return Al.apply(this,arguments)}function Al(){return(Al=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C);Ct(T.auth,_,Zi);const O=Us(T.auth,y);return new Cr(T.auth,"linkViaPopup",_,O,T).executeNotNull()})).apply(this,arguments)}let Cr=(()=>{class C extends Mc{constructor(y,T,O,B,ge){super(y,T,B,ge),this.provider=O,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const T=yield y.execute();return Ie(T,y.auth,"internal-error"),T})()}onExecution(){var y=this;return(0,u.Z)(function*(){ke(1===y.filter.length,"Popup operations only handle one event");const T=Wo();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],T),y.authWindow.associatedEvent=T,y.resolver._originValidation(y.auth).catch(O=>{y.reject(O)}),y.resolver._isIframeWebStorageSupported(y.auth,O=>{O||y.reject(Qe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var T,O;this.pollId=null!==(O=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==O&&O.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Sh.get())};y()}}return C.currentPopupAction=null,C})();const yt=new Map;class Er extends Mc{constructor(_,y,T=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,T),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,u.Z)(function*(){let T=yt.get(y.auth._key());if(!T){try{const B=(yield function xn(C,_){return Qa.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;T=()=>Promise.resolve(B)}catch(O){T=()=>Promise.reject(O)}yt.set(y.auth._key(),T)}return y.bypassAuthState||yt.set(y.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,T=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(T,_);if("unknown"!==_.type){if(_.eventId){const O=yield T.auth._redirectUserForId(_.eventId);if(O)return T.user=O,y().call(T,_);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Qa(){return(Qa=(0,u.Z)(function*(C,_){const y=I(_),T=ra(C);if(!(yield T._isAvailable()))return!1;const O="true"===(yield T._get(y));return yield T._remove(y),O})).apply(this,arguments)}function Ku(C,_){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(C,_){return ra(C)._set(I(_),"true")})).apply(this,arguments)}function Yu(){yt.clear()}function Vs(C,_){yt.set(C._key(),_)}function ra(C){return he(C._redirectPersistence)}function I(C){return gn("pendingRedirect",C.config.apiKey,C.name)}function x(C,_,y){return function k(C,_,y){return G.apply(this,arguments)}(C,_,y)}function G(){return(G=(0,u.Z)(function*(C,_,y){const T=hn(C);Ct(C,_,Zi);const O=Us(T,y);return yield Ku(O,T),O._openRedirect(T,_,"signInViaRedirect")})).apply(this,arguments)}function de(C,_,y){return function ye(C,_,y){return Ue.apply(this,arguments)}(C,_,y)}function Ue(){return(Ue=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C);Ct(T.auth,_,Zi);const O=Us(T.auth,y);yield Ku(O,T.auth);const B=yield Oi(T);return O._openRedirect(T.auth,_,"reauthViaRedirect",B)})).apply(this,arguments)}function rt(C,_,y){return function At(C,_,y){return Lt.apply(this,arguments)}(C,_,y)}function Lt(){return(Lt=(0,u.Z)(function*(C,_,y){const T=(0,z.m9)(C);Ct(T.auth,_,Zi);const O=Us(T.auth,y);yield Jr(!1,T,_.providerId),yield Ku(O,T.auth);const B=yield Oi(T);return O._openRedirect(T.auth,_,"linkViaRedirect",B)})).apply(this,arguments)}function Bt(C,_){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(C,_){return yield hn(C)._initializationPromise,Di(C,_,!1)})).apply(this,arguments)}function Di(C,_){return mi.apply(this,arguments)}function mi(){return(mi=(0,u.Z)(function*(C,_,y=!1){const T=hn(C),O=Us(T,_),ge=yield new Er(T,O,y).execute();return ge&&!y&&(delete ge.user._redirectEventId,yield T._persistUserIfCurrent(ge.user),yield T._setRedirectUser(null,_)),ge})).apply(this,arguments)}function Oi(C){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(C){const _=Wo(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class Ki{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(_,T)&&(y=!0,this.sendToConsumer(_,T),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function rs(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var T;if(_.error&&!sa(_)){const O=(null===(T=_.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";y.onError(Qe(this.auth,O))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const T=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&T}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ja(_))}saveEventToCache(_){this.cachedEventUids.add(Ja(_)),this.lastProcessedEventTime=Date.now()}}function Ja(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function sa({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Nr(C){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,u.Z)(function*(C,_={}){return Ut(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Ih=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bb=/^https?/;function Qu(){return(Qu=(0,u.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Nr(C);for(const y of _)try{if(wb(y))return}catch(T){}Ve(C,"unauthorized-domain")})).apply(this,arguments)}function wb(C){const _=ze(),{protocol:y,hostname:T}=new URL(_);if(C.startsWith("chrome-extension://")){const ge=new URL(C);return""===ge.hostname&&""===T?"chrome-extension:"===y&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&ge.hostname===T}if(!bb.test(y))return!1;if(Ih.test(C))return T===C;const O=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+O+"|"+O+")$","i").test(T)}const Nm=new Xe(3e4,6e4);function fp(){const C=ui().___jsl;if(null!=C&&C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let Xa=null;function pp(C){return Xa=Xa||function Lm(C){return new Promise((_,y)=>{var T,O,B;function ge(){fp(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{fp(),y(Qe(C,"network-request-failed"))},timeout:Nm.get()})}if(null!==(O=null===(T=ui().gapi)||void 0===T?void 0:T.iframes)&&void 0!==O&&O.Iframe)_(gapi.iframes.getContext());else{if(null===(B=ui().gapi)||void 0===B||!B.load){const Ne=Xo("iframefcb");return ui()[Ne]=()=>{gapi.load?ge():y(Qe(C,"network-request-failed"))},so(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(nt=>y(nt))}ge()}}).catch(_=>{throw Xa=null,_})}(C),Xa}const gp=new Xe(5e3,15e3),mp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zt(C){const _=C.config;Ie(_.authDomain,C,"auth-domain-config-required");const y=_.emulator?In(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,T={apiKey:_.apiKey,appName:C.name,v:L.SDK_VERSION},O=Fm.get(C.config.apiHost);O&&(T.eid=O);const B=C._getFrameworks();return B.length&&(T.fw=B.join(",")),`${y}?${(0,z.xO)(T).slice(1)}`}function Xu(){return Xu=(0,u.Z)(function*(C){const _=yield pp(C),y=ui().gapi;return Ie(y,C,"internal-error"),_.open({where:document.body,url:Zt(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mp,dontclear:!0},T=>new Promise(function(){var O=(0,u.Z)(function*(B,ge){yield T.restyle({setHideOnLeave:!1});const Ne=Qe(C,"network-request-failed"),nt=ui().setTimeout(()=>{ge(Ne)},gp.get());function ht(){ui().clearTimeout(nt),B(T)}T.ping(ht).then(ht,()=>{ge(Ne)})});return function(B,ge){return O.apply(this,arguments)}}()))}),Xu.apply(this,arguments)}const lo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class yp{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Ml(C,_,y,T,O,B){Ie(C.config.authDomain,C,"auth-domain-config-required"),Ie(C.config.apiKey,C,"invalid-api-key");const ge={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:T,v:L.SDK_VERSION,eventId:O};if(_ instanceof Zi){_.setDefaultLanguage(C.languageCode),ge.providerId=_.providerId||"",(0,z.xb)(_.getCustomParameters())||(ge.customParameters=JSON.stringify(_.getCustomParameters()));for(const[nt,ht]of Object.entries(B||{}))ge[nt]=ht}if(_ instanceof Ro){const nt=_.getScopes().filter(ht=>""!==ht);nt.length>0&&(ge.scopes=nt.join(","))}C.tenantId&&(ge.tid=C.tenantId);const Ne=ge;for(const nt of Object.keys(Ne))void 0===Ne[nt]&&delete Ne[nt];return`${function bp({config:C}){return C.emulator?In(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,z.xO)(Ne).slice(1)}`}const Ah="webStorageSupport",xh=class wp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=Di,this._overrideRedirectResult=Vs}_openPopup(_,y,T,O){var B=this;return(0,u.Z)(function*(){var ge;ke(null===(ge=B.eventManagers[_._key()])||void 0===ge?void 0:ge.manager,"_initialize() not called before _openPopup()");const Ne=Ml(_,y,T,ze(),O);return function Rc(C,_,y,T=500,O=600){const B=Math.max((window.screen.availHeight-O)/2,0).toString(),ge=Math.max((window.screen.availWidth-T)/2,0).toString();let Ne="";const nt=Object.assign(Object.assign({},lo),{width:T.toString(),height:O.toString(),top:B,left:ge}),ht=(0,z.z$)().toLowerCase();y&&(Ne=De(ht)?"_blank":y),K(ht)&&(_=_||"http://localhost",nt.scrollbars="yes");const Gt=Object.entries(nt).reduce((Lr,[aa,nd])=>`${Lr}${aa}=${nd},`,"");if(function Ci(C=(0,z.z$)()){var _;return dn(C)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(ht)&&"_self"!==Ne)return function vp(C,_){const y=document.createElement("a");y.href=C,y.target=_;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(T)}(_||"",Ne),new yp(null);const $n=window.open(_||"",Ne,Gt);Ie($n,C,"popup-blocked");try{$n.focus()}catch(Lr){}return new yp($n)}(_,Ne,Wo())})()}_openRedirect(_,y,T,O){var B=this;return(0,u.Z)(function*(){return yield B._originValidation(_),function Hu(C){ui().location.href=C}(Ml(_,y,T,ze(),O)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:O,promise:B}=this.eventManagers[y];return O?Promise.resolve(O):(ke(B,"If manager is not set, promise should be"),B)}const T=this.initAndGetManager(_);return this.eventManagers[y]={promise:T},T.catch(()=>{delete this.eventManagers[y]}),T}initAndGetManager(_){var y=this;return(0,u.Z)(function*(){const T=yield function Oc(C){return Xu.apply(this,arguments)}(_),O=new Ki(_);return T.register("authEvent",B=>(Ie(null==B?void 0:B.authEvent,_,"invalid-auth-event"),{status:O.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:O},y.iframes[_._key()]=T,O})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Ah,{type:Ah},O=>{var B;const ge=null===(B=null==O?void 0:O[0])||void 0===B?void 0:B[Ah];void 0!==ge&&y(!!ge),Ve(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function hp(C){return Qu.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return hr()||X()||dn()}};class ed extends class Um{constructor(_){this.factorId=_}_process(_,y,T){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,T);case"signin":return this._finalizeSignIn(_,y.credential);default:return Pe("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new ed(_)}_finalizeEnroll(_,y,T){return function vl(C,_){return Ut(C,"POST","/v2/accounts/mfaEnrollment:finalize",jt(C,_))}(_,{idToken:y,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function Qo(C,_){return Ut(C,"POST","/v2/accounts/mfaSignIn:finalize",jt(C,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oa=(()=>{class C{constructor(){}static assertion(y){return ed._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var el="@firebase/auth";class Ph{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(T=>{var O;_((null===(O=T)||void 0===O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);!y||(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function td(C=(0,L.getApp)()){const _=(0,L._getProvider)(C,"auth");return _.isInitialized()?_.getImmediate():function Te(C,_){const y=(0,L._getProvider)(C,"auth");if(y.isInitialized()){const O=y.getImmediate(),B=y.getOptions();if((0,z.vZ)(B,null!=_?_:{}))return O;Ve(O,"already-initialized")}return y.initialize({options:_})}(C,{popupRedirectResolver:xh,persistence:[Yo,Ii,Ns]})}!function on(C){(0,L._registerComponent)(new le.wA("auth",(_,{options:y})=>{const T=_.getProvider("app").getImmediate(),O=_.getProvider("heartbeat"),{apiKey:B,authDomain:ge}=T.options;return((Ne,nt)=>{Ie(B&&!B.includes(":"),"invalid-api-key",{appName:Ne.name}),Ie(!(null!=ge&&ge.includes(":")),"argument-error",{appName:Ne.name});const ht={apiKey:B,authDomain:ge,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tt(C)},Gt=new mn(Ne,nt,ht);return function _e(C,_){const y=(null==_?void 0:_.persistence)||[],T=(Array.isArray(y)?y:[y]).map(he);null!=_&&_.errorMap&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(T,null==_?void 0:_.popupRedirectResolver)}(Gt,y),Gt})(T,O)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,T)=>{_.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new le.wA("auth-internal",_=>{const y=hn(_.getProvider("auth").getImmediate());return new Ph(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(el,"0.20.6",function Pl(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,L.registerVersion)(el,"0.20.6","esm2017")}("Browser")},2090:(ot,Ae,V)=>{"use strict";V.d(Ae,{$s:()=>Fi,BH:()=>Ce,DV:()=>Ut,Dv:()=>Tn,GJ:()=>Jt,L:()=>oe,LL:()=>ze,Pz:()=>Vt,Sg:()=>Le,UG:()=>Ee,UI:()=>tr,US:()=>le,Wj:()=>Rn,Yr:()=>Qt,ZB:()=>W,ZR:()=>_e,b$:()=>Ve,cI:()=>nn,dS:()=>ft,eu:()=>ke,g5:()=>L,gK:()=>Dr,gQ:()=>Ni,h$:()=>we,hl:()=>Pe,hu:()=>z,jU:()=>Me,lb:()=>Dn,m9:()=>zt,ne:()=>oi,p$:()=>H,pd:()=>kn,r3:()=>jt,ru:()=>$e,tV:()=>ue,uI:()=>Fe,ug:()=>pt,vZ:()=>Xt,w1:()=>_t,w9:()=>un,xO:()=>ji,xb:()=>vn,z$:()=>Be,zI:()=>ae,zd:()=>bi});const z=function(re,J){if(!re)throw L(J)},L=function(re){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+re)},fe=function(re){const J=[];let q=0;for(let te=0;te<re.length;te++){let ne=re.charCodeAt(te);ne<128?J[q++]=ne:ne<2048?(J[q++]=ne>>6|192,J[q++]=63&ne|128):55296==(64512&ne)&&te+1<re.length&&56320==(64512&re.charCodeAt(te+1))?(ne=65536+((1023&ne)<<10)+(1023&re.charCodeAt(++te)),J[q++]=ne>>18|240,J[q++]=ne>>12&63|128,J[q++]=ne>>6&63|128,J[q++]=63&ne|128):(J[q++]=ne>>12|224,J[q++]=ne>>6&63|128,J[q++]=63&ne|128)}return J},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(re,J){if(!Array.isArray(re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let ne=0;ne<re.length;ne+=3){const Re=re[ne],Ye=ne+1<re.length,Et=Ye?re[ne+1]:0,bn=ne+2<re.length,gn=bn?re[ne+2]:0;let K=(15&Et)<<2|gn>>6,X=63&gn;bn||(X=64,Ye||(K=64)),te.push(q[Re>>2],q[(3&Re)<<4|Et>>4],q[K],q[X])}return te.join("")},encodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(re):this.encodeByteArray(fe(re),J)},decodeString(re,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(re):function(re){const J=[];let q=0,te=0;for(;q<re.length;){const ne=re[q++];if(ne<128)J[te++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Re=re[q++];J[te++]=String.fromCharCode((31&ne)<<6|63&Re)}else if(ne>239&&ne<365){const bn=((7&ne)<<18|(63&re[q++])<<12|(63&re[q++])<<6|63&re[q++])-65536;J[te++]=String.fromCharCode(55296+(bn>>10)),J[te++]=String.fromCharCode(56320+(1023&bn))}else{const Re=re[q++],Ye=re[q++];J[te++]=String.fromCharCode((15&ne)<<12|(63&Re)<<6|63&Ye)}}return J.join("")}(this.decodeStringToByteArray(re,J))},decodeStringToByteArray(re,J){this.init_();const q=J?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let ne=0;ne<re.length;){const Re=q[re.charAt(ne++)],Et=ne<re.length?q[re.charAt(ne)]:0;++ne;const gn=ne<re.length?q[re.charAt(ne)]:64;++ne;const pe=ne<re.length?q[re.charAt(ne)]:64;if(++ne,null==Re||null==Et||null==gn||null==pe)throw Error();te.push(Re<<2|Et>>4),64!==gn&&(te.push(Et<<4&240|gn>>2),64!==pe&&te.push(gn<<6&192|pe))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let re=0;re<this.ENCODED_VALS.length;re++)this.byteToCharMap_[re]=this.ENCODED_VALS.charAt(re),this.charToByteMap_[this.byteToCharMap_[re]]=re,this.byteToCharMapWebSafe_[re]=this.ENCODED_VALS_WEBSAFE.charAt(re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[re]]=re,re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(re)]=re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(re)]=re)}}},we=function(re){const J=fe(re);return le.encodeByteArray(J,!0)},oe=function(re){return we(re).replace(/\./g,"")},ue=function(re){try{return le.decodeString(re,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function H(re){return W(void 0,re)}function W(re,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===re&&(re={});break;case Array:re=[];break;default:return J}for(const q in J)!J.hasOwnProperty(q)||!Q(q)||(re[q]=W(re[q],J[q]));return re}function Q(re){return"__proto__"!==re}class Ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,q)=>{this.resolve=J,this.reject=q})}wrapCallback(J){return(q,te)=>{q?this.reject(q):this.resolve(te),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(q):J(q,te))}}}function Le(re,J){if(re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=J||"demo-project",ne=re.iat||0,Re=re.sub||re.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:ne,exp:ne+3600,auth_time:ne,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},re);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Ye)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(re){return!1}}function Me(){return"object"==typeof self&&self.self===self}function $e(){const re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof re&&void 0!==re.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const re=Be();return re.indexOf("MSIE ")>=0||re.indexOf("Trident/")>=0}function Qt(){return!1}function Pe(){return"object"==typeof indexedDB}function ke(){return new Promise((re,J)=>{try{let q=!0;const te="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(te);ne.onsuccess=()=>{ne.result.close(),q||self.indexedDB.deleteDatabase(te),re(!0)},ne.onupgradeneeded=()=>{q=!1},ne.onerror=()=>{var Re;J((null===(Re=ne.error)||void 0===Re?void 0:Re.message)||"")}}catch(q){J(q)}})}function ae(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(J,q,te){super(q),this.code=J,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(J,q,te){this.service=J,this.serviceName=q,this.errors=te}create(J,...q){const te=q[0]||{},ne=`${this.service}/${J}`,Re=this.errors[J],Ye=Re?function Ze(re,J){return re.replace(vt,(q,te)=>{const ne=J[te];return null!=ne?String(ne):`<${te}?>`})}(Re,te):"Error";return new _e(ne,`${this.serviceName}: ${Ye} (${ne}).`,te)}}const vt=/\{\$([^}]+)}/g;function nn(re){return JSON.parse(re)}function Vt(re){return JSON.stringify(re)}const Xe=function(re){let J={},q={},te={},ne="";try{const Re=re.split(".");J=nn(ue(Re[0])||""),q=nn(ue(Re[1])||""),ne=Re[2],te=q.d||{},delete q.d}catch(Re){}return{header:J,claims:q,data:te,signature:ne}},un=function(re){const q=Xe(re).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},Jt=function(re){const J=Xe(re).claims;return"object"==typeof J&&!0===J.admin};function jt(re,J){return Object.prototype.hasOwnProperty.call(re,J)}function Ut(re,J){if(Object.prototype.hasOwnProperty.call(re,J))return re[J]}function vn(re){for(const J in re)if(Object.prototype.hasOwnProperty.call(re,J))return!1;return!0}function tr(re,J,q){const te={};for(const ne in re)Object.prototype.hasOwnProperty.call(re,ne)&&(te[ne]=J.call(q,re[ne],ne,re));return te}function Xt(re,J){if(re===J)return!0;const q=Object.keys(re),te=Object.keys(J);for(const ne of q){if(!te.includes(ne))return!1;const Re=re[ne],Ye=J[ne];if(Kt(Re)&&Kt(Ye)){if(!Xt(Re,Ye))return!1}else if(Re!==Ye)return!1}for(const ne of te)if(!q.includes(ne))return!1;return!0}function Kt(re){return null!==re&&"object"==typeof re}function ji(re){const J=[];for(const[q,te]of Object.entries(re))Array.isArray(te)?te.forEach(ne=>{J.push(encodeURIComponent(q)+"="+encodeURIComponent(ne))}):J.push(encodeURIComponent(q)+"="+encodeURIComponent(te));return J.length?"&"+J.join("&"):""}function bi(re){const J={};return re.replace(/^\?/,"").split("&").forEach(te=>{if(te){const[ne,Re]=te.split("=");J[decodeURIComponent(ne)]=decodeURIComponent(Re)}}),J}function kn(re){const J=re.indexOf("?");if(!J)return"";const q=re.indexOf("#",J);return re.substring(J,q>0?q:void 0)}class Ni{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let J=1;J<this.blockSize;++J)this.pad_[J]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(J,q){q||(q=0);const te=this.W_;if("string"==typeof J)for(let pe=0;pe<16;pe++)te[pe]=J.charCodeAt(q)<<24|J.charCodeAt(q+1)<<16|J.charCodeAt(q+2)<<8|J.charCodeAt(q+3),q+=4;else for(let pe=0;pe<16;pe++)te[pe]=J[q]<<24|J[q+1]<<16|J[q+2]<<8|J[q+3],q+=4;for(let pe=16;pe<80;pe++){const K=te[pe-3]^te[pe-8]^te[pe-14]^te[pe-16];te[pe]=4294967295&(K<<1|K>>>31)}let gn,ii,ne=this.chain_[0],Re=this.chain_[1],Ye=this.chain_[2],Et=this.chain_[3],bn=this.chain_[4];for(let pe=0;pe<80;pe++){pe<40?pe<20?(gn=Et^Re&(Ye^Et),ii=1518500249):(gn=Re^Ye^Et,ii=1859775393):pe<60?(gn=Re&Ye|Et&(Re|Ye),ii=2400959708):(gn=Re^Ye^Et,ii=3395469782);const K=(ne<<5|ne>>>27)+gn+bn+ii+te[pe]&4294967295;bn=Et,Et=Ye,Ye=4294967295&(Re<<30|Re>>>2),Re=ne,ne=K}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+Re&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+Et&4294967295,this.chain_[4]=this.chain_[4]+bn&4294967295}update(J,q){if(null==J)return;void 0===q&&(q=J.length);const te=q-this.blockSize;let ne=0;const Re=this.buf_;let Ye=this.inbuf_;for(;ne<q;){if(0===Ye)for(;ne<=te;)this.compress_(J,ne),ne+=this.blockSize;if("string"==typeof J){for(;ne<q;)if(Re[Ye]=J.charCodeAt(ne),++Ye,++ne,Ye===this.blockSize){this.compress_(Re),Ye=0;break}}else for(;ne<q;)if(Re[Ye]=J[ne],++Ye,++ne,Ye===this.blockSize){this.compress_(Re),Ye=0;break}}this.inbuf_=Ye,this.total_+=q}digest(){const J=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&q,q/=256;this.compress_(this.buf_);let te=0;for(let ne=0;ne<5;ne++)for(let Re=24;Re>=0;Re-=8)J[te]=this.chain_[ne]>>Re&255,++te;return J}}function oi(re,J){const q=new et(re,J);return q.subscribe.bind(q)}class et{constructor(J,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{J(this)}).catch(te=>{this.error(te)})}next(J){this.forEachObserver(q=>{q.next(J)})}error(J){this.forEachObserver(q=>{q.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,q,te){let ne;if(void 0===J&&void 0===q&&void 0===te)throw new Error("Missing Observer.");ne=function Wn(re,J){if("object"!=typeof re||null===re)return!1;for(const q of J)if(q in re&&"function"==typeof re[q])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:q,complete:te},void 0===ne.next&&(ne.next=pn),void 0===ne.error&&(ne.error=pn),void 0===ne.complete&&(ne.complete=pn);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(Ye){}}),this.observers.push(ne),Re}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,J)}sendOne(J,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{q(this.observers[J])}catch(te){"undefined"!=typeof console&&console.error&&console.error(te)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const Tn=function(re,J,q,te){let ne;if(te<J?ne="at least "+J:te>q&&(ne=0===q?"none":"no more than "+q),ne)throw new Error(re+" failed: Was called with "+te+(1===te?" argument.":" arguments.")+" Expects "+ne+".")};function Dr(re,J){return`${re} failed: ${J} argument `}function Rn(re,J,q,te){if((!te||q)&&"function"!=typeof q)throw new Error(Dr(re,J)+"must be a valid function.")}function Dn(re,J,q,te){if((!te||q)&&("object"!=typeof q||null===q))throw new Error(Dr(re,J)+"must be a valid context object.")}const ft=function(re){const J=[];let q=0;for(let te=0;te<re.length;te++){let ne=re.charCodeAt(te);if(ne>=55296&&ne<=56319){const Re=ne-55296;te++,z(te<re.length,"Surrogate pair missing trail surrogate."),ne=65536+(Re<<10)+(re.charCodeAt(te)-56320)}ne<128?J[q++]=ne:ne<2048?(J[q++]=ne>>6|192,J[q++]=63&ne|128):ne<65536?(J[q++]=ne>>12|224,J[q++]=ne>>6&63|128,J[q++]=63&ne|128):(J[q++]=ne>>18|240,J[q++]=ne>>12&63|128,J[q++]=ne>>6&63|128,J[q++]=63&ne|128)}return J},pt=function(re){let J=0;for(let q=0;q<re.length;q++){const te=re.charCodeAt(q);te<128?J++:te<2048?J+=2:te>=55296&&te<=56319?(J+=4,q++):J+=3}return J};function Fi(re,J=1e3,q=2){const te=J*Math.pow(q,re),ne=Math.round(.5*te*(Math.random()-.5)*2);return Math.min(144e5,te+ne)}function zt(re){return re&&re._delegate?re._delegate:re}},9300:(ot,Ae,V)=>{"use strict";var u=V(5e3);let z=null;function L(){return z}const we=new u.OlP("DocumentToken");let oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ue(){return(0,u.LFG)(W)}()},providedIn:"platform"}),n})();const H=new u.OlP("Location Initialized");let W=(()=>{class n extends oe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Q()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Q()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return new W((0,u.LFG)(we))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)($e)},providedIn:"root"}),n})();const Me=new u.OlP("appBaseHref");let $e=(()=>{class n extends Ee{constructor(e,i){var r,o,l;super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=null!==(l=null!==(r=null!=i?i:this._platformLocation.getBaseHrefFromDOM())&&void 0!==r?r:null===(o=(0,u.f3M)(we).location)||void 0===o?void 0:o.origin)&&void 0!==l?l:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const l=this.prepareExternalUrl(r+Fe(o));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){const l=this.prepareExternalUrl(r+Fe(o));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ve=(()=>{class n extends Ee{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Le(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let l=this.prepareExternalUrl(r+Fe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){let l=this.prepareExternalUrl(r+Fe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(oe),u.LFG(Me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Be(Qt(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fe(i))}normalize(e){return n.stripTrailingSlash(function Ct(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Qt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._locationStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{var i;const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=Le,n.stripTrailingSlash=Be,n.\u0275fac=function(e){return new(e||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function _t(){return new Qe((0,u.LFG)(Ee))}()},providedIn:"root"}),n})();function Qt(n){return n.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Format=0]="Format",ae[ae.Standalone=1]="Standalone",ae))(),he=(()=>((he=he||{})[he.Narrow=0]="Narrow",he[he.Abbreviated=1]="Abbreviated",he[he.Wide=2]="Wide",he[he.Short=3]="Short",he))(),Te=(()=>((Te=Te||{})[Te.Short=0]="Short",Te[Te.Medium=1]="Medium",Te[Te.Long=2]="Long",Te[Te.Full=3]="Full",Te))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function un(n,t){return et((0,u.cg1)(n)[u.wAp.DateFormat],t)}function Jt(n,t){return et((0,u.cg1)(n)[u.wAp.TimeFormat],t)}function jt(n,t){return et((0,u.cg1)(n)[u.wAp.DateTimeFormat],t)}function Ut(n,t){const e=(0,u.cg1)(n),i=e[u.wAp.NumberSymbols][t];if(void 0===i){if(t===_e.CurrencyDecimal)return e[u.wAp.NumberSymbols][_e.Decimal];if(t===_e.CurrencyGroup)return e[u.wAp.NumberSymbols][_e.Group]}return i}function bi(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function et(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function pi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,On={},Rn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.ShortGMT=1]="ShortGMT",Dn[Dn.Long=2]="Long",Dn[Dn.Extended=3]="Extended",Dn))(),ft=(()=>((ft=ft||{})[ft.FullYear=0]="FullYear",ft[ft.Month=1]="Month",ft[ft.Date=2]="Date",ft[ft.Hours=3]="Hours",ft[ft.Minutes=4]="Minutes",ft[ft.Seconds=5]="Seconds",ft[ft.FractionalSeconds=6]="FractionalSeconds",ft[ft.Day=7]="Day",ft))(),pt=(()=>((pt=pt||{})[pt.DayPeriods=0]="DayPeriods",pt[pt.Days=1]="Days",pt[pt.Months=2]="Months",pt[pt.Eras=3]="Eras",pt))();function kt(n,t,e,i){let r=function X(n){if(Je(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,l=1]=n.split("-").map(d=>+d);return Li(r,o-1,l)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Dr))return function De(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-e,d=Number(n[5]||0)-i,f=Number(n[6]||0),g=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,l,d,f,g),t}(i)}const t=new Date(n);if(!Je(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=gi(e,t)||t;let d,l=[];for(;t;){if(d=Rn.exec(t),!d){l.push(t);break}{l=l.concat(d.slice(1));const v=l.pop();if(!v)break;t=v}}let f=r.getTimezoneOffset();i&&(f=ii(i,f),r=function K(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function pe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ii(t,r)-r))}(r,i,!0));let g="";return l.forEach(v=>{const w=function gn(n){if(bn[n])return bn[n];let t;switch(n){case"G":case"GG":case"GGG":t=zt(pt.Eras,he.Abbreviated);break;case"GGGG":t=zt(pt.Eras,he.Wide);break;case"GGGGG":t=zt(pt.Eras,he.Narrow);break;case"y":t=Rt(ft.FullYear,1,0,!1,!0);break;case"yy":t=Rt(ft.FullYear,2,0,!0,!0);break;case"yyy":t=Rt(ft.FullYear,3,0,!1,!0);break;case"yyyy":t=Rt(ft.FullYear,4,0,!1,!0);break;case"Y":t=Et(1);break;case"YY":t=Et(2,!0);break;case"YYY":t=Et(3);break;case"YYYY":t=Et(4);break;case"M":case"L":t=Rt(ft.Month,1,1);break;case"MM":case"LL":t=Rt(ft.Month,2,1);break;case"MMM":t=zt(pt.Months,he.Abbreviated);break;case"MMMM":t=zt(pt.Months,he.Wide);break;case"MMMMM":t=zt(pt.Months,he.Narrow);break;case"LLL":t=zt(pt.Months,he.Abbreviated,ae.Standalone);break;case"LLLL":t=zt(pt.Months,he.Wide,ae.Standalone);break;case"LLLLL":t=zt(pt.Months,he.Narrow,ae.Standalone);break;case"w":t=Ye(1);break;case"ww":t=Ye(2);break;case"W":t=Ye(1,!0);break;case"d":t=Rt(ft.Date,1);break;case"dd":t=Rt(ft.Date,2);break;case"c":case"cc":t=Rt(ft.Day,1);break;case"ccc":t=zt(pt.Days,he.Abbreviated,ae.Standalone);break;case"cccc":t=zt(pt.Days,he.Wide,ae.Standalone);break;case"ccccc":t=zt(pt.Days,he.Narrow,ae.Standalone);break;case"cccccc":t=zt(pt.Days,he.Short,ae.Standalone);break;case"E":case"EE":case"EEE":t=zt(pt.Days,he.Abbreviated);break;case"EEEE":t=zt(pt.Days,he.Wide);break;case"EEEEE":t=zt(pt.Days,he.Narrow);break;case"EEEEEE":t=zt(pt.Days,he.Short);break;case"a":case"aa":case"aaa":t=zt(pt.DayPeriods,he.Abbreviated);break;case"aaaa":t=zt(pt.DayPeriods,he.Wide);break;case"aaaaa":t=zt(pt.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":t=zt(pt.DayPeriods,he.Abbreviated,ae.Standalone,!0);break;case"bbbb":t=zt(pt.DayPeriods,he.Wide,ae.Standalone,!0);break;case"bbbbb":t=zt(pt.DayPeriods,he.Narrow,ae.Standalone,!0);break;case"B":case"BB":case"BBB":t=zt(pt.DayPeriods,he.Abbreviated,ae.Format,!0);break;case"BBBB":t=zt(pt.DayPeriods,he.Wide,ae.Format,!0);break;case"BBBBB":t=zt(pt.DayPeriods,he.Narrow,ae.Format,!0);break;case"h":t=Rt(ft.Hours,1,-12);break;case"hh":t=Rt(ft.Hours,2,-12);break;case"H":t=Rt(ft.Hours,1);break;case"HH":t=Rt(ft.Hours,2);break;case"m":t=Rt(ft.Minutes,1);break;case"mm":t=Rt(ft.Minutes,2);break;case"s":t=Rt(ft.Seconds,1);break;case"ss":t=Rt(ft.Seconds,2);break;case"S":t=Rt(ft.FractionalSeconds,1);break;case"SS":t=Rt(ft.FractionalSeconds,2);break;case"SSS":t=Rt(ft.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=J(Dn.Short);break;case"ZZZZZ":t=J(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=J(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=J(Dn.Long);break;default:return null}return bn[n]=t,t}(v);g+=w?w(r,e,f):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function Li(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function gi(n,t){const e=function Ze(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(On[e]=On[e]||{},On[e][t])return On[e][t];let i="";switch(t){case"shortDate":i=un(n,Te.Short);break;case"mediumDate":i=un(n,Te.Medium);break;case"longDate":i=un(n,Te.Long);break;case"fullDate":i=un(n,Te.Full);break;case"shortTime":i=Jt(n,Te.Short);break;case"mediumTime":i=Jt(n,Te.Medium);break;case"longTime":i=Jt(n,Te.Long);break;case"fullTime":i=Jt(n,Te.Full);break;case"short":const r=gi(n,"shortTime"),o=gi(n,"shortDate");i=ai(jt(n,Te.Short),[r,o]);break;case"medium":const l=gi(n,"mediumTime"),d=gi(n,"mediumDate");i=ai(jt(n,Te.Medium),[l,d]);break;case"long":const f=gi(n,"longTime"),g=gi(n,"longDate");i=ai(jt(n,Te.Long),[f,g]);break;case"full":const v=gi(n,"fullTime"),w=gi(n,"fullDate");i=ai(jt(n,Te.Full),[v,w])}return i&&(On[e][t]=i),i}function ai(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function St(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let l=String(n);for(;l.length<t;)l="0"+l;return i&&(l=l.slice(l.length-t)),o+l}function Rt(n,t,e=0,i=!1,r=!1){return function(o,l){let d=function nr(n,t){switch(n){case ft.FullYear:return t.getFullYear();case ft.Month:return t.getMonth();case ft.Date:return t.getDate();case ft.Hours:return t.getHours();case ft.Minutes:return t.getMinutes();case ft.Seconds:return t.getSeconds();case ft.FractionalSeconds:return t.getMilliseconds();case ft.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||d>-e)&&(d+=e),n===ft.Hours)0===d&&-12===e&&(d=12);else if(n===ft.FractionalSeconds)return function Fi(n,t){return St(n,3).substring(0,t)}(d,t);const f=Ut(l,_e.MinusSign);return St(d,t,f,i,r)}}function zt(n,t,e=ae.Format,i=!1){return function(r,o){return function re(n,t,e,i,r,o){switch(e){case pt.Months:return function Vt(n,t,e){const i=(0,u.cg1)(n),o=et([i[u.wAp.MonthsFormat],i[u.wAp.MonthsStandalone]],t);return et(o,e)}(t,r,i)[n.getMonth()];case pt.Days:return function nn(n,t,e){const i=(0,u.cg1)(n),o=et([i[u.wAp.DaysFormat],i[u.wAp.DaysStandalone]],t);return et(o,e)}(t,r,i)[n.getDay()];case pt.DayPeriods:const l=n.getHours(),d=n.getMinutes();if(o){const g=function kn(n){const t=(0,u.cg1)(n);return bi(t),(t[u.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?pi(i):[pi(i[0]),pi(i[1])])}(t),v=function Ni(n,t,e){const i=(0,u.cg1)(n);bi(i);const o=et([i[u.wAp.ExtraData][0],i[u.wAp.ExtraData][1]],t)||[];return et(o,e)||[]}(t,r,i),w=g.findIndex(D=>{if(Array.isArray(D)){const[A,P]=D,F=l>=A.hours&&d>=A.minutes,Z=l<P.hours||l===P.hours&&d<P.minutes;if(A.hours<P.hours){if(F&&Z)return!0}else if(F||Z)return!0}else if(D.hours===l&&D.minutes===d)return!0;return!1});if(-1!==w)return v[w]}return function vt(n,t,e){const i=(0,u.cg1)(n),o=et([i[u.wAp.DayPeriodsFormat],i[u.wAp.DayPeriodsStandalone]],t);return et(o,e)}(t,r,i)[l<12?0:1];case pt.Eras:return function Xe(n,t){return et((0,u.cg1)(n)[u.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function J(n){return function(t,e,i){const r=-1*i,o=Ut(e,_e.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Dn.Short:return(r>=0?"+":"")+St(l,2,o)+St(Math.abs(r%60),2,o);case Dn.ShortGMT:return"GMT"+(r>=0?"+":"")+St(l,1,o);case Dn.Long:return"GMT"+(r>=0?"+":"")+St(l,2,o)+":"+St(Math.abs(r%60),2,o);case Dn.Extended:return 0===i?"Z":(r>=0?"+":"")+St(l,2,o)+":"+St(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function Re(n){return Li(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Ye(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,l=e.getDate();r=1+Math.floor((l+o)/7)}else{const o=Re(e),l=function ne(n){const t=Li(n,0,1).getDay();return Li(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),d=o.getTime()-l.getTime();r=1+Math.round(d/6048e5)}return St(r,n,Ut(i,_e.MinusSign))}}function Et(n,t=!1){return function(e,i){return St(Re(e).getFullYear(),n,Ut(i,_e.MinusSign),t)}}const bn={};function ii(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Je(n){return n instanceof Date&&!isNaN(n.valueOf())}function ir(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class Mi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Mi(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const d=i.get(o);i.move(d,l),Vi(d,r)}});for(let r=0,o=i.length;r<o;r++){const d=i.get(r).context;d.index=r,d.count=o,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Vi(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Vi(n,t){n.context.$implicit=t.item}let Mr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Yn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Yn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class xa{constructor(){this.$implicit=null,this.ngIf=null}}function Yn(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}function U(n,t){return new u.vHH(2100,!1)}class ee{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class ve{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const We=new ve,lt=new ee;let Wt=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,u.QGY)(e))return We;if((0,u.F4k)(e))return lt;throw U()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const ap=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let fc=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var l;if(null==e||""===e||e!=e)return null;try{return kt(e,i,o||this.locale,null!==(l=null!=r?r:this.defaultTimezone)&&void 0!==l?l:void 0)}catch(d){throw U()}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.soG,16),u.Y36(ap,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),eo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let Au=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new uh((0,u.LFG)(we),window)}),n})();class uh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Gi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Zr(this.window.history)||Zr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Zr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class no{}class Os extends class Ou extends class le{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ce(n){z||(z=n)}(new Os)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ru(){return Rs=Rs||document.querySelector("base"),Rs?Rs.getAttribute("href"):null}();return null==e?null:function Cs(n){Qn=Qn||document.createElement("a"),Qn.setAttribute("href",n);const t=Qn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ir(document.cookie,t)}}let Qn,Rs=null;const Jn=new u.OlP("TRANSITION_ID"),wc=[{provide:u.ip1,useFactory:function bc(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Jn,we,u.zs3],multi:!0}];let Cc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const _l=new u.OlP("EventManagerPlugins");let Lu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const l=r[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_l),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class yl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let jo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),$o=(()=>{class n extends jo{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const l=this._doc.createElement("style");l.textContent=o,r.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Fu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Fu))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fu(n){L().remove(n)}const zo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Uu=/%COMP%/g;function bl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?bl(n,r,e):(r=r.replace(Uu,n),e.push(r))}return e}function wl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let $a=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Es(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Bu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case u.ifc.ShadowDom:return new _h(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=bl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Lu),u.LFG($o),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Es{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(zo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Wa(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Wa(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=zo[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=zo[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,r&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,wl(i)):this.eventManager.addEventListener(t,e,wl(i))}}function Wa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Bu extends Es{constructor(t,e,i,r){super(t),this.component=i;const o=bl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function ci(n){return"_ngcontent-%COMP%".replace(Uu,n)}(r+"-"+i.id),this.hostAttr=function vl(n){return"_nghost-%COMP%".replace(Uu,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class _h extends Es{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=bl(r.id,r.styles,[]);for(let l=0;l<o.length;l++){const d=document.createElement("style");d.textContent=o[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ii=(()=>{class n extends yl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const yh=["alt","control","meta","shift"],Ns={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Za=(()=>{class n extends yl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),yh.forEach(g=>{const v=i.indexOf(g);v>-1&&(i.splice(v,1),l+=g+".")}),l+=o,0!=i.length||0===o.length)return null;const f={};return f.domEventName=r,f.fullKey=l,f}static matchEventFullKeyCode(e,i){let r=Ns[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),yh.forEach(l=>{l!==r&&(0,Sc[l])(e)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ga=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function ju(){Os.makeCurrent()},multi:!0},{provide:we,useFactory:function Ic(){return(0,u.RDi)(document),document},deps:[]}]),ro=new u.OlP(""),qa=[{provide:u.rWj,useClass:class Nu{addToWindow(t){u.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const d=function(f){l=l||f,o--,0==o&&i(l)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Zo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ts(){return new u.qLn},deps:[]},{provide:_l,useClass:Ii,multi:!0,deps:[we,u.R0b,u.Lbi]},{provide:_l,useClass:Za,multi:!0,deps:[we]},{provide:$a,useClass:$a,deps:[Lu,$o,u.AFp]},{provide:u.FYo,useExisting:$a},{provide:jo,useExisting:$o},{provide:$o,useClass:$o,deps:[we]},{provide:Lu,useClass:Lu,deps:[_l,u.R0b]},{provide:no,useClass:Cc,deps:[]},[]];let Ss=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Jn,useExisting:u.AFp},wc]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ro,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Zo,...qa],imports:[eo,u.hGG]}),n})(),es=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ka(){return new es((0,u.LFG)(we))}(),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;const Wu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Zu=new u.OlP("HammerGestureConfig"),Ch=new u.OlP("HammerLoader");let Eh=(()=>{class n{constructor(){this.events=[],this.overrides={}}buildHammer(e){const i=new Hammer(e,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(const r in this.overrides)i.get(r).set(this.overrides[r]);return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Gu=(()=>{class n extends yl{constructor(e,i,r,o){super(e),this._config=i,this.console=r,this.loader=o,this._loaderPromise=null}supports(e){return!(!Wu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,i,r){const o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let l=!1,d=()=>{l=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?l||(d=this.addEventListener(e,i,r)):d=()=>{}}).catch(()=>{d=()=>{}})),()=>{d()}}return o.runOutsideAngular(()=>{const l=this._config.buildHammer(e),d=function(f){o.runGuarded(function(){r(f)})};return l.on(i,d),()=>{l.off(i,d),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we),u.LFG(Zu),u.LFG(u.c2e),u.LFG(Ch,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:_l,useClass:Gu,multi:!0,deps:[we,Zu,u.c2e,[new u.FiY,Ch]]},{provide:Zu,useClass:Eh,deps:[]}]}),n})();var Hn=V(5254),at=V(1086),wr=V(8929),xc=V(5279);class jn extends wr.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xc.N;return this._value}next(t){super.next(this._value=t)}}const oo=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Is=V(2866),ns=V(6688),Hi=V(3489);class ta extends Hi.L{notifyNext(t,e,i,r,o){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Th extends Hi.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Us=V(9249),qr=V(6498);function na(n,t,e,i,r=new Th(n,e,i)){if(!r.closed)return t instanceof qr.y?t.subscribe(r):(0,Us.s)(t)(r)}var qi=V(3009);const ia={};function Rr(...n){let t,e;return(0,Is.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,ns.k)(n[0])&&(n=n[0]),(0,qi.n)(n,e).lift(new Mc(t))}class Mc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Sh(t,this.resultSelector))}}class Sh extends ta{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ia),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(na(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,l=this.toRespond?r[i]===ia?--this.toRespond:this.toRespond:0;r[i]=e,0===l&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var Dl=V(9146);function Pc(...n){return function qu(){return(0,Dl.J)(1)}()((0,at.of)(...n))}var is=V(8896);function ao(n){return new qr.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,Hn.D)(e):(0,is.c)()).subscribe(t)})}var Al=V(4843),Cr=V(1737),Ya=V(1762),yt=V(4850),Er=V(1177);function xn(n,t){return"function"==typeof t?e=>e.pipe(xn((i,r)=>(0,Hn.D)(n(i,r)).pipe((0,yt.U)((o,l)=>t(i,o,r,l))))):e=>e.lift(new Qa(n))}class Qa{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ku(t,this.project))}}class Ku extends Er.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Er.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,Er.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yu=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Vs(n){return t=>0===n?(0,is.c)():t.lift(new ra(n))}class ra{constructor(t){if(this.total=t,this.total<0)throw new Yu}call(t,e){return e.subscribe(new I(t,this.total))}}class I extends Hi.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function k(n,t){return function(i){return i.lift(new G(n,t))}}class G{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new de(t,this.predicate,this.thisArg))}}class de extends Hi.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}var ye=V(1709);function Ue(n=null){return t=>t.lift(new rt(n))}class rt{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new At(t,this.defaultValue))}}class At extends Hi.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Lt(n=Di){return t=>t.lift(new Bt(n))}class Bt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new wt(t,this.errorFactory))}}class wt extends Hi.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Di(){return new oo}var mi=V(5379);function Oi(n,t){const e=arguments.length>=2;return i=>i.pipe(n?k((r,o)=>n(r,o,i)):mi.y,Vs(1),e?Ue(t):Lt(()=>new oo))}function or(n,t){return(0,ye.zg)(n,t,1)}var Ln=V(2868);function Ki(n){return function(e){const i=new Ja(n),r=e.lift(i);return i.caught=r}}class Ja{constructor(t){this.selector=t}call(t,e){return e.subscribe(new sa(t,this.selector,this.caught))}}class sa extends Er.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(o){return void super.error(o)}this._unsubscribeAndRecycle();const i=new Er.IY(this);this.add(i);const r=(0,Er.ft)(e,i);r!==i&&this.add(r)}}}function rs(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new Nr(n,t,e))}}class Nr{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Bs(t,this.accumulator,this.seed,this.hasSeed))}}class Bs extends Hi.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Ih(n){return function(e){return 0===n?(0,is.c)():e.lift(new bb(n))}}class bb{constructor(t){if(this.total=t,this.total<0)throw new Yu}call(t,e){return e.subscribe(new hp(t,this.total))}}class hp extends Hi.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let o=0;o<i;o++){const l=e++%i;t.next(r[l])}}t.complete()}}function Qu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?k((r,o)=>n(r,o,i)):mi.y,Ih(1),e?Ue(t):Lt(()=>new oo))}class Nm{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new fp(t,this.predicate,this.inclusive))}}class fp extends Hi.L{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class Xa{constructor(t){this.value=t}call(t,e){return e.subscribe(new pp(t,this.value))}}class pp extends Hi.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}var gp=V(2654);function Ju(n){return t=>t.lift(new Cb(n))}class Cb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new mp(t,this.callback))}}class mp extends Hi.L{constructor(t,e){super(t),this.add(new gp.w(e))}}var Fm=V(4327);const Zt="primary",Oc=Symbol("RouteTitle");class Xu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lo(n){return new Xu(n)}function Dh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],d=n[o];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Hs(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!_p(n[r],t[r]))return!1;return!0}function _p(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function yp(n){return Array.prototype.concat.apply([],n)}function Rc(n){return n.length>0?n[n.length-1]:null}function Yi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function co(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):(0,at.of)(n)}const Ah={exact:function ed(n,t,e){if(!_(n.segments,t.segments)||!Ph(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ed(n.children[i],t.children[i],e))return!1;return!0},subset:el},wp={exact:function Um(n,t){return Hs(n,t)},subset:function oa(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>_p(n[e],t[e]))},ignored:()=>!0};function xh(n,t,e){return Ah[e.paths](n.root,t.root,e.matrixParams)&&wp[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function el(n,t,e){return Mh(n,t,t.segments,e)}function Mh(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!_(r,e)||t.hasChildren()||!Ph(r,e,i))}if(n.segments.length===e.length){if(!_(n.segments,e)||!Ph(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!el(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(_(n.segments,r)&&Ph(n.segments,r,i)&&n.children[Zt])&&Mh(n.children[Zt],t,o,i)}}function Ph(n,t,e){return t.every((i,r)=>wp[e](n[r].parameters,i.parameters))}class Pl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lo(this.queryParams)),this._queryParamMap}toString(){return B.serialize(this)}}class on{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ge(this)}}class td{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lo(this.parameters)),this._parameterMap}toString(){return nd(this)}}function _(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new O},providedIn:"root"}),n})();class O{parse(t){const e=new Ep(t);return new Pl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ne(t.root,!0)}`,i=function Nc(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ht(e)}=${ht(r)}`).join("&"):`${ht(e)}=${ht(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Gt(n){return encodeURI(n)}(t.fragment)}`:""}`}}const B=new O;function ge(n){return n.segments.map(t=>nd(t)).join("/")}function Ne(n,t){if(!n.hasChildren())return ge(n);if(t){const e=n.children[Zt]?Ne(n.children[Zt],!1):"",i=[];return Yi(n.children,(r,o)=>{o!==Zt&&i.push(`${o}:${Ne(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function y(n,t){let e=[];return Yi(n.children,(i,r)=>{r===Zt&&(e=e.concat(t(i,r)))}),Yi(n.children,(i,r)=>{r!==Zt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Zt?[Ne(n.children[Zt],!1)]:[`${r}:${Ne(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Zt]?`${ge(n)}/${e[0]}`:`${ge(n)}/(${e.join("//")})`}}function nt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ht(n){return nt(n).replace(/%3B/gi,";")}function $n(n){return nt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lr(n){return decodeURIComponent(n)}function aa(n){return Lr(n.replace(/\+/g,"%20"))}function nd(n){return`${$n(n.path)}${function Vm(n){return Object.keys(n).map(t=>`;${$n(t)}=${$n(n[t])}`).join("")}(n.parameters)}`}const id=/^[^\/()?;=#]+/;function tl(n){const t=n.match(id);return t?t[0]:""}const Cp=/^[^=?&#]+/,kh=/^[^&#]+/;class Ep{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Zt]=new on(t,e)),i}parseSegment(){const t=tl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(t),new td(Lr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=tl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=tl(this.remaining);r&&(i=r,this.capture(i))}t[Lr(e)]=Lr(i)}parseQueryParam(t){const e=function Bm(n){const t=n.match(Cp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function Oh(n){const t=n.match(kh);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=aa(e),o=aa(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=tl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Zt);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[Zt]:new on([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,!1)}}function Rh(n){return n.segments.length>0?new on([],{[Zt]:n}):n}function kl(n){const t={};for(const i of Object.keys(n.children)){const o=kl(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Tp(n){if(1===n.numberOfChildren&&n.children[Zt]){const t=n.children[Zt];return new on(n.segments.concat(t.segments),t.children)}return n}(new on(n.segments,t))}function la(n){return n instanceof Pl}function pT(n,t,e,i,r){var o;if(0===e.length)return Fc(t.root,t.root,t.root,i,r);const d=function Ib(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sb(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Yi(o.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new Sb(e,t,i)}(e);return d.toRoot()?Fc(t.root,t.root,new on([],{}),i,r):function f(v){var w;const D=function qx(n,t,e,i){if(n.isAbsolute)return new rd(t.root,!0,0);if(-1===i)return new rd(e,e===t.root,0);return function mT(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new rd(i,!1,r-o)}(e,i+(Nh(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,null===(w=n.snapshot)||void 0===w?void 0:w._urlSegment,v),A=D.processChildren?sd(D.segmentGroup,D.index,d.commands):Fh(D.segmentGroup,D.index,d.commands);return Fc(t.root,D.segmentGroup,A,i,r)}(null===(o=n.snapshot)||void 0===o?void 0:o._lastPathIndex)}function Nh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lc(n){return"object"==typeof n&&null!=n&&n.outlets}function Fc(n,t,e,i,r){let l,o={};i&&Yi(i,(f,g)=>{o[g]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),l=n===t?e:Tb(n,t,e);const d=Rh(kl(l));return new Pl(d,o,r)}function Tb(n,t,e){const i={};return Yi(n.children,(r,o)=>{i[o]=r===t?e:Tb(r,t,e)}),new on(n.segments,i)}class Sb{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Nh(i[0]))throw new u.vHH(4003,!1);const r=i.find(Lc);if(r&&r!==Rc(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Fh(n,t,e){if(n||(n=new on([],{})),0===n.segments.length&&n.hasChildren())return sd(n,t,e);const i=function Db(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const l=n.segments[r],d=e[i];if(Lc(d))break;const f=`${d}`,g=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!$m(f,g,l))return o;i+=2}else{if(!$m(f,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new on(n.segments.slice(0,i.pathIndex),{});return o.children[Zt]=new on(n.segments.slice(i.pathIndex),n.children),sd(o,0,r)}return i.match&&0===r.length?new on(n.segments,{}):i.match&&!n.hasChildren()?Sp(n,t,e):i.match?sd(n,0,r):Sp(n,t,e)}function sd(n,t,e){if(0===e.length)return new on(n.segments,{});{const i=function Lh(n){return Lc(n[0])?n[0].outlets:{[Zt]:n}}(e),r={};return Yi(i,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[l]=Fh(n.children[l],t,o))}),Yi(n.children,(o,l)=>{void 0===i[l]&&(r[l]=o)}),new on(n.segments,r)}}function Sp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Lc(o)){const f=_T(o.outlets);return new on(i,f)}if(0===r&&Nh(e[0])){i.push(new td(n.segments[t].path,jm(e[0]))),r++;continue}const l=Lc(o)?o.outlets[Zt]:`${o}`,d=r<e.length-1?e[r+1]:null;l&&d&&Nh(d)?(i.push(new td(l,jm(d))),r+=2):(i.push(new td(l,{})),r++)}return new on(i,{})}function _T(n){const t={};return Yi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Sp(new on([],{}),0,e))}),t}function jm(n){const t={};return Yi(n,(e,i)=>t[i]=`${e}`),t}function $m(n,t,e){return n==e.path&&Hs(t,e.parameters)}class uo{constructor(t,e){this.id=t,this.url=e}}class Ab extends uo{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uc extends uo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class od extends uo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zm extends uo{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xb extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vc extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yT extends uo{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wm extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ip extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vT{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zm{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bc{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mb{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gm{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qm{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ol(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ol(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Km(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Km(t,this._root).map(e=>e.value)}}function Ol(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ol(n,e);if(i)return i}return null}function Km(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Km(n,e);if(i.length)return i.unshift(t),i}return[]}class nl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ad(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class kb extends qm{constructor(t,e){super(t),this.snapshot=e,Hc(this,t)}toString(){return this.snapshot.toString()}}function Ap(n,t){const e=function wT(n,t){const l=new Ym([],{},{},"",{},Zt,t,null,n.root,-1,{});return new Nb("",new nl(l,[]))}(n,t),i=new jn([new td("",{})]),r=new jn({}),o=new jn({}),l=new jn({}),d=new jn(""),f=new Rl(i,r,l,d,o,Zt,t,e.root);return f.snapshot=e.root,new kb(new nl(f,[]),e)}class Rl{constructor(t,e,i,r,o,l,d,f){var g,v;this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=d,this.title=null!==(v=null===(g=this.data)||void 0===g?void 0:g.pipe((0,yt.U)(w=>w[Oc])))&&void 0!==v?v:(0,at.of)(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(t=>lo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(t=>lo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ob(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Rb(n){return n.reduce((t,e)=>{var i;return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},e.data),t.resolve),null===(i=e.routeConfig)||void 0===i?void 0:i.data),e._resolvedData)}},{params:{},data:{},resolve:{}})}(e.slice(i))}class Ym{constructor(t,e,i,r,o,l,d,f,g,v,w,D){var A;this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=d,this.title=null===(A=this.data)||void 0===A?void 0:A[Oc],this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=v,this._correctedLastPathIndex=null!=D?D:v,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nb extends qm{constructor(t,e){super(e),this.url=t,Hc(this,e)}toString(){return Lb(this._root)}}function Hc(n,t){t.value._routerState=n,t.children.forEach(e=>Hc(n,e))}function Lb(n){const t=n.children.length>0?` { ${n.children.map(Lb).join(", ")} } `:"";return`${n.value}${t}`}function Nl(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hs(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hs(t.params,e.params)||n.params.next(e.params),function xl(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hs(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hs(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jc(n,t){const e=Hs(n.params,t.params)&&function C(n,t){return _(n,t)&&n.every((e,i)=>Hs(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||jc(n.parent,t.parent))}function xp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Fb(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xp(n,i,r);return xp(n,i)})}(n,t,e);return new nl(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(d=>xp(n,d)),l}}const i=function ET(n){return new Rl(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>xp(n,o));return new nl(i,r)}}const Qm="ngNavigationCancelingError";function Ub(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=la(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Jm(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Jm(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Qm]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Xm(n){return Mp(n)&&la(n.url)}function Mp(n){return n&&n[Qm]}class TT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Uh,this.attachRef=null}}let Uh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new TT,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ld=!1;let e_=(()=>{class n{constructor(e,i,r,o,l){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||Zt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ld);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ld);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ld);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new u.vHH(4013,ld);this._activatedRoute=e;const r=this.location,l=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new Kx(e,d,r.injector);if(i&&function t_(n){return!!n.resolveComponentFactory}(i)){const g=i.resolveComponentFactory(l);this.activated=r.createComponent(g,r.length,f)}else this.activated=r.createComponent(l,{index:r.length,injector:f,environmentInjector:null!=i?i:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Uh),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Kx{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Rl?this.route:t===Uh?this.childContexts:this.parent.get(t,e)}}let Vb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},dependencies:[e_],encapsulation:2}),n})();function ST(n,t){var e;return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),null!==(e=n._injector)&&void 0!==e?e:t}function kp(n){const t=n.children&&n.children.map(kp),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Zt&&(e.component=Vb),e}function ss(n){return n.outlet||Zt}function jb(n,t){const e=n.filter(i=>ss(i)===t);return e.push(...n.filter(i=>ss(i)!==t)),e}function $c(n){var t;if(!n)return null;if(null!==(t=n.routeConfig)&&void 0!==t&&t._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const i=e.routeConfig;if(null!=i&&i._loadedInjector)return i._loadedInjector;if(null!=i&&i._injector)return i._injector}return null}class IT{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Nl(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ad(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),Yi(r,(o,l)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ad(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ad(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ad(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Gm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Bc(t.value.snapshot))}activateRoutes(t,e,i){var r;const o=t.value,l=e?e.value:null;if(Nl(o),o===l)if(o.component){const d=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const d=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const f=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Nl(f.route.value),this.activateChildRoutes(t,null,d.children)}else{const f=$c(o.snapshot),g=null!==(r=null==f?void 0:f.get(u._Vd))&&void 0!==r?r:null;d.attachRef=null,d.route=o,d.resolver=g,d.injector=f,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,i)}}class $b{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Op{constructor(t,e){this.component=t,this.route=e}}function zb(n,t,e){const i=n._root;return Bh(i,t?t._root:null,e,[i.value])}function cd(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:i}function Bh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=ad(t);return n.children.forEach(l=>{(function AT(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const f=function i_(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!_(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_(n.url,t.url)||!Hs(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jc(n,t)||!Hs(n.queryParams,t.queryParams);default:return!jc(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new $b(i)):(o.data=l.data,o._resolvedData=l._resolvedData),Bh(n,t,o.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Op(d.outlet.component,l))}else l&&Hh(t,d,r),r.canActivateChecks.push(new $b(i)),Bh(n,null,o.component?d?d.children:null:e,i,r)})(l,o[l.value.outlet],e,i.concat([l.value]),r),delete o[l.value.outlet]}),Yi(o,(l,d)=>Hh(l,e.getContext(d),r)),r}function Hh(n,t,e){const i=ad(n),r=n.value;Yi(i,(o,l)=>{Hh(o,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Op(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function jh(n){return"function"==typeof n}function pr(n){return n instanceof oo||"EmptyError"===(null==n?void 0:n.name)}const Ll=Symbol("INITIAL_VALUE");function Fl(){return xn(n=>Rr(n.map(t=>t.pipe(Vs(1),function x(...n){const t=n[n.length-1];return(0,Is.K)(t)?(n.pop(),e=>Pc(n,e,t)):e=>Pc(n,e)}(Ll)))).pipe((0,yt.U)(t=>{for(const e of t)if(!0!==e){if(e===Ll)return Ll;if(!1===e||e instanceof Pl)return e}return!0}),k(t=>t!==Ll),Vs(1)))}function Kb(n){return(0,Al.z)((0,Ln.b)(t=>{if(la(t))throw Ub(0,t)}),(0,yt.U)(t=>!0===t))}const o_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zc(n,t,e,i,r){const o=ho(n,t,e);return o.matched?function VT(n,t,e,i){const r=t.canMatch;if(!r||0===r.length)return(0,at.of)(!0);const o=r.map(l=>{const d=cd(l,n);return co(function r_(n){return n&&jh(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))});return(0,at.of)(o).pipe(Fl(),Kb())}(i=ST(t,i),t,e).pipe((0,yt.U)(l=>!0===l?o:Object.assign({},o_))):(0,at.of)(o)}function ho(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},o_):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Dh)(e,n,t);if(!o)return Object.assign({},o_);const l={};Yi(o.posParams,(f,g)=>{l[g]=f.path});const d=o.consumed.length>0?Object.assign(Object.assign({},l),o.consumed[o.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:d,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Rp(n,t,e,i,r="corrected"){if(e.length>0&&function Jx(n,t,e){return e.some(i=>a_(n,t,i)&&ss(i)!==Zt)}(n,e,i)){const l=new on(t,function Qx(n,t,e,i){const r={};r[Zt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&ss(o)!==Zt){const l=new on([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[ss(o)]=l}return r}(n,t,i,new on(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function Yb(n,t,e){return e.some(i=>a_(n,t,i))}(n,e,i)){const l=new on(n.segments,function BT(n,t,e,i,r,o){const l={};for(const d of i)if(a_(n,e,d)&&!r[ss(d)]){const f=new on([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===o?n.segments.length:t.length,l[ss(d)]=f}return Object.assign(Object.assign({},r),l)}(n,t,e,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const o=new on(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function a_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function fo(n,t,e,i){return!!(ss(n)===i||i!==Zt&&a_(t,e,n))&&("**"===n.path||ho(t,n,e).matched)}function Np(n,t,e){return 0===t.length&&!n.children[e]}const ud=!1;class Lp{constructor(t){this.segmentGroup=t||null}}class l_{constructor(t){this.urlTree=t}}function $h(n){return(0,Cr._)(new Lp(n))}function dd(n){return(0,Cr._)(new l_(n))}class u_{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Rp(this.urlTree.root,[],[],this.config).segmentGroup,e=new on(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Zt).pipe((0,yt.U)(o=>this.createUrlTree(kl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ki(o=>{if(o instanceof l_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Lp?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Zt).pipe((0,yt.U)(r=>this.createUrlTree(kl(r),t.queryParams,t.fragment))).pipe(Ki(r=>{throw r instanceof Lp?this.noMatchError(r):r}))}noMatchError(t){return new u.vHH(4002,ud)}createUrlTree(t,e,i){const r=Rh(t);return new Pl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,yt.U)(o=>new on([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Hn.D)(r).pipe(or(o=>{const l=i.children[o],d=jb(e,o);return this.expandSegmentGroup(t,d,l,o).pipe((0,yt.U)(f=>({segment:f,outlet:o})))}),rs((o,l)=>(o[l.outlet]=l.segment,o),{}),Qu())}expandSegment(t,e,i,r,o,l){return(0,Hn.D)(i).pipe(or(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,l).pipe(Ki(g=>{if(g instanceof Lp)return(0,at.of)(null);throw g}))),Oi(d=>!!d),Ki((d,f)=>{if(pr(d))return Np(e,r,o)?(0,at.of)(new on([],{})):$h(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,l,d){return fo(r,e,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l):$h(e):$h(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?dd(o):this.lineralizeSegments(i,o).pipe((0,ye.zg)(l=>{const d=new on(l,{});return this.expandSegment(t,d,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:v}=ho(e,r,o);if(!d)return $h(e);const w=this.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?dd(w):this.lineralizeSegments(r,w).pipe((0,ye.zg)(D=>this.expandSegment(t,e,i,D.concat(g),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=ST(i,t),i.loadChildren?(i._loadedRoutes?(0,at.of)({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,yt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new on(r,{})))):(0,at.of)(new on(r,{}))):zc(e,i,r,t).pipe(xn(({matched:l,consumedSegments:d,remainingSegments:f})=>{var g;return l?(t=null!==(g=i._injector)&&void 0!==g?g:t,this.getChildConfig(t,i,r).pipe((0,ye.zg)(w=>{var D;const A=null!==(D=w.injector)&&void 0!==D?D:t,P=w.routes,{segmentGroup:F,slicedSegments:Z}=Rp(e,d,f,P),Y=new on(F.segments,F.children);if(0===Z.length&&Y.hasChildren())return this.expandChildren(A,P,Y).pipe((0,yt.U)(Se=>new on(d,Se)));if(0===P.length&&0===Z.length)return(0,at.of)(new on(d,{}));const se=ss(i)===o;return this.expandSegment(A,Y,P,Z,se?Zt:o,!0).pipe((0,yt.U)(be=>new on(d.concat(be.segments),be.children)))}))):$h(e)}))}getChildConfig(t,e,i){return e.children?(0,at.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,at.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function UT(n,t,e,i){const r=t.canLoad;if(void 0===r||0===r.length)return(0,at.of)(!0);const o=r.map(l=>{const d=cd(l,n);return co(function Wb(n){return n&&jh(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))});return(0,at.of)(o).pipe(Fl(),Kb())}(t,e,i).pipe((0,ye.zg)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Ln.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function jT(n){return(0,Cr._)(Jm(ud,3))}())):(0,at.of)({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,at.of)(i);if(r.numberOfChildren>1||!r.children[Zt])return(0,Cr._)(new u.vHH(4e3,ud));r=r.children[Zt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Pl(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Yi(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let l={};return Yi(e.children,(d,f)=>{l[f]=this.createSegmentGroup(t,d,i,r)}),new on(o,l)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new u.vHH(4001,ud);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class hd{}class $T{constructor(t,e,i,r,o,l,d,f){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const t=Rp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Zt).pipe((0,yt.U)(e=>{if(null===e)return null;const i=new Ym([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new nl(i,e),o=new Nb(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Ob(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Hn.D)(Object.keys(i.children)).pipe(or(r=>{const o=i.children[r],l=jb(e,r);return this.processSegmentGroup(t,l,o,r)}),rs((r,o)=>r&&o?(r.push(...o),r):null),function wb(n,t=!1){return e=>e.lift(new Nm(n,t))}(r=>null!==r),Ue(null),Qu(),(0,yt.U)(r=>{if(null===r)return null;const o=Xb(r);return function f_(n){n.sort((t,e)=>t.value.outlet===Zt?-1:e.value.outlet===Zt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Hn.D)(e).pipe(or(l=>{var d;return this.processSegmentAgainstRoute(null!==(d=l._injector)&&void 0!==d?d:t,l,i,r,o)}),Oi(l=>!!l),Ki(l=>{if(pr(l))return Np(i,r,o)?(0,at.of)([]):(0,at.of)(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,o){var l,d;if(e.redirectTo||!fo(e,i,r,o))return(0,at.of)(null);let f;if("**"===e.path){const g=r.length>0?Rc(r).parameters:{},v=t0(i)+r.length,w=new Ym(r,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fp(e),ss(e),null!==(d=null!==(l=e.component)&&void 0!==l?l:e._loadedComponent)&&void 0!==d?d:null,e,e0(i),v,g_(e),v);f=(0,at.of)({snapshot:w,consumedSegments:[],remainingSegments:[]})}else f=zc(i,e,r,t).pipe((0,yt.U)(({matched:g,consumedSegments:v,remainingSegments:w,parameters:D})=>{var A,P;if(!g)return null;const F=t0(i)+v.length;return{snapshot:new Ym(v,D,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fp(e),ss(e),null!==(P=null!==(A=e.component)&&void 0!==A?A:e._loadedComponent)&&void 0!==P?P:null,e,e0(i),F,g_(e),F),consumedSegments:v,remainingSegments:w}}));return f.pipe(xn(g=>{var v,w;if(null===g)return(0,at.of)(null);const{snapshot:D,consumedSegments:A,remainingSegments:P}=g;t=null!==(v=e._injector)&&void 0!==v?v:t;const F=null!==(w=e._loadedInjector)&&void 0!==w?w:t,Z=function zT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Y,slicedSegments:se}=Rp(i,A,P,Z.filter(be=>void 0===be.redirectTo),this.relativeLinkResolution);if(0===se.length&&Y.hasChildren())return this.processChildren(F,Z,Y).pipe((0,yt.U)(be=>null===be?null:[new nl(D,be)]));if(0===Z.length&&0===se.length)return(0,at.of)([new nl(D,[])]);const xe=ss(e)===o;return this.processSegment(F,Z,Y,se,xe?Zt:o).pipe((0,yt.U)(be=>null===be?null:[new nl(D,be)]))}))}}function WT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Xb(n){const t=[],e=new Set;for(const i of n){if(!WT(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Xb(i.children);t.push(new nl(i.value,r))}return t.filter(i=>!e.has(i))}function e0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function t0(n){var t,e;let i=n,r=null!==(t=i._segmentIndexShift)&&void 0!==t?t:0;for(;i._sourceSegment;)i=i._sourceSegment,r+=null!==(e=i._segmentIndexShift)&&void 0!==e?e:0;return r-1}function Fp(n){return n.data||{}}function g_(n){return n.resolve||{}}function __(n){return"string"==typeof n.title||null===n.title}function Up(n){return xn(t=>{const e=n(t);return e?(0,Hn.D)(e).pipe((0,yt.U)(()=>t)):(0,at.of)(t)})}let s0=(()=>{class n{buildTitle(e){var i;let r,o=e.root;for(;void 0!==o;)r=null!==(i=this.getResolvedTitleForRoute(o))&&void 0!==i?i:r,o=o.children.find(l=>l.outlet===Zt);return r}getResolvedTitleForRoute(e){return e.data[Oc]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(KT)},providedIn:"root"}),n})(),KT=(()=>{class n extends s0{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(es))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class YT{}class a0 extends class o0{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const fd=new u.OlP("",{providedIn:"root",factory:()=>({})}),pd=new u.OlP("ROUTES");let gd=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,at.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=co(e.loadComponent()).pipe((0,Ln.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Ju(()=>{this.componentLoaders.delete(e)})),r=new Ya.c(i,()=>new wr.xQ).pipe((0,Fm.x)());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,at.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,yt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,g,v=!1;Array.isArray(d)?g=d:(f=d.create(e).injector,g=yp(f.get(pd,[],u.XFs.Self|u.XFs.Optional)));return{routes:g.map(kp),injector:f}}),Ju(()=>{this.childrenLoaders.delete(i)})),l=new Ya.c(o,()=>new wr.xQ).pipe((0,Fm.x)());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return co(e()).pipe((0,ye.zg)(i=>i instanceof u.YKP||Array.isArray(i)?(0,at.of)(i):(0,Hn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class c0{}class b_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function w_(n){throw n}function Wh(n,t,e){return t.parse("/")}const QT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function d0(){var n,t;const e=(0,u.f3M)(T),i=(0,u.f3M)(Uh),r=(0,u.f3M)(Qe),o=(0,u.f3M)(u.zs3),l=(0,u.f3M)(u.Sil),d=null!==(n=(0,u.f3M)(pd,{optional:!0}))&&void 0!==n?n:[],f=null!==(t=(0,u.f3M)(fd,{optional:!0}))&&void 0!==t?t:{},g=(0,u.f3M)(KT),v=(0,u.f3M)(s0,{optional:!0}),w=(0,u.f3M)(c0,{optional:!0}),D=(0,u.f3M)(YT,{optional:!0}),A=new Ji(null,e,i,r,o,l,yp(d));return w&&(A.urlHandlingStrategy=w),D&&(A.routeReuseStrategy=D),A.titleStrategy=null!=v?v:g,function JT(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(f,A),A}let Ji=(()=>{class n{constructor(e,i,r,o,l,d,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wr.xQ,this.errorHandler=w_,this.malformedUriErrorHandler=Wh,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,at.of)(void 0),this.urlHandlingStrategy=new b_,this.routeReuseStrategy=new a0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(gd),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new Zm(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new vT(D)),this.ngModule=l.get(u.h0i),this.console=l.get(u.c2e);const w=l.get(u.R0b);this.isNgZoneEnabled=w instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function bp(){return new Pl(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ap(this.currentUrlTree,this.rootComponentType),this.transitions=new jn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(k(r=>0!==r.id),(0,yt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let o=!1,l=!1;return(0,at.of)(r).pipe((0,Ln.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return E_(d.source)&&(this.browserUrlTree=d.extractedUrl),(0,at.of)(d).pipe(xn(w=>{const D=this.transitions.getValue();return i.next(new Ab(w.id,this.serializeUrl(w.extractedUrl),w.source,w.restoredState)),D!==this.transitions.getValue()?is.E:Promise.resolve(w)}),function Qb(n,t,e,i){return xn(r=>function c_(n,t,e,i,r){return new u_(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,yt.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ln.b)(w=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:w.urlAfterRedirects}),r.urlAfterRedirects=w.urlAfterRedirects}),function m_(n,t,e,i,r,o){return(0,ye.zg)(l=>function Jb(n,t,e,i,r,o,l="emptyOnly",d="legacy"){return new $T(n,t,e,i,r,l,d,o).recognize().pipe(xn(f=>null===f?function h_(n){return new qr.y(t=>t.error(n))}(new hd):(0,at.of)(f)))}(n,t,e,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r,o).pipe((0,yt.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ln.b)(w=>{if(r.targetSnapshot=w.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!w.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl);this.setBrowserUrl(A,w)}this.browserUrlTree=w.urlAfterRedirects}const D=new xb(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);i.next(D)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:A,source:P,restoredState:F,extras:Z}=d,Y=new Ab(D,this.serializeUrl(A),P,F);i.next(Y);const se=Ap(A,this.rootComponentType).snapshot;return r=Object.assign(Object.assign({},d),{targetSnapshot:se,urlAfterRedirects:A,extras:Object.assign(Object.assign({},Z),{skipLocationChange:!1,replaceUrl:!1})}),(0,at.of)(r)}return this.rawUrlTree=d.rawUrl,d.resolve(null),is.E}),(0,Ln.b)(d=>{const f=new Vc(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,yt.U)(d=>r=Object.assign(Object.assign({},d),{guards:zb(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function OT(n,t){return(0,ye.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?(0,at.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function RT(n,t,e,i){return(0,Hn.D)(n).pipe((0,ye.zg)(r=>function FT(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,at.of)(!0);const l=o.map(d=>{var f;const g=null!==(f=$c(t))&&void 0!==f?f:r,v=cd(d,g);return co(function Kr(n){return n&&jh(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):g.runInContext(()=>v(n,t,e,i))).pipe(Oi())});return(0,at.of)(l).pipe(Fl())}(r.component,r.route,e,t,i)),Oi(r=>!0!==r,!0))}(l,i,r,n).pipe((0,ye.zg)(d=>d&&function xT(n){return"boolean"==typeof n}(d)?function Zb(n,t,e,i){return(0,Hn.D)(t).pipe(or(r=>Pc(function Gb(n,t){return null!==n&&t&&t(new Dp(n)),(0,at.of)(!0)}(r.route.parent,i),function NT(n,t){return null!==n&&t&&t(new Mb(n)),(0,at.of)(!0)}(r.route,i),function qb(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function DT(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>ao(()=>{const d=l.guards.map(f=>{var g;const v=null!==(g=$c(l.node))&&void 0!==g?g:e,w=cd(f,v);return co(function PT(n){return n&&jh(n.canActivateChild)}(w)?w.canActivateChild(i,n):v.runInContext(()=>w(i,n))).pipe(Oi())});return(0,at.of)(d).pipe(Fl())}));return(0,at.of)(o).pipe(Fl())}(n,r.path,e),function LT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,at.of)(!0);const r=i.map(o=>ao(()=>{var l;const d=null!==(l=$c(t))&&void 0!==l?l:e,f=cd(o,d);return co(function MT(n){return n&&jh(n.canActivate)}(f)?f.canActivate(t,n):d.runInContext(()=>f(t,n))).pipe(Oi())}));return(0,at.of)(r).pipe(Fl())}(n,r.route,e))),Oi(r=>!0!==r,!0))}(i,o,n,t):(0,at.of)(d)),(0,yt.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Ln.b)(d=>{if(r.guardsResult=d.guardsResult,la(d.guardsResult))throw Ub(0,d.guardsResult);const f=new yT(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),k(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Up(d=>{if(d.guards.canActivateChecks.length)return(0,at.of)(d).pipe((0,Ln.b)(f=>{const g=new Wm(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),xn(f=>{let g=!1;return(0,at.of)(f).pipe(function GT(n,t){return(0,ye.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,at.of)(e);let o=0;return(0,Hn.D)(r).pipe(or(l=>function qT(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==(null==r?void 0:r.title)&&!__(r)&&(o[Oc]=r.title),function n0(n,t,e,i){const r=function r0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,at.of)({});const o={};return(0,Hn.D)(r).pipe((0,ye.zg)(l=>function Wc(n,t,e,i){var r;const o=null!==(r=$c(t))&&void 0!==r?r:i,l=cd(n,o);return co(l.resolve?l.resolve(t,e):o.runInContext(()=>l(t,e)))}(n[l],t,e,i).pipe(Oi(),(0,Ln.b)(d=>{o[l]=d}))),Ih(1),function Lm(n){return t=>t.lift(new Xa(n))}(o),Ki(l=>pr(l)?is.E:(0,Cr._)(l)))}(o,n,t,i).pipe((0,yt.U)(l=>(n._resolvedData=l,n.data=Ob(n,e).resolve,r&&__(r)&&(n.data[Oc]=r.title),null)))}(l.route,i,n,t)),(0,Ln.b)(()=>o++),Ih(1),(0,ye.zg)(l=>o===r.length?(0,at.of)(e):is.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ln.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Ln.b)(f=>{const g=new Ip(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),Up(d=>{const f=g=>{var v;const w=[];(null===(v=g.routeConfig)||void 0===v?void 0:v.loadComponent)&&!g.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Ln.b)(D=>{g.component=D}),(0,yt.U)(()=>{})));for(const D of g.children)w.push(...f(D));return w};return Rr(f(d.targetSnapshot.root)).pipe(Ue(),Vs(1))}),Up(()=>this.afterPreactivation()),(0,yt.U)(d=>{const f=function CT(n,t,e){const i=xp(n,t._root,e?e._root:void 0);return new kb(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r=Object.assign(Object.assign({},d),{targetRouterState:f})}),(0,Ln.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,yt.U)(i=>(new IT(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Ln.b)({next(){o=!0},complete(){o=!0}}),Ju(()=>{var d;o||l||this.cancelNavigationTransition(r,"",1),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Ki(d=>{var f;if(l=!0,Mp(d)){Xm(d)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new od(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(g),Xm(d)){const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||E_(r.source)};this.scheduleNavigation(v,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new zm(r.id,this.serializeUrl(r.extractedUrl),d,null!==(f=r.targetSnapshot)&&void 0!==f?f:void 0);i.next(g);try{r.resolve(this.errorHandler(d))}catch(v){r.reject(v)}}return is.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},l=null!==(r=e.state)&&void 0!==r&&r.navigationId?e.state:null;if(l){const f=Object.assign({},l);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(o.state=f)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(kp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:d,preserveFragment:f}=i,g=r||this.routerState.root,v=f?this.currentUrlTree.fragment:l;let w=null;switch(d){case"merge":w=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=o||null}return null!==w&&(w=this.removeEmptyProps(w)),pT(g,this.currentUrlTree,e,w,null!=v?v:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=la(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function C_(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},QT):!1===i?Object.assign({},u0):i,la(e))return xh(this.currentUrlTree,e,r);const o=this.parseUrl(e);return xh(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{var i;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Uc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(i=this.titleStrategy)||void 0===i||i.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,l){var d,f;if(this.disposed)return Promise.resolve(!1);let g,v,w;l?(g=l.resolve,v=l.reject,w=l.promise):w=new Promise((P,F)=>{g=P,v=F});const D=++this.navigationId;let A;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),A=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):A=0,this.setTransition({id:D,targetPageId:A,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:g,reject:v,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===l?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new od(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return d0()},providedIn:"root"}),n})();function E_(n){return"imperative"!==n}let Vp=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new wr.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ji),u.Y36(Rl),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class f0{}let eS=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(k(e=>e instanceof Uc),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){var r,o,l;const d=[];for(const f of i){f.providers&&!f._injector&&(f._injector=(0,u.MMx)(f.providers,e,`Route: ${f.path}`));const g=null!==(r=f._injector)&&void 0!==r?r:e,v=null!==(o=f._loadedInjector)&&void 0!==o?o:g;f.loadChildren&&!f._loadedRoutes&&void 0===f.canLoad||f.loadComponent&&!f._loadedComponent?d.push(this.preloadConfig(g,f)):(f.children||f._loadedRoutes)&&d.push(this.processRoutes(v,null!==(l=f.children)&&void 0!==l?l:f._loadedRoutes))}return(0,Hn.D)(d).pipe((0,Dl.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,at.of)(null);const o=r.pipe((0,ye.zg)(l=>{var d;return null===l?(0,at.of)(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(null!==(d=l.injector)&&void 0!==d?d:e,l.routes))}));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,Hn.D)([o,l]).pipe((0,Dl.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ji),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(f0),u.LFG(gd))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hp=new u.OlP("");let p0=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ab?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Uc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Pb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Pb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Zc(n,t){return{\u0275kind:n,\u0275providers:t}}function T_(n){return[{provide:pd,multi:!0,useValue:n}]}function m0(){const n=(0,u.f3M)(u.zs3);return t=>{var e,i;const r=n.get(u.z2F);if(t!==r.components[0])return;const o=n.get(Ji),l=n.get(Ht);1===n.get($p)&&o.initialNavigation(),null===(e=n.get(v0,null,u.XFs.Optional))||void 0===e||e.setUpPreloading(),null===(i=n.get(Hp,null,u.XFs.Optional))||void 0===i||i.init(),o.resetRootComponentType(r.componentTypes[0]),l.next(),l.complete()}}const Ht=new u.OlP("",{factory:()=>new wr.xQ}),$p=new u.OlP("",{providedIn:"root",factory:()=>1});const v0=new u.OlP("");function b0(n){return Zc(0,[{provide:v0,useExisting:eS},{provide:f0,useExisting:n}])}const w0=new u.OlP("ROUTER_FORROOT_GUARD"),rM=[Qe,{provide:T,useClass:O},{provide:Ji,useFactory:d0},Uh,{provide:Rl,useFactory:function g0(n){return n.routerState.root},deps:[Ji]},gd];function C0(){return new u.PXZ("Router",Ji)}let Ul=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[rM,[],T_(e),{provide:w0,useFactory:I_,deps:[[Ji,new u.FiY,new u.tp0]]},{provide:fd,useValue:i||{}},null!=i&&i.useHash?{provide:Ee,useClass:Ve}:{provide:Ee,useClass:$e},{provide:Hp,useFactory:()=>{const n=(0,u.f3M)(Ji),t=(0,u.f3M)(Au),e=(0,u.f3M)(fd);return e.scrollOffset&&t.setOffset(e.scrollOffset),new p0(n,t,e)}},null!=i&&i.preloadingStrategy?b0(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:C0},null!=i&&i.initialNavigation?iS(i):[],[{provide:rS,useFactory:m0},{provide:u.tb,multi:!0,useExisting:rS}]]}}static forChild(e){return{ngModule:n,providers:[T_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(w0,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Vb]}),n})();function I_(n){return"guarded"}function iS(n){return["disabled"===n.initialNavigation?Zc(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(Ji);return()=>{t.setUpLocationChangeListener()}}},{provide:$p,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zc(2,[{provide:$p,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(H,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(o=>{const l=t.get(Ji),d=t.get(Ht);(function r(o){t.get(Ji).events.pipe(k(d=>d instanceof Uc||d instanceof od||d instanceof zm),(0,yt.U)(d=>d instanceof Uc||d instanceof od&&(0===d.code||1===d.code)&&null),k(d=>null!==d),Vs(1)).subscribe(()=>{o()})})(()=>{o(!0),i=!0}),l.afterPreactivation=()=>(o(!0),i||d.closed?(0,at.of)(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const rS=new u.OlP("");class E0{constructor(t,e){this.title=t,this.text=e}}var md=V(353),D_=V(6787),sS=V(2474);class oS{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new T0(t,this.compare,this.keySelector))}}class T0 extends Hi.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}class aS{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new S0(t,this.observables,this.project))}}class S0 extends ta{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let o=0;o<r;o++)this.toRespond.push(o);for(let o=0;o<r;o++)this.add(na(this,e[o],void 0,o))}notifyNext(t,e,i){this.values[i]=e;const r=this.toRespond;if(r.length>0){const o=r.indexOf(i);-1!==o&&r.splice(o,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class cS{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new uS(t,this.predicate))}}class uS extends Hi.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var di=V(6351),js=V(2011),hS=(V(5881),V(3942)),Vl=V(4859),po=V(5861),go=V(9681),$=V(2090),yd=V(1877);const I0="@firebase/database";let Bl="";function A_(n){Bl=n}class D0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,$.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,$.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Wp{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,$.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const $s=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new D0(t)}}catch(t){}return new Wp},Hl=$s("localStorage"),x_=$s("sessionStorage"),jl=new yd.Yd("@firebase/database"),ua=function(){let n=1;return function(){return n++}}(),Zp=function(n){const t=(0,$.dS)(n),e=new $.gQ;e.update(t);const i=e.digest();return $.US.encodeByteArray(i)},vd=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=vd.apply(null,i):t+="object"==typeof i?(0,$.Pz)(i):i,t+=" "}return t};let il=null,pS=!0;const M_=function(n,t){(0,$.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(jl.logLevel=yd.in.VERBOSE,il=jl.log.bind(jl),t&&x_.set("logging_enabled",!0)):"function"==typeof n?il=n:(il=null,x_.remove("logging_enabled"))},Tr=function(...n){if(!0===pS&&(pS=!1,null===il&&!0===x_.get("logging_enabled")&&M_(!0)),il){const t=vd.apply(null,n);il(t)}},$l=function(n){return function(...t){Tr(n,...t)}},bd=function(...n){const t="FIREBASE INTERNAL ERROR: "+vd(...n);jl.error(t)},zs=function(...n){const t=`FIREBASE FATAL ERROR: ${vd(...n)}`;throw jl.error(t),new Error(t)},gr=function(...n){const t="FIREBASE WARNING: "+vd(...n);jl.warn(t)},k_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},rl="[MIN_NAME]",da="[MAX_NAME]",qc=function(n,t){if(n===t)return 0;if(n===rl||t===da)return-1;if(t===rl||n===da)return 1;{const e=L_(n),i=L_(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},A0=function(n,t){return n===t?0:n<t?-1:1},Gp=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,$.Pz)(t))},O_=function(n){if("object"!=typeof n||null===n)return(0,$.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,$.Pz)(t[i]),e+=":",e+=O_(n[t[i]]);return e+="}",e},mS=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function ar(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const R_=function(n){(0,$.hu)(!k_(n),"Invalid JSON number");const i=1023;let r,o,l,d,f;0===n?(o=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,l=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,l=Math.round(n/Math.pow(2,-1074))));const g=[];for(f=52;f;f-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(f=11;f;f-=1)g.push(o%2?1:0),o=Math.floor(o/2);g.push(r?1:0),g.reverse();const v=g.join("");let w="";for(f=0;f<64;f+=8){let D=parseInt(v.substr(f,8),2).toString(16);1===D.length&&(D="0"+D),w+=D}return w.toLowerCase()},aM=new RegExp("^-?(0*)\\d{1,10}$"),yS=-2147483648,x0=2147483647,L_=function(n){if(aM.test(n)){const t=Number(n);if(t>=yS&&t<=x0)return t}return null},Gh=function(n){try{n()}catch(t){setTimeout(()=>{throw gr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},qp=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class cM{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class uM{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Tr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(t)}}let Ws=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Yp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k0="websocket",O0="long_polling";class Jp{constructor(t,e,i,r,o=!1,l="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Hl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function R0(n,t,e){let i;if((0,$.hu)("string"==typeof t,"typeof type must == string"),(0,$.hu)("object"==typeof e,"typeof params must == object"),t===k0)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==O0)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function vS(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return ar(e,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}class Xp{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,$.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,$.p$)(this.counters_)}}const zl={},qh={};function Wl(n){const t=n.toString();return zl[t]||(zl[t]=new Xp),zl[t]}class Kh{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Gh(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Zl{constructor(t,e,i,r,o,l,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$l(t),this.stats_=Wl(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),R0(e,O0,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Kh(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,$.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new B0((...o)=>{const[l,d,f,g,v]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=d,this.password=f;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Yp.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zl.forceAllow_=!0}static forceDisallow(){Zl.forceDisallow_=!0}static isAvailable(){return!((0,$.Yr)()||!Zl.forceAllow_&&(Zl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,$.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,$.h$)(e),r=mS(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,$.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,$.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class B0{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,$.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ua(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=B0.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(d){Tr("frame writing exception"),d.stack&&Tr(d.stack),Tr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Tr("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,$.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Tr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Yh=null;"undefined"!=typeof MozWebSocket?Yh=MozWebSocket:"undefined"!=typeof WebSocket&&(Yh=WebSocket);let Cd=(()=>{class n{constructor(e,i,r,o,l,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$l(this.connId),this.stats_=Wl(i),this.connURL=n.connectionURL_(i,d,f,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,l){const d={v:"5"};return!(0,$.Yr)()&&"undefined"!=typeof location&&location.hostname&&Yp.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),o&&(d.ac=o),l&&(d.p=l),R0(e,k0,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hl.set("previous_websocket_failure",!0);try{let r;if((0,$.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Bl}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new Yh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Yh&&!n.forceDisallow_}static previouslyFailed(){return Hl.isInMemoryStorage||!0===Hl.get("previous_websocket_failure")}markConnectionHealthy(){Hl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,$.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,$.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,$.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=mS(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),H0=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zl,Cd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Cd&&Cd.isAvailable();let r=i&&!Cd.previouslyFailed();if(e.webSocketOnly&&(i||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cd];else{const o=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Z_{constructor(t,e,i,r,o,l,d,f,g,v){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=d,this.onDisconnect_=f,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$l("c:"+this.id+":"),this.transportManager_=new H0(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=qp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Gp("t",t),i=Gp("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Gp("t",t),i=Gp("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Gp("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?bd("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bd("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),qp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):qp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class q0{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class K0{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,$.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,$.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class rg extends K0{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,$.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rg}getInitialEvent(t){return(0,$.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Un{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Cn(){return new Un("")}function tn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Gl(n){return n.pieces_.length-n.pieceNum_}function zn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Un(n.pieces_,t)}function og(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ag(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function lg(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Un(t,0)}function Ai(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Un)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Un(e,0)}function rn(n){return n.pieceNum_>=n.pieces_.length}function Fr(n,t){const e=tn(n),i=tn(t);if(null===e)return t;if(e===i)return Fr(zn(n),zn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Q0(n,t){const e=ag(n,0),i=ag(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=qc(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function cg(n,t){if(Gl(n)!==Gl(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function os(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Gl(n)>Gl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class ol{constructor(t,e){this.errorPrefix_=e,this.parts_=ag(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,$.ug)(this.parts_[i]);Ed(this)}}function Ed(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Kc(n))}function Kc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Qh extends K0{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Qh}getInitialEvent(t){return(0,$.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Td=1e3;let fg,Sd=(()=>{class n extends q0{constructor(e,i,r,o,l,d,f,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=$l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Td,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,$.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qh.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,l={r:o,a:e,b:i};this.log_((0,$.Pz)(l)),(0,$.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new $.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const l=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+l),this.listens.has(d)||this.listens.set(d,new Map),(0,$.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,$.hu)(!this.listens.get(d).has(l),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(l,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,f=>{const g=f.d,v=f.s;n.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",f),"ok"!==v&&this.removeListen_(r,o),e.onComplete&&e.onComplete(v,g))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,$.r3)(e,"w")){const r=(0,$.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,$.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,$.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const l=o.s,d=o.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,$.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const l={p:e};o&&(l.q=r,l.t=o),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,l){this.initConnection_();const d={p:i,d:r};void 0!==l&&(d.h=l),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,$.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):bd("Unrecognized action received from server: "+(0,$.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,$.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Td),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,po.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let f=!1,g=null;const v=function(){g?g.close():(f=!0,o())};e.realtime_={close:v,sendRequest:function(A){(0,$.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(A)}};const D=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[A,P]=yield Promise.all([e.authTokenProvider_.getToken(D),e.appCheckTokenProvider_.getToken(D)]);f?Tr("getToken() completed but was canceled"):(Tr("getToken() completed. Creating connection."),e.authToken_=A&&A.accessToken,e.appCheckToken_=P&&P.token,g=new Z_(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,F=>{gr(F+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(A){e.log_("Failed to get token: "+A),f||(e.repoInfo_.nodeAdmin&&gr(A),v())}}})()}interrupt(e){Tr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Tr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,$.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Td,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>O_(l)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Un(e).toString();let o;if(this.listens.has(r)){const l=this.listens.get(r);o=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){Tr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Tr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,$.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Bl.replace(/\./g,"-")]=1,(0,$.uI)()?e["framework.cordova"]=1:(0,$.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rg.getInstance().currentlyOnline();return(0,$.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new fn(t,e)}}class hg{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new fn(rl,t),r=new fn(rl,e);return 0!==this.compare(i,r)}minPost(){return fn.MIN}}class ew extends hg{static get __EMPTY_NODE(){return fg}static set __EMPTY_NODE(t){fg=t}compare(t,e){return qc(t.name,e.name)}isDefinedOn(t){throw(0,$.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return fn.MIN}maxPost(){return new fn(da,fg)}makePost(t,e){return(0,$.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new fn(t,fg)}toString(){return".key"}}const _o=new ew;class Id{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let K_,yo=(()=>{class n{constructor(e,i,r,o,l){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:as.EMPTY_NODE,this.right=null!=l?l:as.EMPTY_NODE}copy(e,i,r,o,l){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===l?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return as.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return as.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class as{constructor(t,e=as.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new as(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,yo.BLACK,null,null))}remove(t){return new as(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,yo.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Id(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Id(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Id(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Id(this.root_,null,this.comparator_,!0,t)}}function MS(n,t){return qc(n.name,t.name)}function q_(n,t){return qc(n,t)}as.EMPTY_NODE=new class G_{copy(t,e,i,r,o){return this}insert(t,e,i){return new yo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tw=function(n){return"number"==typeof n?"number:"+R_(n):"string:"+n},Xh=function(n){if(n.isLeafNode()){const t=n.val();(0,$.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,$.r3)(t,".sv"),"Priority must be a string or number.")}else(0,$.hu)(n===K_||n.isEmpty(),"priority of unexpected type.");(0,$.hu)(n===K_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ql,Dd,nw,ef=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,$.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Xh(this.priorityNode_)}static set __childrenNodeConstructor(e){ql=e}static get __childrenNodeConstructor(){return ql}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rn(e)?this:".priority"===tn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=tn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,$.hu)(".priority"!==r||1===Gl(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(zn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tw(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?R_(this.value_):this.value_,this.lazyHash_=Zp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,$.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,$.hu)(o>=0,"Unknown leaf type: "+i),(0,$.hu)(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const En=new class OS extends hg{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?qc(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return fn.MIN}maxPost(){return new fn(da,new ef("[PRIORITY-POST]",nw))}makePost(t,e){const i=Dd(t);return new fn(e,new ef("[PRIORITY-POST]",i))}toString(){return".priority"}},tf=Math.log(2);class Ur{constructor(t){this.count=parseInt(Math.log(t+1)/tf,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ha=function(n,t,e,i){n.sort(t);const r=function(f,g){const v=g-f;let w,D;if(0===v)return null;if(1===v)return w=n[f],D=e?e(w):w,new yo(D,w.node,yo.BLACK,null,null);{const A=parseInt(v/2,10)+f,P=r(f,A),F=r(A+1,g);return w=n[A],D=e?e(w):w,new yo(D,w.node,yo.BLACK,P,F)}},d=function(f){let g=null,v=null,w=n.length;const D=function(P,F){const Z=w-P,Y=w;w-=P;const se=r(Z+1,Y),xe=n[Z],be=e?e(xe):xe;A(new yo(be,xe.node,F,null,se))},A=function(P){g?(g.left=P,g=P):(v=P,g=P)};for(let P=0;P<f.count;++P){const F=f.nextBitIsOne(),Z=Math.pow(2,f.count-(P+1));F?D(Z,yo.BLACK):(D(Z,yo.BLACK),D(Z,yo.RED))}return v}(new Ur(n.length));return new as(i||t,d)};let Ad;const Sr={};class vo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,$.hu)(Sr&&En,"ChildrenNode.ts has not been loaded"),Ad=Ad||new vo({".priority":Sr},{".priority":En}),Ad}get(t){const e=(0,$.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof as?e:null}hasIndex(t){return(0,$.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,$.hu)(t!==_o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(fn.Wrap);let d,l=o.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=o.getNext();d=r?ha(i,t.getCompare()):Sr;const f=t.toString(),g=Object.assign({},this.indexSet_);g[f]=t;const v=Object.assign({},this.indexes_);return v[f]=d,new vo(v,g)}addToIndexes(t,e){const i=(0,$.UI)(this.indexes_,(r,o)=>{const l=(0,$.DV)(this.indexSet_,o);if((0,$.hu)(l,"Missing index implementation for "+o),r===Sr){if(l.isDefinedOn(t.node)){const d=[],f=e.getIterator(fn.Wrap);let g=f.getNext();for(;g;)g.name!==t.name&&d.push(g),g=f.getNext();return d.push(t),ha(d,l.getCompare())}return Sr}{const d=e.get(t.name);let f=r;return d&&(f=f.remove(new fn(t.name,d))),f.insert(t,t.node)}});return new vo(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,$.UI)(this.indexes_,r=>{if(r===Sr)return r;{const o=e.get(t.name);return o?r.remove(new fn(t.name,o)):r}});return new vo(i,this.indexSet_)}}let fa,Ft=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Xh(this.priorityNode_),this.children_.isEmpty()&&(0,$.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fa||(fa=new n(new as(q_),null,vo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fa}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?fa:i}}getChild(e){const i=tn(e);return null===i?this:this.getImmediateChild(i).getChild(zn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,$.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new fn(e,i);let o,l;i.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?fa:this.priorityNode_;return new n(o,d,l)}}updateChild(e,i){const r=tn(e);if(null===r)return i;{(0,$.hu)(".priority"!==tn(e)||1===Gl(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(zn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,l=!0;if(this.forEachChild(En,(d,f)=>{i[d]=f.val(e),r++,l&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):l=!1}),!e&&l&&o<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+tw(this.getPriority().val())+":"),this.forEachChild(En,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Zp(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const l=o.getPredecessorKey(new fn(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pa?-1:0}withIndex(e){if(e===_o||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_o||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(En),o=i.getIterator(En);let l=r.getNext(),d=o.getNext();for(;l&&d;){if(l.name!==d.name||!l.node.equals(d.node))return!1;l=r.getNext(),d=o.getNext()}return null===l&&null===d}return!1}return!1}}resolveIndex_(e){return e===_o?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const pa=new class xd extends Ft{constructor(){super(new as(q_),Ft.EMPTY_NODE,vo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ft.EMPTY_NODE}isEmpty(){return!1}};function qn(n,t=null){if(null===n)return Ft.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,$.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ef(n,qn(t));if(n instanceof Array){let e=Ft.EMPTY_NODE;return ar(n,(i,r)=>{if((0,$.r3)(n,i)&&"."!==i.substring(0,1)){const o=qn(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(qn(t))}{const e=[];let i=!1;if(ar(n,(l,d)=>{if("."!==l.substring(0,1)){const f=qn(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new fn(l,f)))}}),0===e.length)return Ft.EMPTY_NODE;const o=ha(e,MS,l=>l.name,q_);if(i){const l=ha(e,En.getCompare());return new Ft(o,qn(t),new vo({".priority":l},{".priority":En}))}return new Ft(o,qn(t),vo.Default)}}Object.defineProperties(fn,{MIN:{value:new fn(rl,Ft.EMPTY_NODE)},MAX:{value:new fn(da,pa)}}),ew.__EMPTY_NODE=Ft.EMPTY_NODE,ef.__childrenNodeConstructor=Ft,function PS(n){K_=n}(pa),function Y_(n){nw=n}(pa),function kS(n){Dd=n}(qn);class Kl extends hg{constructor(t){super(),this.indexPath_=t,(0,$.hu)(!rn(t)&&".priority"!==tn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?qc(t.name,e.name):o}makePost(t,e){const i=qn(t),r=Ft.EMPTY_NODE.updateChild(this.indexPath_,i);return new fn(e,r)}maxPost(){const t=Ft.EMPTY_NODE.updateChild(this.indexPath_,pa);return new fn(da,t)}toString(){return ag(this.indexPath_,0).join("/")}}const Yl=new class Pd extends hg{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?qc(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return fn.MIN}maxPost(){return fn.MAX}makePost(t,e){const i=qn(t);return new fn(e,i)}toString(){return".value"}},Yc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iw=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Yc.charAt(e%64),e=Math.floor(e/64);(0,$.hu)(0===e,"Cannot push at time == 0");let l=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=Yc.charAt(t[r]);return(0,$.hu)(20===l.length,"nextPushId: Length should be 20."),l}}(),X_=function(n){if(n===""+x0)return"-";const t=L_(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let l=0;l<e.length;l++)e[l]=n.charAt(l);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return da;const o=Yc.charAt(Yc.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},ey=function(n){if(n===""+yS)return rl;const t=L_(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+x0:(delete e[e.length-1],e.join("")):(e[e.length-1]=Yc.charAt(Yc.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function ty(n){return{type:"value",snapshotNode:n}}function Qc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function nf(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function rf(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class ny{constructor(t){this.index_=t}updateChild(t,e,i,r,o,l){(0,$.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(nf(e,d)):(0,$.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?l.trackChildChange(Qc(e,i)):l.trackChildChange(rf(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(En,(r,o)=>{e.hasChild(r)||i.trackChildChange(nf(r,o))}),e.isLeafNode()||e.forEachChild(En,(r,o)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(o)||i.trackChildChange(rf(r,o,l))}else i.trackChildChange(Qc(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ft.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sf{constructor(t){this.indexedFilter_=new ny(t.getIndex()),this.index_=t.getIndex(),this.startPost_=sf.getStartPost_(t),this.endPost_=sf.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,l){return this.matches(new fn(e,i))||(i=Ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ft.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Ft.EMPTY_NODE);const o=this;return e.forEachChild(En,(l,d)=>{o.matches(new fn(l,d))||(r=r.updateImmediateChild(l,Ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class iy{constructor(t){this.rangedFilter_=new sf(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,l){return this.rangedFilter_.matches(new fn(e,i))||(i=Ft.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,l):this.fullLimitUpdateChild_(t,e,i,o,l)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Ft.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const d=o.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),l++}}else{let o,l,d,f;if(r=e.withIndex(this.index_),r=r.updatePriority(Ft.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();const w=this.index_.getCompare();d=(D,A)=>w(A,D)}else f=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let g=0,v=!1;for(;f.hasNext();){const w=f.getNext();!v&&d(o,w)<=0&&(v=!0),v&&g<this.limit_&&d(w,l)<=0?g++:r=r.updateImmediateChild(w.name,Ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let l;if(this.reverse_){const w=this.index_.getCompare();l=(D,A)=>w(A,D)}else l=this.index_.getCompare();const d=t;(0,$.hu)(d.numChildren()===this.limit_,"");const f=new fn(e,i),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(d.hasChild(e)){const w=d.getImmediateChild(e);let D=r.getChildAfterChild(this.index_,g,this.reverse_);for(;null!=D&&(D.name===e||d.hasChild(D.name));)D=r.getChildAfterChild(this.index_,D,this.reverse_);const A=null==D?1:l(D,f);if(v&&!i.isEmpty()&&A>=0)return null!=o&&o.trackChildChange(rf(e,i,w)),d.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(nf(e,w));const F=d.updateImmediateChild(e,Ft.EMPTY_NODE);return null!=D&&this.rangedFilter_.matches(D)?(null!=o&&o.trackChildChange(Qc(D.name,D.node)),F.updateImmediateChild(D.name,D.node)):F}}return i.isEmpty()?t:v&&l(g,f)>=0?(null!=o&&(o.trackChildChange(nf(g.name,g.node)),o.trackChildChange(Qc(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(g.name,Ft.EMPTY_NODE)):t}}class kd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=En}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:da}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,$.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===En}copy(){const t=new kd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function af(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function lf(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function cf(n,t){const e=n.copy();return e.index_=t,e}function sy(n){const t={};if(n.isDefault())return t;let e;return n.index_===En?e="$priority":n.index_===Yl?e="$value":n.index_===_o?e="$key":((0,$.hu)(n.index_ instanceof Kl,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,$.Pz)(e),n.startSet_&&(t.startAt=(0,$.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,$.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,$.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,$.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function _g(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==En&&(t.i=n.index_.toString()),t}class uf extends q0{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$l("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,$.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const l=uf.getListenId_(t,i),d={};this.listens_[l]=d;const f=sy(t._queryParams);this.restRequest_(o+".json",f,(g,v)=>{let w=v;if(404===g&&(w=null,g=null),null===g&&this.onDataUpdate_(o,w,!1,i),(0,$.DV)(this.listens_,l)===d){let D;D=g?401===g?"permission_denied":"rest_error:"+g:"ok",r(D,null)}})}unlisten(t,e){const i=uf.getListenId_(t,e);delete this.listens_[i]}get(t){const e=sy(t._queryParams),i=t._path.toString(),r=new $.BH;return this.restRequest_(i+".json",e,(o,l)=>{let d=l;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,$.xO)(e);this.log_("Sending REST request for "+l);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+l+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,$.cI)(d.responseText)}catch(g){gr("Failed to parse JSON response for "+l+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&gr("Got unsuccessful REST response for "+l+" Status: "+d.status),i(d.status);i=null}},d.open("GET",l,!0),d.send()})}}class sw{constructor(){this.rootNode_=Ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Od(){return{value:null,children:new Map}}function Jc(n,t,e){if(rn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=tn(t);n.children.has(i)||n.children.set(i,Od()),Jc(n.children.get(i),t=zn(t),e)}}function oy(n,t){if(rn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(En,(i,r)=>{Jc(n,new Un(i),r)}),oy(n,t)}}if(n.children.size>0){const e=tn(t);return t=zn(t),n.children.has(e)&&oy(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function yg(n,t,e){null!==n.value?e(t,n.value):function ow(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{yg(r,new Un(t.toString()+"/"+i),e)})}class aw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ar(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class US{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new aw(t);const i=1e4+2e4*Math.random();qp(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;ar(t,(r,o)=>{o>0&&(0,$.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),qp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ls=(()=>{return(n=ls||(ls={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ls;var n})();function bg(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class hf{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ls.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(rn(this.path)){if(null!=this.affectedTree.value)return(0,$.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Un(t));return new hf(Cn(),e,this.revert)}}return(0,$.hu)(tn(this.path)===t,"operationForChild called for unrelated child."),new hf(zn(this.path),this.affectedTree,this.revert)}}class Rd{constructor(t,e){this.source=t,this.path=e,this.type=ls.LISTEN_COMPLETE}operationForChild(t){return rn(this.path)?new Rd(this.source,Cn()):new Rd(this.source,zn(this.path))}}class Ql{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ls.OVERWRITE}operationForChild(t){return rn(this.path)?new Ql(this.source,Cn(),this.snap.getImmediateChild(t)):new Ql(this.source,zn(this.path),this.snap)}}class Xc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ls.MERGE}operationForChild(t){if(rn(this.path)){const e=this.children.subtree(new Un(t));return e.isEmpty()?null:e.value?new Ql(this.source,Cn(),e.value):new Xc(this.source,Cn(),e)}return(0,$.hu)(tn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Xc(this.source,zn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class al{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(rn(t))return this.isFullyInitialized()&&!this.filtered_;const e=tn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class lw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function ff(n,t,e,i,r,o){const l=i.filter(d=>d.type===e);l.sort((d,f)=>function cw(n,t,e){if(null==t.childName||null==e.childName)throw(0,$.g5)("Should only compare child_ events.");const i=new fn(t.childName,t.snapshotNode),r=new fn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),l.forEach(d=>{const f=function VS(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(g=>{g.respondsTo(d.type)&&t.push(g.createEvent(f,n.query_))})})}function wg(n,t){return{eventCache:n,serverCache:t}}function xi(n,t,e,i){return wg(new al(t,e,i),n.serverCache)}function ly(n,t,e,i){return wg(n.eventCache,new al(t,e,i))}function Cg(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function eu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Eg;class Xn{constructor(t,e=(()=>(Eg||(Eg=new as(A0)),Eg))()){this.value=t,this.children=e}static fromObject(t){let e=new Xn(null);return ar(t,(i,r)=>{e=e.set(new Un(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Cn(),value:this.value};if(rn(t))return null;{const i=tn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(zn(t),e);return null!=o?{path:Ai(new Un(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(rn(t))return this;{const e=tn(t),i=this.children.get(e);return null!==i?i.subtree(zn(t)):new Xn(null)}}set(t,e){if(rn(t))return new Xn(e,this.children);{const i=tn(t),o=(this.children.get(i)||new Xn(null)).set(zn(t),e),l=this.children.insert(i,o);return new Xn(this.value,l)}}remove(t){if(rn(t))return this.children.isEmpty()?new Xn(null):new Xn(null,this.children);{const e=tn(t),i=this.children.get(e);if(i){const r=i.remove(zn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Xn(null):new Xn(this.value,o)}return this}}get(t){if(rn(t))return this.value;{const e=tn(t),i=this.children.get(e);return i?i.get(zn(t)):null}}setTree(t,e){if(rn(t))return e;{const i=tn(t),o=(this.children.get(i)||new Xn(null)).setTree(zn(t),e);let l;return l=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Xn(this.value,l)}}fold(t){return this.fold_(Cn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ai(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Cn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(rn(t))return null;{const o=tn(t),l=this.children.get(o);return l?l.findOnPath_(zn(t),Ai(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Cn(),e)}foreachOnPath_(t,e,i){if(rn(t))return this;{this.value&&i(e,this.value);const r=tn(t),o=this.children.get(r);return o?o.foreachOnPath_(zn(t),Ai(e,r),i):new Xn(null)}}foreach(t){this.foreach_(Cn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ai(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Zs{constructor(t){this.writeTree_=t}static empty(){return new Zs(new Xn(null))}}function ga(n,t,e){if(rn(t))return new Zs(new Xn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const l=Fr(r,t);return o=o.updateChild(l,e),new Zs(n.writeTree_.set(r,o))}{const r=new Xn(e),o=n.writeTree_.setTree(t,r);return new Zs(o)}}}function cy(n,t,e){let i=n;return ar(e,(r,o)=>{i=ga(i,Ai(t,r),o)}),i}function uw(n,t){if(rn(t))return Zs.empty();{const e=n.writeTree_.setTree(t,new Xn(null));return new Zs(e)}}function Tg(n,t){return null!=tu(n,t)}function tu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Fr(e.path,t)):null}function uy(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(En,(i,r)=>{t.push(new fn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new fn(i,r.value))}),t}function nu(n,t){if(rn(t))return n;{const e=tu(n,t);return new Zs(null!=e?new Xn(e):n.writeTree_.subtree(t))}}function Sg(n){return n.writeTree_.isEmpty()}function Jl(n,t){return bo(Cn(),n.writeTree_,t)}function bo(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,$.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=bo(Ai(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ai(n,".priority"),i)),e}}function Ig(n,t){return _f(t,n)}function dw(n,t){if(n.snap)return os(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&os(Ai(n.path,e),t))return!0;return!1}function jS(n){return n.visible}function fw(n,t,e){let i=Zs.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const l=o.path;let d;if(o.snap)os(e,l)?(d=Fr(e,l),i=ga(i,d,o.snap)):os(l,e)&&(d=Fr(l,e),i=ga(i,Cn(),o.snap.getChild(d)));else{if(!o.children)throw(0,$.g5)("WriteRecord should have .snap or .children");if(os(e,l))d=Fr(e,l),i=cy(i,d,o.children);else if(os(l,e))if(d=Fr(l,e),rn(d))i=cy(i,Cn(),o.children);else{const f=(0,$.DV)(o.children,tn(d));if(f){const g=f.getChild(zn(d));i=ga(i,Cn(),g)}}}}}return i}function pw(n,t,e,i,r){if(i||r){const o=nu(n.visibleWrites,t);return!r&&Sg(o)?e:r||null!=e||Tg(o,Cn())?Jl(fw(n.allWrites,function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(os(g.path,t)||os(t,g.path))},t),e||Ft.EMPTY_NODE):null}{const o=tu(n.visibleWrites,t);if(null!=o)return o;{const l=nu(n.visibleWrites,t);return Sg(l)?e:null!=e||Tg(l,Cn())?Jl(l,e||Ft.EMPTY_NODE):null}}}function gf(n,t,e,i){return pw(n.writeTree,n.treePath,t,e,i)}function Dg(n,t){return function $S(n,t,e){let i=Ft.EMPTY_NODE;const r=tu(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(En,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(e){const o=nu(n.visibleWrites,t);return e.forEachChild(En,(l,d)=>{const f=Jl(nu(o,new Un(l)),d);i=i.updateImmediateChild(l,f)}),uy(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return uy(nu(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function mf(n,t,e,i){return function dy(n,t,e,i,r){(0,$.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ai(t,e);if(Tg(n.visibleWrites,o))return null;{const l=nu(n.visibleWrites,o);return Sg(l)?r.getChild(e):Jl(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Ag(n,t){return function zS(n,t){return tu(n.visibleWrites,t)}(n.writeTree,Ai(n.treePath,t))}function xg(n,t,e){return function pf(n,t,e,i){const r=Ai(t,e),o=tu(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Jl(nu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Mg(n,t){return _f(Ai(n.treePath,t),n.writeTree)}function _f(n,t){return{treePath:n,writeTree:t}}class hy{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,$.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,$.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,rf(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,nf(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Qc(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,$.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,rf(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const fy=new class _w{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class Pg{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new al(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xg(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:eu(this.viewCache_),o=function mw(n,t,e,i,r,o){return function gw(n,t,e,i,r,o,l){let d;const f=nu(n.visibleWrites,t),g=tu(f,Cn());if(null!=g)d=g;else{if(null==e)return[];d=Jl(f,e)}if(d=d.withIndex(l),d.isEmpty()||d.isLeafNode())return[];{const v=[],w=l.getCompare(),D=o?d.getReverseIteratorFrom(i,l):d.getIteratorFrom(i,l);let A=D.getNext();for(;A&&v.length<r;)0!==w(A,i)&&v.push(A),A=D.getNext();return v}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function Cw(n,t,e,i,r,o){const l=t.eventCache;if(null!=Ag(i,e))return t;{let d,f;if(rn(e))if((0,$.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=eu(t),w=Dg(i,g instanceof Ft?g:Ft.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),w,o)}else{const g=gf(i,eu(t));d=n.filter.updateFullNode(t.eventCache.getNode(),g,o)}else{const g=tn(e);if(".priority"===g){(0,$.hu)(1===Gl(e),"Can't have a priority with additional path components");const v=l.getNode();f=t.serverCache.getNode();const w=mf(i,e,v,f);d=null!=w?n.filter.updatePriority(v,w):l.getNode()}else{const v=zn(e);let w;if(l.isCompleteForChild(g)){f=t.serverCache.getNode();const D=mf(i,e,l.getNode(),f);w=null!=D?l.getNode().getImmediateChild(g).updateChild(v,D):l.getNode().getImmediateChild(g)}else w=xg(i,g,t.serverCache);d=null!=w?n.filter.updateChild(l.getNode(),g,w,v,r,o):l.getNode()}}return xi(t,d,l.isFullyInitialized()||rn(e),n.filter.filtersNodes())}}function kg(n,t,e,i,r,o,l,d){const f=t.serverCache;let g;const v=l?n.filter:n.filter.getIndexedFilter();if(rn(e))g=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const A=f.getNode().updateChild(e,i);g=v.updateFullNode(f.getNode(),A,null)}else{const A=tn(e);if(!f.isCompleteForPath(e)&&Gl(e)>1)return t;const P=zn(e),Z=f.getNode().getImmediateChild(A).updateChild(P,i);g=".priority"===A?v.updatePriority(f.getNode(),Z):v.updateChild(f.getNode(),A,Z,P,fy,null)}const w=ly(t,g,f.isFullyInitialized()||rn(e),v.filtersNodes());return Cw(n,w,e,r,new Pg(r,w,o),d)}function py(n,t,e,i,r,o,l){const d=t.eventCache;let f,g;const v=new Pg(r,t,o);if(rn(e))g=n.filter.updateFullNode(t.eventCache.getNode(),i,l),f=xi(t,g,!0,n.filter.filtersNodes());else{const w=tn(e);if(".priority"===w)g=n.filter.updatePriority(t.eventCache.getNode(),i),f=xi(t,g,d.isFullyInitialized(),d.isFiltered());else{const D=zn(e),A=d.getNode().getImmediateChild(w);let P;if(rn(D))P=i;else{const F=v.getCompleteChild(w);P=null!=F?".priority"===og(D)&&F.getChild(lg(D)).isEmpty()?F:F.updateChild(D,i):Ft.EMPTY_NODE}f=A.equals(P)?t:xi(t,n.filter.updateChild(d.getNode(),w,P,D,v,l),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function Ew(n,t){return n.eventCache.isCompleteForChild(t)}function Tw(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function gy(n,t,e,i,r,o,l,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g,f=t;g=rn(e)?i:new Xn(null).setTree(e,i);const v=t.serverCache.getNode();return g.children.inorderTraversal((w,D)=>{if(v.hasChild(w)){const P=Tw(0,t.serverCache.getNode().getImmediateChild(w),D);f=kg(n,f,new Un(w),P,r,o,l,d)}}),g.children.inorderTraversal((w,D)=>{const A=!t.serverCache.isCompleteForChild(w)&&null===D.value;if(!v.hasChild(w)&&!A){const F=Tw(0,t.serverCache.getNode().getImmediateChild(w),D);f=kg(n,f,new Un(w),F,r,o,l,d)}}),f}class YS{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new ny(i.getIndex()),o=function RS(n){return n.loadsAllData()?new ny(n.getIndex()):n.hasLimit()?new iy(n):new sf(n)}(i);this.processor_=function yw(n){return{filter:n}}(o);const l=e.serverCache,d=e.eventCache,f=r.updateFullNode(Ft.EMPTY_NODE,l.getNode(),null),g=o.updateFullNode(Ft.EMPTY_NODE,d.getNode(),null),v=new al(f,l.isFullyInitialized(),r.filtersNodes()),w=new al(g,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=wg(w,v),this.eventGenerator_=new lw(this.query_)}get query(){return this.query_}}function XS(n,t){const e=eu(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!rn(t)&&!e.getImmediateChild(tn(t)).isEmpty())?e.getChild(t):null}function Sw(n){return 0===n.eventRegistrations_.length}function Iw(n,t,e){const i=[];if(e){(0,$.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(e,r);l&&i.push(l)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Dw(n,t,e,i){t.type===ls.MERGE&&null!==t.source.queryId&&((0,$.hu)(eu(n.viewCache_),"We should always have a full cache before handling merges"),(0,$.hu)(Cg(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function bw(n,t,e,i,r){const o=new hy;let l,d;if(e.type===ls.OVERWRITE){const g=e;g.source.fromUser?l=py(n,t,g.path,g.snap,i,r,o):((0,$.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered()&&!rn(g.path),l=kg(n,t,g.path,g.snap,i,r,d,o))}else if(e.type===ls.MERGE){const g=e;g.source.fromUser?l=function ZS(n,t,e,i,r,o,l){let d=t;return i.foreach((f,g)=>{const v=Ai(e,f);Ew(t,tn(v))&&(d=py(n,d,v,g,r,o,l))}),i.foreach((f,g)=>{const v=Ai(e,f);Ew(t,tn(v))||(d=py(n,d,v,g,r,o,l))}),d}(n,t,g.path,g.children,i,r,o):((0,$.hu)(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered(),l=gy(n,t,g.path,g.children,i,r,d,o))}else if(e.type===ls.ACK_USER_WRITE){const g=e;l=g.revert?function KS(n,t,e,i,r,o){let l;if(null!=Ag(i,e))return t;{const d=new Pg(i,t,r),f=t.eventCache.getNode();let g;if(rn(e)||".priority"===tn(e)){let v;if(t.serverCache.isFullyInitialized())v=gf(i,eu(t));else{const w=t.serverCache.getNode();(0,$.hu)(w instanceof Ft,"serverChildren would be complete if leaf node"),v=Dg(i,w)}g=n.filter.updateFullNode(f,v,o)}else{const v=tn(e);let w=xg(i,v,t.serverCache);null==w&&t.serverCache.isCompleteForChild(v)&&(w=f.getImmediateChild(v)),g=null!=w?n.filter.updateChild(f,v,w,zn(e),d,o):t.eventCache.getNode().hasChild(v)?n.filter.updateChild(f,v,Ft.EMPTY_NODE,zn(e),d,o):f,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=gf(i,eu(t)),l.isLeafNode()&&(g=n.filter.updateFullNode(g,l,o)))}return l=t.serverCache.isFullyInitialized()||null!=Ag(i,Cn()),xi(t,g,l,n.filter.filtersNodes())}}(n,t,g.path,i,r,o):function GS(n,t,e,i,r,o,l){if(null!=Ag(r,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(rn(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return kg(n,t,e,f.getNode().getChild(e),r,o,d,l);if(rn(e)){let g=new Xn(null);return f.getNode().forEachChild(_o,(v,w)=>{g=g.set(new Un(v),w)}),gy(n,t,e,g,r,o,d,l)}return t}{let g=new Xn(null);return i.foreach((v,w)=>{const D=Ai(e,v);f.isCompleteForPath(D)&&(g=g.set(v,f.getNode().getChild(D)))}),gy(n,t,e,g,r,o,d,l)}}(n,t,g.path,g.affectedTree,i,r,o)}else{if(e.type!==ls.LISTEN_COMPLETE)throw(0,$.g5)("Unknown operation type: "+e.type);l=function qS(n,t,e,i,r){const o=t.serverCache;return Cw(n,ly(t,o.getNode(),o.isFullyInitialized()||rn(e),o.isFiltered()),e,i,fy,r)}(n,t,e.path,i,o)}const f=o.getChanges();return function ww(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Cg(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(ty(Cg(t)))}}(t,l,f),{viewCache:l,changes:f}}(n.processor_,r,t,e,i);return function vw(n,t){(0,$.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,$.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,$.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,my(n,o.changes,o.viewCache.eventCache.getNode(),null)}function my(n,t,e,i){return function gM(n,t,e,i){const r=[],o=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function rw(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),ff(n,r,"child_removed",t,i,e),ff(n,r,"child_added",t,i,e),ff(n,r,"child_moved",o,i,e),ff(n,r,"child_changed",t,i,e),ff(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let yf,vy;class _y{constructor(){this.views=new Map}}function Og(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,$.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Dw(o,t,e,i)}{let o=[];for(const l of n.views.values())o=o.concat(Dw(l,t,e,i));return o}}function yy(n,t,e,i,r){const l=n.views.get(t._queryIdentifier);if(!l){let d=gf(e,r?i:null),f=!1;d?f=!0:i instanceof Ft?(d=Dg(e,i),f=!1):(d=Ft.EMPTY_NODE,f=!1);const g=wg(new al(d,f,!1),new al(i,r,!1));return new YS(t,g)}return l}function Xl(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ec(n,t){let e=null;for(const i of n.views.values())e=e||XS(i,t);return e}function Rw(n,t){return t._queryParams.loadsAllData()?Nd(n):n.views.get(t._queryIdentifier)}function iu(n,t){return null!=Rw(n,t)}function ru(n){return null!=Nd(n)}function Nd(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let mM=1;class xt{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Xn(null),this.pendingWriteTree_=function WS(){return{visibleWrites:Zs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function by(n,t,e,i,r){return function HS(n,t,e,i,r){(0,$.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=ga(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?su(n,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function tc(n,t,e=!1){const i=function wo(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Co(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,$.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const d=n.allWrites[l];d.visible&&(l>=e&&dw(d,i.path)?r=!1:os(i.path,d.path)&&(o=!0)),l--}return!!r&&(o?(function hw(n){n.visibleWrites=fw(n.allWrites,jS,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=uw(n.visibleWrites,i.path):ar(i.children,f=>{n.visibleWrites=uw(n.visibleWrites,Ai(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let o=new Xn(null);return null!=i.snap?o=o.set(Cn(),!0):ar(i.children,l=>{o=o.set(new Un(l),!0)}),su(n,new hf(i.path,o,e))}return[]}function _a(n,t,e){return su(n,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function hi(n,t,e,i,r=!1){const o=t._path,l=n.syncPointTree_.get(o);let d=[];if(l&&("default"===t._queryIdentifier||iu(l,t))){const f=function Ow(n,t,e,i){const r=t._queryIdentifier,o=[];let l=[];const d=ru(n);if("default"===r)for(const[f,g]of n.views.entries())l=l.concat(Iw(g,e,i)),Sw(g)&&(n.views.delete(f),g.query._queryParams.loadsAllData()||o.push(g.query));else{const f=n.views.get(r);f&&(l=l.concat(Iw(f,e,i)),Sw(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||o.push(f.query)))}return d&&!ru(n)&&o.push(new(function Mw(){return(0,$.hu)(yf,"Reference.ts has not been loaded"),yf}())(t._repo,t._path)),{removed:o,events:l}}(l,t,e,i);(function Pw(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const g=f.removed;if(d=f.events,!r){const v=-1!==g.findIndex(D=>D._queryParams.loadsAllData()),w=n.syncPointTree_.findOnPath(o,(D,A)=>ru(A));if(v&&!w){const D=n.syncPointTree_.subtree(o);if(!D.isEmpty()){const A=function rI(n){return n.fold((t,e,i)=>{if(e&&ru(e))return[Nd(e)];{let r=[];return e&&(r=Xl(e)),ar(i,(o,l)=>{r=r.concat(l)}),r}})}(D);for(let P=0;P<A.length;++P){const F=A[P],Z=F.query,Y=Vw(n,F);n.listenProvider_.startListening(nc(Z),vf(n,Z),Y.hashFn,Y.onComplete)}}}!w&&g.length>0&&!i&&(v?n.listenProvider_.stopListening(nc(t),null):g.forEach(D=>{const A=n.queryToTagMap.get(Ug(D));n.listenProvider_.stopListening(nc(D),A)}))}!function Bw(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Ug(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,g)}return d}function iI(n,t,e,i){const r=ou(n,i);if(null!=r){const o=Ey(r),l=o.path,d=o.queryId,f=Fr(l,t);return Ty(n,l,new Ql(bg(d),f,e))}return[]}function Lg(n,t,e,i=!1){const r=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(r,(D,A)=>{const P=Fr(D,r);o=o||ec(A,P),l=l||ru(A)});let f,d=n.syncPointTree_.get(r);d?(l=l||ru(d),o=o||ec(d,Cn())):(d=new _y,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=o?f=!0:(f=!1,o=Ft.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((A,P)=>{const F=ec(P,Cn());F&&(o=o.updateImmediateChild(A,F))}));const g=iu(d,t);if(!g&&!t._queryParams.loadsAllData()){const D=Ug(t);(0,$.hu)(!n.queryToTagMap.has(D),"View does not exist, but we have a tag");const A=function Hw(){return mM++}();n.queryToTagMap.set(D,A),n.tagToQueryMap.set(A,D)}let w=function kw(n,t,e,i,r,o){const l=yy(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),function eI(n,t){n.eventRegistrations_.push(t)}(l,e),function Aw(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(En,(o,l)=>{i.push(Qc(o,l))}),e.isFullyInitialized()&&i.push(ty(e.getNode())),my(n,i,e.getNode(),t)}(l,e)}(d,t,e,Ig(n.pendingWriteTree_,r),o,f);if(!g&&!l&&!i){const D=Rw(d,t);w=w.concat(function jw(n,t,e){const i=t._path,r=vf(n,t),o=Vw(n,e),l=n.listenProvider_.startListening(nc(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,$.hu)(!ru(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((g,v,w)=>{if(!rn(g)&&v&&ru(v))return[Nd(v).query];{let D=[];return v&&(D=D.concat(Xl(v).map(A=>A.query))),ar(w,(A,P)=>{D=D.concat(P)}),D}});for(let g=0;g<f.length;++g){const v=f[g];n.listenProvider_.stopListening(nc(v),vf(n,v))}}return l}(n,t,D))}return w}function Fg(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(l,d)=>{const g=ec(d,Fr(l,t));if(g)return g});return pw(r,t,o,e,!0)}function su(n,t){return wy(t,n.syncPointTree_,null,Ig(n.pendingWriteTree_,Cn()))}function wy(n,t,e,i){if(rn(n.path))return Cy(n,t,e,i);{const r=t.get(Cn());null==e&&null!=r&&(e=ec(r,Cn()));let o=[];const l=tn(n.path),d=n.operationForChild(l),f=t.children.get(l);if(f&&d){const g=e?e.getImmediateChild(l):null,v=Mg(i,l);o=o.concat(wy(d,f,g,v))}return r&&(o=o.concat(Og(r,n,i,e))),o}}function Cy(n,t,e,i){const r=t.get(Cn());null==e&&null!=r&&(e=ec(r,Cn()));let o=[];return t.children.inorderTraversal((l,d)=>{const f=e?e.getImmediateChild(l):null,g=Mg(i,l),v=n.operationForChild(l);v&&(o=o.concat(Cy(v,d,f,g)))}),r&&(o=o.concat(Og(r,n,i,e))),o}function Vw(n,t){const e=t.query,i=vf(n,e);return{hashFn:()=>(function QS(n){return n.viewCache_.serverCache.getNode()}(t)||Ft.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ng(n,t,e){const i=ou(n,e);if(i){const r=Ey(i),o=r.path,l=r.queryId,d=Fr(o,t);return Ty(n,o,new Rd(bg(l),d))}return[]}(n,e._path,i):function Rg(n,t){return su(n,new Rd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function oM(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return hi(n,e,null,o)}}}}function vf(n,t){const e=Ug(t);return n.queryToTagMap.get(e)}function Ug(n){return n._path.toString()+"$"+n._queryIdentifier}function ou(n,t){return n.tagToQueryMap.get(t)}function Ey(n){const t=n.indexOf("$");return(0,$.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Un(n.substr(0,t))}}function Ty(n,t,e){const i=n.syncPointTree_.get(t);return(0,$.hu)(i,"Missing sync point for query tag that we're tracking"),Og(i,e,Ig(n.pendingWriteTree_,t),null)}function nc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Lw(){return(0,$.hu)(vy,"Reference.ts has not been loaded"),vy}())(n._repo,n._path):n}class Sy{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Sy(e)}node(){return this.node_}}class au{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ai(this.path_,t);return new au(this.syncTree_,e)}node(){return Fg(this.syncTree_,this.path_)}}const $w=function(n,t,e){return n&&"object"==typeof n?((0,$.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?sI(n[".sv"],t,e):"object"==typeof n[".sv"]?oI(n[".sv"],t):void(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},sI=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,$.hu)(!1,"Unexpected server value: "+n)},oI=function(n,t,e){n.hasOwnProperty("increment")||(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,$.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,$.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},Iy=function(n,t,e,i){return Bg(t,new au(e,n),i)},Vg=function(n,t,e){return Bg(n,new Sy(t),e)};function Bg(n,t,e){const i=n.getPriority().val(),r=$w(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const l=n,d=$w(l.getValue(),t,e);return d!==l.getValue()||r!==l.getPriority().val()?new ef(d,qn(r)):n}{const l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new ef(r))),l.forEachChild(En,(d,f)=>{const g=Bg(f,t.getImmediateChild(d),e);g!==f&&(o=o.updateImmediateChild(d,g))}),o}}class Dy{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function wf(n,t){let e=t instanceof Un?t:new Un(t),i=n,r=tn(e);for(;null!==r;){const o=(0,$.DV)(i.node.children,r)||{children:{},childCount:0};i=new Dy(r,i,o),e=zn(e),r=tn(e)}return i}function lu(n){return n.node.value}function Ay(n,t){n.node.value=t,My(n)}function aI(n){return n.node.childCount>0}function xy(n,t){ar(n.node.children,(e,i)=>{t(new Dy(e,n,i))})}function lI(n,t,e,i){e&&!i&&t(n),xy(n,r=>{lI(r,t,!0,i)}),e&&i&&t(n)}function ic(n){return new Un(null===n.parent?n.name:ic(n.parent)+"/"+n.name)}function My(n){null!==n.parent&&function cI(n,t,e){const i=function _M(n){return void 0===lu(n)&&!aI(n)}(e),r=(0,$.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,My(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,My(n))}(n.parent,n.name,n)}const Ww=/[\[\].#$\/\u0000-\u001F\u007F]/,Cf=/[\[\].#$\u0000-\u001F\u007F]/,Py=10485760,Hg=function(n){return"string"==typeof n&&0!==n.length&&!Ww.test(n)},Zw=function(n){return"string"==typeof n&&0!==n.length&&!Cf.test(n)},Ef=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!k_(n)||n&&"object"==typeof n&&(0,$.r3)(n,".sv")},Eo=function(n,t,e,i){i&&void 0===t||Tf((0,$.gK)(n,"value"),t,e)},Tf=function(n,t,e){const i=e instanceof Un?new ol(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Kc(i));if("function"==typeof t)throw new Error(n+"contains a function "+Kc(i)+" with contents = "+t.toString());if(k_(t))throw new Error(n+"contains "+t.toString()+" "+Kc(i));if("string"==typeof t&&t.length>Py/3&&(0,$.ug)(t)>Py)throw new Error(n+"contains a string greater than "+Py+" utf8 bytes "+Kc(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(ar(t,(l,d)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!Hg(l)))throw new Error(n+" contains an invalid key ("+l+") "+Kc(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ug(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,$.ug)(t),Ed(n)})(i,l),Tf(n,d,i),function dg(n){const t=n.parts_.pop();n.byteLength_-=(0,$.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Kc(i)+" in addition to actual children.")}},cu=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,$.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];ar(t,(l,d)=>{const f=new Un(l);if(Tf(r,d,Ai(e,f)),".priority"===og(f)&&!Ef(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=ag(i);for(let l=0;l<o.length;l++)if((".priority"!==o[l]||l!==o.length-1)&&!Hg(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Q0);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&os(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},ky=function(n,t,e){if(!e||void 0!==t){if(k_(t))throw new Error((0,$.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ef(t))throw new Error((0,$.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ld=function(n,t,e,i){if(!(i&&void 0===e||Hg(e)))throw new Error((0,$.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sf=function(n,t,e,i){if(!(i&&void 0===e||Zw(e)))throw new Error((0,$.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gs=function(n,t){if(".info"===tn(t))throw new Error(n+" failed = Can't modify data under /.info/")},Oy=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Hg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zw(n)}(e))throw new Error((0,$.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class hI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fd(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!cg(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function qw(n,t,e){Fd(n,e),Ry(n,i=>cg(i,t))}function cs(n,t,e){Fd(n,e),Ry(n,i=>os(i,t)||os(t,i))}function Ry(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(fI(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function fI(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();il&&Tr("event: "+e.toString()),Gh(i)}}}const Kw="repo_interrupt";class Ny{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Od(),this.transactionQueueTree_=new Dy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ly(n){const e=n.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function If(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Ly(n)})}function Yw(n,t,e,i,r){n.dataUpdateCount++;const o=new Un(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const f=(0,$.UI)(e,g=>qn(g));l=function Fw(n,t,e,i){const r=ou(n,i);if(r){const o=Ey(r),l=o.path,d=o.queryId,f=Fr(l,t),g=Xn.fromObject(e);return Ty(n,l,new Xc(bg(d),f,g))}return[]}(n.serverSyncTree_,o,f,r)}else{const f=qn(e);l=iI(n.serverSyncTree_,o,f,r)}else if(i){const f=(0,$.UI)(e,g=>qn(g));l=function nI(n,t,e){const i=Xn.fromObject(e);return su(n,new Xc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,f)}else{const f=qn(e);l=_a(n.serverSyncTree_,o,f)}let d=o;l.length>0&&(d=du(n,o)),cs(n.eventQueue_,d,l)}function Qw(n,t){Fy(n,"connected",t),!1===t&&function Xw(n){uu(n,"onDisconnectEvents");const t=If(n),e=Od();yg(n.onDisconnect_,Cn(),(r,o)=>{const l=Iy(r,o,n.serverSyncTree_,t);Jc(e,r,l)});let i=[];yg(e,Cn(),(r,o)=>{i=i.concat(_a(n.serverSyncTree_,r,o));const l=Af(n,r);du(n,l)}),n.onDisconnect_=Od(),cs(n.eventQueue_,Cn(),i)}(n)}function Fy(n,t,e){const i=new Un("/.info/"+t),r=qn(e);n.infoData_.updateSnapshot(i,r);const o=_a(n.infoSyncTree_,i,r);cs(n.eventQueue_,i,o)}function jg(n){return n.nextWriteId_++}function Uy(n,t,e,i,r){uu(n,"set",{path:t.toString(),value:e,priority:i});const o=If(n),l=qn(e,i),d=Fg(n.serverSyncTree_,t),f=Vg(l,d,o),g=jg(n),v=by(n.serverSyncTree_,t,f,g,!0);Fd(n.eventQueue_,v),n.server_.put(t.toString(),l.val(!0),(D,A)=>{const P="ok"===D;P||gr("set at "+t+" failed: "+D);const F=tc(n.serverSyncTree_,g,!P);cs(n.eventQueue_,t,F),ya(0,r,D,A)});const w=Af(n,t);du(n,w),cs(n.eventQueue_,w,[])}function yI(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&oy(n.onDisconnect_,t),ya(0,e,i,r)})}function eC(n,t,e,i){const r=qn(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,l)=>{"ok"===o&&Jc(n.onDisconnect_,t,r),ya(0,i,o,l)})}function Vy(n,t,e){let i;i=".info"===tn(t._path)?hi(n.infoSyncTree_,t,e):hi(n.serverSyncTree_,t,e),qw(n.eventQueue_,t._path,i)}function $g(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Kw)}function uu(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Tr(e,...t)}function ya(n,t,e,i){t&&Gh(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,t(l)}})}function Hy(n,t,e){return Fg(n.serverSyncTree_,t,e)||Ft.EMPTY_NODE}function Ud(n,t=n.transactionQueueTree_){if(t||Df(n,t),lu(t)){const e=nC(n,t);(0,$.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function CI(n,t,e){const i=e.map(g=>g.currentWriteId),r=Hy(n,t,i);let o=r;const l=r.hash();for(let g=0;g<e.length;g++){const v=e[g];(0,$.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const w=Fr(t,v.path);o=o.updateChild(w,v.currentOutputSnapshotRaw)}const d=o.val(!0),f=t;n.server_.put(f.toString(),d,g=>{uu(n,"transaction put response",{path:f.toString(),status:g});let v=[];if("ok"===g){const w=[];for(let D=0;D<e.length;D++)e[D].status=2,v=v.concat(tc(n.serverSyncTree_,e[D].currentWriteId)),e[D].onComplete&&w.push(()=>e[D].onComplete(null,!0,e[D].currentOutputSnapshotResolved)),e[D].unwatcher();Df(n,wf(n.transactionQueueTree_,t)),Ud(n,n.transactionQueueTree_),cs(n.eventQueue_,t,v);for(let D=0;D<w.length;D++)Gh(w[D])}else{if("datastale"===g)for(let w=0;w<e.length;w++)e[w].status=3===e[w].status?4:0;else{gr("transaction at "+f.toString()+" failed: "+g);for(let w=0;w<e.length;w++)e[w].status=4,e[w].abortReason=g}du(n,t)}},l)}(n,ic(t),e)}else aI(t)&&xy(t,e=>{Ud(n,e)})}function du(n,t){const e=jy(n,t),i=ic(e);return function Vd(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],g=Fr(e,f.path);let w,v=!1;if((0,$.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,w=f.abortReason,r=r.concat(tc(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)v=!0,w="maxretry",r=r.concat(tc(n.serverSyncTree_,f.currentWriteId,!0));else{const D=Hy(n,f.path,l);f.currentInputSnapshot=D;const A=t[d].update(D.val());if(void 0!==A){Tf("transaction failed: Data returned ",A,f.path);let P=qn(A);"object"==typeof A&&null!=A&&(0,$.r3)(A,".priority")||(P=P.updatePriority(D.getPriority()));const Z=f.currentWriteId,Y=If(n),se=Vg(P,D,Y);f.currentOutputSnapshotRaw=P,f.currentOutputSnapshotResolved=se,f.currentWriteId=jg(n),l.splice(l.indexOf(Z),1),r=r.concat(by(n.serverSyncTree_,f.path,se,f.currentWriteId,f.applyLocally)),r=r.concat(tc(n.serverSyncTree_,Z,!0))}else v=!0,w="nodata",r=r.concat(tc(n.serverSyncTree_,f.currentWriteId,!0))}cs(n.eventQueue_,e,r),r=[],v&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===w?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(w),!1,null)))}Df(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)Gh(i[d]);Ud(n,n.transactionQueueTree_)}(n,nC(n,e),i),i}function jy(n,t){let e,i=n.transactionQueueTree_;for(e=tn(t);null!==e&&void 0===lu(i);)i=wf(i,e),e=tn(t=zn(t));return i}function nC(n,t){const e=[];return EI(n,t,e),e.sort((i,r)=>i.order-r.order),e}function EI(n,t,e){const i=lu(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);xy(t,r=>{EI(n,r,e)})}function Df(n,t){const e=lu(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,Ay(t,e.length>0?e:void 0)}xy(t,i=>{Df(n,i)})}function Af(n,t){const e=ic(jy(n,t)),i=wf(n.transactionQueueTree_,t);return function zw(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{$y(n,r)}),$y(n,i),lI(i,r=>{$y(n,r)}),e}function $y(n,t){const e=lu(t);if(e){const i=[];let r=[],o=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,$.hu)(o===l-1,"All SENT items should be at beginning of queue."),o=l,e[l].status=3,e[l].abortReason="set"):((0,$.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(tc(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Ay(t,void 0):e.length=o+1,cs(n.eventQueue_,ic(t),r);for(let l=0;l<i.length;l++)Gh(i[l])}}const zg=function(n,t){const e=Wy(n),i=e.namespace;return"firebase.com"===e.domain&&zs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&zs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Jp(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Un(e.pathString)}},Wy=function(n){let t="",e="",i="",r="",o="",l=!0,d="https",f=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(d=n.substring(0,g-1),n=n.substring(g+2));let v=n.indexOf("/");-1===v&&(v=n.length);let w=n.indexOf("?");-1===w&&(w=n.length),t=n.substring(0,Math.min(v,w)),v<w&&(r=function zy(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(v,w)));const D=function TI(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):gr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,w)));g=t.indexOf(":"),g>=0?(l="https"===d||"wss"===d,f=parseInt(t.substring(g+1),10)):g=t.length;const A=t.slice(0,g);if("localhost"===A.toLowerCase())e="localhost";else if(A.split(".").length<=2)e=A;else{const P=t.indexOf(".");i=t.substring(0,P).toLowerCase(),e=t.substring(P+1),o=i}"ns"in D&&(o=D.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:l,scheme:d,pathString:r,namespace:o}};class Zy{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,$.Pz)(this.snapshot.exportVal())}}class Gy{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Wg{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,$.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class qy{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new $.BH;return yI(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Gs("OnDisconnect.remove",this._path);const t=new $.BH;return eC(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Gs("OnDisconnect.set",this._path),Eo("OnDisconnect.set",t,this._path,!1);const e=new $.BH;return eC(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Gs("OnDisconnect.setWithPriority",this._path),Eo("OnDisconnect.setWithPriority",t,this._path,!1),ky("OnDisconnect.setWithPriority",e,!1);const i=new $.BH;return function tC(n,t,e,i,r){const o=qn(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,d)=>{"ok"===l&&Jc(n.onDisconnect_,t,o),ya(0,r,l,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Gs("OnDisconnect.update",this._path),cu("OnDisconnect.update",t,this._path,!1);const e=new $.BH;return function vI(n,t,e,i){if((0,$.xb)(e))return Tr("onDisconnect().update() called with empty data.  Don't do anything."),void ya(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&ar(e,(l,d)=>{const f=qn(d);Jc(n.onDisconnect_,Ai(t,l),f)}),ya(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class us{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return rn(this._path)?null:og(this._path)}get ref(){return new As(this._repo,this._path)}get _queryIdentifier(){const t=_g(this._queryParams),e=O_(t);return"{}"===e?"default":e}get _queryObject(){return _g(this._queryParams)}isEqual(t){if(!((t=(0,$.m9)(t))instanceof us))return!1;const e=this._repo===t._repo,i=cg(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fM(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Zg(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function rc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===_o){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==rl)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==da)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===En){if(null!=t&&!Ef(t)||null!=e&&!Ef(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,$.hu)(n.getIndex()instanceof Kl||n.getIndex()===Yl,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Gg(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class As extends us{constructor(t,e){super(t,e,new kd,!1)}get parent(){const t=lg(this._path);return null===t?null:new As(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Bd{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Un(t),i=hu(this.ref,t);return new Bd(this._node.getChild(e),i,En)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Bd(r,hu(this.ref,i),En)))}hasChild(t){const e=new Un(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ky(n,t){return(n=(0,$.m9)(n))._checkNotDeleted("ref"),void 0!==t?hu(n._root,t):n._root}function iC(n,t){(n=(0,$.m9)(n))._checkNotDeleted("refFromURL");const e=zg(t,n._repo.repoInfo_.nodeAdmin);Oy("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&zs("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Ky(n,e.path.toString())}function hu(n,t){return null===tn((n=(0,$.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Sf("child","path",e,!1)):Sf("child","path",t,!1),new As(n._repo,Ai(n._path,t));var e}function Yy(n,t){n=(0,$.m9)(n),Gs("set",n._path),Eo("set",t,n._path,!1);const e=new $.BH;return Uy(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function AI(n,t){cu("update",t,n._path,!1);const e=new $.BH;return function Jw(n,t,e,i){uu(n,"update",{path:t.toString(),value:e});let r=!0;const o=If(n),l={};if(ar(e,(d,f)=>{r=!1,l[d]=Iy(Ai(t,d),qn(f),n.serverSyncTree_,o)}),r)Tr("update() called with empty data.  Don't do anything."),ya(0,i,"ok",void 0);else{const d=jg(n),f=function tI(n,t,e,i){!function ma(n,t,e,i){(0,$.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=cy(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Xn.fromObject(e);return su(n,new Xc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,l,d);Fd(n.eventQueue_,f),n.server_.merge(t.toString(),e,(g,v)=>{const w="ok"===g;w||gr("update at "+t+" failed: "+g);const D=tc(n.serverSyncTree_,d,!w),A=D.length>0?du(n,t):t;cs(n.eventQueue_,A,D),ya(0,i,g,v)}),ar(e,g=>{const v=Af(n,Ai(t,g));du(n,v)}),cs(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function xI(n){n=(0,$.m9)(n);const t=new Wg(()=>{}),e=new xf(t);return function _I(n,t,e){const i=function Uw(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(g,v)=>{const w=Fr(g,e);i=i||ec(v,w)});let r=n.syncPointTree_.get(e);r?i=i||ec(r,Cn()):(r=new _y,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,l=o?new al(i,!0,!1):null;return function JS(n){return Cg(n.viewCache_)}(yy(r,t,Ig(n.pendingWriteTree_,t._path),o?l.getNode():Ft.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=qn(r).withIndex(t._queryParams.getIndex());let l;if(Lg(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=_a(n.serverSyncTree_,t._path,o);else{const d=vf(n.serverSyncTree_,t);l=iI(n.serverSyncTree_,t._path,o,d)}return cs(n.eventQueue_,t._path,l),hi(n.serverSyncTree_,t,e,null,!0),o},r=>(uu(n,"get for query "+(0,$.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Bd(i,new As(n._repo,n._path),n._queryParams.getIndex()))}class xf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Zy("value",this,new Bd(t.snapshotNode,new As(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Gy(this,t,e):null}matches(t){return t instanceof xf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qg{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Gy(this,t,e):null}createEvent(t,e){(0,$.hu)(null!=t.childName,"Child events should have a childName.");const i=hu(new As(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Zy(t.type,this,new Bd(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof qg&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Mf(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const f=e,g=(v,w)=>{Vy(n._repo,n,d),f(v,w)};g.userCallback=e.userCallback,g.context=e.context,e=g}const l=new Wg(e,o||void 0),d="value"===t?new xf(l):new qg(t,l);return function bI(n,t,e){let i;i=".info"===tn(t._path)?Lg(n.infoSyncTree_,t,e):Lg(n.serverSyncTree_,t,e),qw(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>Vy(n._repo,n,d)}function Qy(n,t,e,i){return Mf(n,"value",t,e,i)}function rC(n,t,e,i){return Mf(n,"child_added",t,e,i)}function sC(n,t,e,i){return Mf(n,"child_changed",t,e,i)}function Hd(n,t,e,i){return Mf(n,"child_moved",t,e,i)}function Jy(n,t,e,i){return Mf(n,"child_removed",t,e,i)}function Xy(n,t,e){let i=null;const r=e?new Wg(e):null;"value"===t?i=new xf(r):t&&(i=new qg(t,r)),Vy(n._repo,n,i)}class qs{}class ev extends qs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("endAt",this._value,t._path,!0);const e=lf(t._queryParams,this._value,this._key);if(Gg(e),rc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(t._repo,t._path,e,t._orderByCalled)}}class aC extends qs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("endBefore",this._value,t._path,!1);const e=function ry(n,t,e){let i,r;return n.index_===_o?("string"==typeof t&&(t=ey(t)),r=lf(n,t,e)):(i=null==e?rl:ey(e),r=lf(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(Gg(e),rc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new us(t._repo,t._path,e,t._orderByCalled)}}class PI extends qs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("startAt",this._value,t._path,!0);const e=af(t._queryParams,this._value,this._key);if(Gg(e),rc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new us(t._repo,t._path,e,t._orderByCalled)}}class cC extends qs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Eo("startAfter",this._value,t._path,!1);const e=function NS(n,t,e){let i;if(n.index_===_o)"string"==typeof t&&(t=X_(t)),i=af(n,t,e);else{let r;r=null==e?da:X_(e),i=af(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(Gg(e),rc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new us(t._repo,t._path,e,t._orderByCalled)}}class OI extends qs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(t._repo,t._path,function gg(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Pf extends qs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new us(t._repo,t._path,function mg(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class tv extends qs{constructor(t){super(),this._path=t}_apply(t){Zg(t,"orderByChild");const e=new Un(this._path);if(rn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Kl(e),r=cf(t._queryParams,i);return rc(r),new us(t._repo,t._path,r,!0)}}class LI extends qs{_apply(t){Zg(t,"orderByKey");const e=cf(t._queryParams,_o);return rc(e),new us(t._repo,t._path,e,!0)}}class kf extends qs{_apply(t){Zg(t,"orderByPriority");const e=cf(t._queryParams,En);return rc(e),new us(t._repo,t._path,e,!0)}}class UI extends qs{_apply(t){Zg(t,"orderByValue");const e=cf(t._queryParams,Yl);return rc(e),new us(t._repo,t._path,e,!0)}}class Kg extends qs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Eo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ev(this._value,this._key)._apply(new PI(this._value,this._key)._apply(t))}}function To(n,...t){let e=(0,$.m9)(n);for(const i of t)e=i._apply(e);return e}(function xw(n){(0,$.hu)(!yf,"__referenceConstructor has already been defined"),yf=n})(As),function Nw(n){(0,$.hu)(!vy,"__referenceConstructor has already been defined"),vy=n}(As);const Qg={};function sv(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||zs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tr("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,g,l=zg(o,r),d=l.repoInfo;"undefined"!=typeof process&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(f=!0,o=`http://${g}?ns=${d.namespace}`,l=zg(o,r),d=l.repoInfo):f=!l.repoInfo.secure;const v=r&&f?new Ws(Ws.OWNER):new uM(n.name,n.options,t);Oy("Invalid Firebase Database URL",l),rn(l.path)||zs("Database URL must point to the root of a Firebase Database (not including a child path).");const w=function jI(n,t,e,i){let r=Qg[t.name];r||(r={},Qg[t.name]=r);let o=r[n.toURLString()];return o&&zs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ny(n,false,e,i),r[n.toURLString()]=o,o}(d,n,v,new cM(n.name,e));return new ov(w,n)}class ov{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function gI(n,t,e){if(n.stats_=Wl(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new uf(n.repoInfo_,(i,r,o,l)=>{Yw(n,i,r,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Qw(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,$.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Sd(n.repoInfo_,t,(i,r,o,l)=>{Yw(n,i,r,o,l)},i=>{Qw(n,i)},i=>{!function mI(n,t){ar(t,(e,i)=>{Fy(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function eg(n,t){const e=n.toString();return qh[e]||(qh[e]=t()),qh[e]}(n.repoInfo_,()=>new US(n.stats_,n.server_)),n.infoData_=new sw,n.infoSyncTree_=new xt({startListening:(i,r,o,l)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=_a(n.infoSyncTree_,i._path,f),setTimeout(()=>{l("ok")},0)),d},stopListening:()=>{}}),Fy(n,"connected",!1),n.serverSyncTree_=new xt({startListening:(i,r,o,l)=>(n.server_.listen(i,o,r,(d,f)=>{const g=l(d,f);cs(n.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new As(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HI(n,t){const e=Qg[t];(!e||e[n.key]!==n)&&zs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),$g(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&zs("Cannot call "+t+" on a deleted database.")}}function Jg(){H0.IS_TRANSPORT_INITIALIZED&&gr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uC(){Jg(),Zl.forceDisallow()}function av(){Jg(),Cd.forceDisallow(),Zl.forceAllow()}function lv(n=(0,go.getApp)(),t){return(0,go._getProvider)(n,"database").getImmediate({identifier:t})}function ZI(n,t){M_(n,t)}const cv={".sv":"timestamp"};class fC{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Sd.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Sd.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function dC(n){A_(go.SDK_VERSION),(0,go._registerComponent)(new Vl.wA("database",(t,{instanceIdentifier:e})=>sv(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,go.registerVersion)(I0,"0.13.6",n),(0,go.registerVersion)(I0,"0.13.6","esm2017")}();const mC=new yd.Yd("@firebase/database-compat"),_C=function(n){mC.warn("FIREBASE WARNING: "+n)};class YI{constructor(t){this._delegate=t}cancel(t){(0,$.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,$.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,$.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,$.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,$.Dv)("OnDisconnect.set",1,2,arguments.length),(0,$.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,$.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,$.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,$.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,_C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,$.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class QI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,$.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,$.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,$.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,$.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,$.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,$.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Sf("DataSnapshot.child","path",t,!1),new fu(this._database,this._delegate.child(t))}hasChild(t){return(0,$.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Sf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,$.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,$.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,$.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new fu(this._database,e)))}hasChildren(){return(0,$.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,$.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,$.Dv)("DataSnapshot.ref",0,0,arguments.length),new ds(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,$.Dv)("Query.on",2,4,arguments.length),(0,$.Wj)("Query.on","callback",e,!1);const l=Vr.getCancelAndContextArgs_("Query.on",i,r),d=(g,v)=>{e.call(l.context,new fu(this.database,g),v)};d.userCallback=e,d.context=l.context;const f=null===(o=l.cancel)||void 0===o?void 0:o.bind(l.context);switch(t){case"value":return Qy(this._delegate,d,f),e;case"child_added":return rC(this._delegate,d,f),e;case"child_removed":return Jy(this._delegate,d,f),e;case"child_changed":return sC(this._delegate,d,f),e;case"child_moved":return Hd(this._delegate,d,f),e;default:throw new Error((0,$.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,$.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,$.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,$.Wj)("Query.off","callback",e,!0),(0,$.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Xy(this._delegate,t,r)}else Xy(this._delegate,t)}get(){return xI(this._delegate).then(t=>new fu(this.database,t))}once(t,e,i,r){(0,$.Dv)("Query.once",1,4,arguments.length),(0,$.Wj)("Query.once","callback",e,!0);const o=Vr.getCancelAndContextArgs_("Query.once",i,r),l=new $.BH,d=(g,v)=>{const w=new fu(this.database,g);e&&e.call(o.context,w,v),l.resolve(w)};d.userCallback=e,d.context=o.context;const f=g=>{o.cancel&&o.cancel.call(o.context,g),l.reject(g)};switch(t){case"value":Qy(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":rC(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":Jy(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":sC(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":Hd(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,$.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,$.Dv)("Query.limitToFirst",1,1,arguments.length),new Vr(this.database,To(this._delegate,function RI(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new OI(n)}(t)))}limitToLast(t){return(0,$.Dv)("Query.limitToLast",1,1,arguments.length),new Vr(this.database,To(this._delegate,function NI(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Pf(n)}(t)))}orderByChild(t){return(0,$.Dv)("Query.orderByChild",1,1,arguments.length),new Vr(this.database,To(this._delegate,function va(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sf("orderByChild","path",n,!1),new tv(n)}(t)))}orderByKey(){return(0,$.Dv)("Query.orderByKey",0,0,arguments.length),new Vr(this.database,To(this._delegate,function nv(){return new LI}()))}orderByPriority(){return(0,$.Dv)("Query.orderByPriority",0,0,arguments.length),new Vr(this.database,To(this._delegate,function FI(){return new kf}()))}orderByValue(){return(0,$.Dv)("Query.orderByValue",0,0,arguments.length),new Vr(this.database,To(this._delegate,function VI(){return new UI}()))}startAt(t=null,e){return(0,$.Dv)("Query.startAt",0,2,arguments.length),new Vr(this.database,To(this._delegate,function lC(n=null,t){return Ld("startAt","key",t,!0),new PI(n,t)}(t,e)))}startAfter(t=null,e){return(0,$.Dv)("Query.startAfter",0,2,arguments.length),new Vr(this.database,To(this._delegate,function kI(n,t){return Ld("startAfter","key",t,!0),new cC(n,t)}(t,e)))}endAt(t=null,e){return(0,$.Dv)("Query.endAt",0,2,arguments.length),new Vr(this.database,To(this._delegate,function oC(n,t){return Ld("endAt","key",t,!0),new ev(n,t)}(t,e)))}endBefore(t=null,e){return(0,$.Dv)("Query.endBefore",0,2,arguments.length),new Vr(this.database,To(this._delegate,function MI(n,t){return Ld("endBefore","key",t,!0),new aC(n,t)}(t,e)))}equalTo(t,e){return(0,$.Dv)("Query.equalTo",1,2,arguments.length),new Vr(this.database,To(this._delegate,function Yg(n,t){return Ld("equalTo","key",t,!0),new Kg(n,t)}(t,e)))}toString(){return(0,$.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,$.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,$.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Vr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,$.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,$.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,$.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ds(this.database,new As(this._delegate._repo,this._delegate._path))}}class ds extends Vr{constructor(t,e){super(t,new us(e._repo,e._path,new kd,!1)),this.database=t,this._delegate=e}getKey(){return(0,$.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,$.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ds(this.database,hu(this._delegate,t))}getParent(){(0,$.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ds(this.database,t):null}getRoot(){return(0,$.Dv)("Reference.root",0,0,arguments.length),new ds(this.database,this._delegate.root)}set(t,e){(0,$.Dv)("Reference.set",1,2,arguments.length),(0,$.Wj)("Reference.set","onComplete",e,!0);const i=Yy(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,$.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,_C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gs("Reference.update",this._delegate._path),(0,$.Wj)("Reference.update","onComplete",e,!0);const i=AI(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,$.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,$.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function DI(n,t,e){if(Gs("setWithPriority",n._path),Eo("setWithPriority",t,n._path,!1),ky("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new $.BH;return Uy(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,$.Dv)("Reference.remove",0,1,arguments.length),(0,$.Wj)("Reference.remove","onComplete",t,!0);const e=function SI(n){return Gs("remove",n._path),Yy(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,$.Dv)("Reference.transaction",1,3,arguments.length),(0,$.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,$.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,$.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function pC(n,t,e){var i;if(n=(0,$.m9)(n),Gs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new $.BH,d=Qy(n,()=>{});return function wI(n,t,e,i,r,o){uu(n,"transaction on "+t);const l={path:t,update:e,onComplete:i,status:null,order:ua(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=Hy(n,t,void 0);l.currentInputSnapshot=d;const f=l.update(d.val());if(void 0===f)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Tf("transaction failed: Data returned ",f,l.path),l.status=0;const g=wf(n.transactionQueueTree_,t),v=lu(g)||[];let w;v.push(l),Ay(g,v),"object"==typeof f&&null!==f&&(0,$.r3)(f,".priority")?(w=(0,$.DV)(f,".priority"),(0,$.hu)(Ef(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):w=(Fg(n.serverSyncTree_,t)||Ft.EMPTY_NODE).getPriority().val();const D=If(n),A=qn(f,w),P=Vg(A,d,D);l.currentOutputSnapshotRaw=A,l.currentOutputSnapshotResolved=P,l.currentWriteId=jg(n);const F=by(n.serverSyncTree_,t,P,l.currentWriteId,l.applyLocally);cs(n.eventQueue_,t,F),Ud(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,g,v)=>{let w=null;f?o.reject(f):(w=new Bd(v,new As(n._repo,n._path),En),o.resolve(new fC(g,w)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new QI(o.committed,new fu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,$.Dv)("Reference.setPriority",1,2,arguments.length),(0,$.Wj)("Reference.setPriority","onComplete",e,!0);const i=function II(n,t){n=(0,$.m9)(n),Gs("setPriority",n._path),ky("setPriority",t,!1);const e=new $.BH;return Uy(n._repo,Ai(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,$.Dv)("Reference.push",0,2,arguments.length),(0,$.Wj)("Reference.push","onComplete",e,!0);const i=function yM(n,t){n=(0,$.m9)(n),Gs("push",n._path),Eo("push",t,n._path,!0);const e=Ly(n._repo),i=iw(e),r=hu(n,i),o=hu(n,i);let l;return l=null!=t?Yy(o,t).then(()=>o):Promise.resolve(o),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=i.then(l=>new ds(this.database,l));e&&r.then(()=>e(null),l=>e(l));const o=new ds(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Gs("Reference.onDisconnect",this._delegate._path),new YI(new qy(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class $d{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uC,forceLongPolling:av}}useEmulator(t,e,i={}){!function $I(n,t,e,i={}){(n=(0,$.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&zs("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&zs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ws(Ws.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,$.Sg)(i.mockUserToken,n.app.options.projectId);o=new Ws(l)}!function rv(n,t,e,i){n.repoInfo_=new Jp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,$.Dv)("database.ref",0,1,arguments.length),t instanceof ds){const e=iC(this._delegate,t.toString());return new ds(this,e)}{const e=Ky(this._delegate,t);return new ds(this,e)}}refFromURL(t){(0,$.Dv)("database.refFromURL",1,1,arguments.length);const i=iC(this._delegate,t);return new ds(this,i)}goOffline(){return(0,$.Dv)("database.goOffline",0,0,arguments.length),function zI(n){(n=(0,$.m9)(n))._checkNotDeleted("goOffline"),$g(n._repo)}(this._delegate)}goOnline(){return(0,$.Dv)("database.goOnline",0,0,arguments.length),function WI(n){(n=(0,$.m9)(n))._checkNotDeleted("goOnline"),function By(n){n.persistentConnection_&&n.persistentConnection_.resume(Kw)}(n._repo)}(this._delegate)}}$d.ServerValue={TIMESTAMP:function hC(){return cv}(),increment:n=>function GI(n){return{".sv":{increment:n}}}(n)};var JI=Object.freeze({__proto__:null,initStandalone:function Of({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){A_(e);const l=new Vl.zt("auth-internal",new Vl.H0("database-standalone"));return l.setComponent(new Vl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new $d(sv(n,l,void 0,t,o),n),namespace:r}}});const uv=$d.ServerValue;!function XI(n){n.INTERNAL.registerComponent(new Vl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new $d(r,i)},"PUBLIC").setServiceProps({Reference:ds,Query:Vr,Database:$d,DataSnapshot:fu,enableLogging:ZI,INTERNAL:JI,ServerValue:uv}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(hS.Z);var zd=V(7770),eD=V(341),tD=V(5283);class nD extends wr.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new dv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;let l;if(this.closed)throw new xc.N;if(this.isStopped||this.hasError?l=gp.w.EMPTY:(this.observers.push(t),l=new tD.W(this,t)),r&&t.add(t=new zd.ht(t,r)),e)for(let d=0;d<o&&!t.closed;d++)t.next(i[d]);else for(let d=0;d<o&&!t.closed;d++)t.next(i[d].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l}_getNow(){return(this.scheduler||eD.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,o=r.length;let l=0;for(;l<o&&!(t-r[l].time<i);)l++;return o>e&&(l=Math.max(l,o-e)),l>0&&r.splice(0,l),r}}class dv{constructor(t,e){this.time=t,this.value=e}}function hv(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function yC({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,l,o=0,d=!1,f=!1;return function(v){let w;o++,!r||d?(d=!1,r=new nD(n,t,i),w=r.subscribe(this),l=v.subscribe({next(D){r.next(D)},error(D){d=!0,r.error(D)},complete(){f=!0,l=void 0,r.complete()}}),f&&(l=void 0)):w=r.subscribe(this),this.add(()=>{o--,w.unsubscribe(),w=void 0,l&&!f&&e&&0===o&&(l.unsubscribe(),l=void 0,r=void 0)})}}(i))}function Rf(n,t){return t?xn(()=>n,t):xn(()=>n)}var Nf=V(8915),pu=V(5867);class gu{constructor(t){return t}}class fv{constructor(){return(0,pu.C6)()}}const pv=new u.OlP("angularfire2._apps"),vC={provide:gu,useFactory:function Wd(n){return n&&1===n.length?n[0]:new gu((0,pu.Mq)())},deps:[[new u.FiY,pv]]},gv={provide:fv,deps:[[new u.FiY,pv]]};function wM(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new gu(i)}}let rD=(()=>{class n{constructor(e){(0,pu.KN)("angularfire",di.q4.full,"core"),(0,pu.KN)("angularfire",di.q4.full,"app"),(0,pu.KN)("angular",u.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vC,gv]}),n})();function CM(n,...t){return{ngModule:rD,providers:[{provide:pv,useFactory:wM(n),multi:!0,deps:[u.R0b,u.zs3,di.HU,...t]}]}}const bC=(0,di.u3)(pu.ZF,!0),mv=new Map,aD={activated:!1,tokenObservers:[]},lD={initialized:!1,enabled:!1};function lr(n){return mv.get(n)||aD}function So(n,t){mv.set(n,t)}function Lf(){return lD}class TC{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,po.Z)(function*(){e.stop();try{e.pending=new $.BH,yield function AM(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new $.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const hs=new $.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function uD(n){if(!lr(n).activated)throw hs.create("use-before-activation",{appName:n.name})}function IC(n,t){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,po.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const A=yield l.getHeartbeatsHeader();A&&(o["X-Firebase-Client"]=A)}const d={method:"POST",body:JSON.stringify(t),headers:o};let f,g;try{f=yield fetch(n,d)}catch(A){throw hs.create("fetch-network-error",{originalErrorMessage:null===(i=A)||void 0===i?void 0:i.message})}if(200!==f.status)throw hs.create("fetch-status-error",{httpStatus:f.status});try{g=yield f.json()}catch(A){throw hs.create("fetch-parse-error",{originalErrorMessage:null===(r=A)||void 0===r?void 0:r.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const w=1e3*Number(v[1]),D=Date.now();return{token:g.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}function em(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const tm="firebase-app-check-store";let Ff=null;function MC(){return Ff||(Ff=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(hs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tm,{keyPath:"compositeKey"})}}catch(i){t(hs.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),Ff)}function Gd(){return(Gd=(0,po.Z)(function*(n,t){const i=(yield MC()).transaction(tm,"readwrite"),o=i.objectStore(tm).put({compositeKey:n,value:t});return new Promise((l,d)=>{o.onsuccess=f=>{l()},i.onerror=f=>{var g;d(hs.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const im=new yd.Yd("@firebase/app-check");function NC(n,t){return(0,$.hl)()?function PM(n,t){return function kC(n,t){return Gd.apply(this,arguments)}(function fD(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{im.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function wv(){return Lf().enabled}function Cv(){return LC.apply(this,arguments)}function LC(){return(LC=(0,po.Z)(function*(){const n=Lf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gD={error:"UNKNOWN_ERROR"};function Ev(n){return $.US.encodeString(JSON.stringify(n),!1)}function rm(n){return fs.apply(this,arguments)}function fs(){return(fs=(0,po.Z)(function*(n,t=!1){const e=n.app;uD(e);const i=lr(e);let o,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&Vf(f)&&(r=f)}if(!t&&r&&Vf(r))return{token:r.token};let d,l=!1;if(wv()){i.exchangeTokenPromise||(i.exchangeTokenPromise=IC(em(e,yield Cv()),n.heartbeatServiceProvider).then(g=>(i.exchangeTokenPromise=void 0,g)),l=!0);const f=yield i.exchangeTokenPromise;return yield NC(e,f),So(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),l=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?im.warn(f.message):im.error(f),o=f}return r?(d={token:r.token},So(e,Object.assign(Object.assign({},i),{token:r})),yield NC(e,r)):d=UC(o),l&&sm(e,d),d})).apply(this,arguments)}function Uf(n,t){const e=lr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),So(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function FC(n){const{app:t}=n,e=lr(t);let i=e.tokenRefresher;i||(i=function mD(n){const{app:t}=n;return new TC((0,po.Z)(function*(){let i;if(i=lr(t).token?yield rm(n,!0):yield rm(n),i.error)throw i.error}),()=>!0,()=>{const e=lr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),So(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function sm(n,t){const e=lr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Vf(n){return n.expireTimeMillis-Date.now()>0}function UC(n){return{token:Ev(gD),error:n}}class _D{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=lr(this.app);for(const e of t)Uf(this.app,e.next);return Promise.resolve()}}const Dv="app-check-internal";!function am(){(0,go._registerComponent)(new Vl.wA("app-check",n=>function VC(n,t){return new _D(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Dv).initialize()})),(0,go._registerComponent)(new Vl.wA(Dv,n=>function BC(n){return{getToken:t=>rm(n,t),addTokenListener:t=>function Tv(n,t,e,i){const{app:r}=n,o=lr(r),l={next:e,error:i,type:t};if(So(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,l]})),o.token&&Vf(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),FC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>FC(n))}(n,"INTERNAL",t),removeTokenListener:t=>Uf(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,go.registerVersion)("@firebase/app-check","0.5.12")}();class jf{constructor(){return(0,di.vb)("app-check")}}"undefined"!=typeof window&&window;var MD=V(127);const YC=new u.OlP("angularfire2.auth.use-emulator"),QC=new u.OlP("angularfire2.auth.settings"),Av=new u.OlP("angularfire2.auth.tenant-id"),sc=new u.OlP("angularfire2.auth.langugage-code"),xv=new u.OlP("angularfire2.auth.use-device-language"),dm=new u.OlP("angularfire.auth.persistence"),hm=(n,t,e,i,r,o,l,d)=>(0,js.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,o&&f.useDeviceLanguage(),l)for(const[g,v]of Object.entries(l))f.settings[g]=v;return d&&f.setPersistence(d),f},[e,i,r,o,l,d]);let Mv=(()=>{class n{constructor(e,i,r,o,l,d,f,g,v,w,D,A){const P=new wr.xQ,F=(0,at.of)(void 0).pipe((0,zd.QV)(l.outsideAngular),xn(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,yt.U)(()=>(0,js.on)(e,o,i)),(0,yt.U)(Z=>hm(Z,o,d,g,v,w,f,D)),hv({bufferSize:1,refCount:!1}));if(function Pa(n){return"server"===n}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,at.of)(null);else{F.pipe(Oi()).subscribe();const Y=F.pipe(xn(be=>be.getRedirectResult().then(Se=>Se,()=>null)),di.iC,hv({bufferSize:1,refCount:!1})),se=F.pipe(xn(be=>new qr.y(Se=>({unsubscribe:o.runOutsideAngular(()=>be.onAuthStateChanged(Ge=>Se.next(Ge),Ge=>Se.error(Ge),()=>Se.complete()))})))),xe=F.pipe(xn(be=>new qr.y(Se=>({unsubscribe:o.runOutsideAngular(()=>be.onIdTokenChanged(Ge=>Se.next(Ge),Ge=>Se.error(Ge),()=>Se.complete()))}))));this.authState=Y.pipe(Rf(se),(0,Nf.R)(l.outsideAngular),(0,zd.QV)(l.insideAngular)),this.user=Y.pipe(Rf(xe),(0,Nf.R)(l.outsideAngular),(0,zd.QV)(l.insideAngular)),this.idToken=this.user.pipe(xn(be=>be?(0,Hn.D)(be.getIdToken()):(0,at.of)(null))),this.idTokenResult=this.user.pipe(xn(be=>be?(0,Hn.D)(be.getIdTokenResult()):(0,at.of)(null))),this.credential=(0,D_.T)(Y,P,this.authState.pipe(k(be=>!be))).pipe((0,yt.U)(be=>null!=be&&be.user?be:null),(0,Nf.R)(l.outsideAngular),(0,zd.QV)(l.insideAngular))}return(0,js.pX)(this,F,o,{spy:{apply:(Z,Y,se)=>{(Z.startsWith("signIn")||Z.startsWith("createUser"))&&se.then(xe=>P.next(xe))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(js.Dh),u.LFG(js.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(di.HU),u.LFG(YC,8),u.LFG(QC,8),u.LFG(Av,8),u.LFG(sc,8),u.LFG(xv,8),u.LFG(dm,8),u.LFG(jf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function PD(n){return null==n}function kD(n){return"function"==typeof n.set}function OD(n,t){return kD(t)?t:n.ref(t)}function RD(n,t){if(function Pv(n){return"string"==typeof n}(n))return t.stringCase();if(kD(n))return t.firebaseCase();if(function fm(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Kd(n,t,e="on",i=md.z){return new qr.y(r=>{let o=null;return o=n[e](t,(l,d)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,yt.U)(r=>{const{snapshot:o,prevKey:l}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:l,key:d}}),(0,sS.B)())}function XC(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function FD(n,t){const{payload:e,prevKey:i,key:r}=t,o=XC(n,r),l=function LD(n,t){if(PD(t))return 0;{const e=XC(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const g={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,g],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(l,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(l,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(l,0,d),n}return n;default:return n}}function kv(n){return(PD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Ov(n,t,e){return function ND(n,t,e){return Kd(n,"value","once",e).pipe(xn(i=>{const r=[(0,at.of)(i)];return t.forEach(o=>r.push(Kd(n,o,"on",e))),(0,D_.T)(...r).pipe(rs(FD,[]))}),function _d(n,t){return e=>e.lift(new oS(n,t))}())}(n,t=kv(t),e)}function Rv(n,t,e){const i=(t=kv(t)).map(r=>Kd(n,r,"on",e));return(0,D_.T)(...i)}function pm(n,t){return function(i,r){return RD(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function UM(n){return function(e){return e?RD(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function gm(n,t){return function(){return Kd(n,"value","on",t)}}const HD=new u.OlP("angularfire2.realtimeDatabaseURL"),VM=new u.OlP("angularfire2.database.use-emulator");let Nv=(()=>{class n{constructor(e,i,r,o,l,d,f,g,v,w,D,A,P,F,Z){this.schedulers=d;const Y=f,se=(0,js.on)(e,l,i);g&&hm(se,l,v,D,A,P,w,F),this.database=(0,js.cc)(`${se.name}.database.${r}`,"AngularFireDatabase",se.name,()=>{const xe=l.runOutsideAngular(()=>se.database(r||void 0));return Y&&xe.useEmulator(...Y),xe},[Y])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>OD(this.database,e));let o=r;return i&&(o=i(r)),function tE(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:pm(i,"update"),set:pm(i,"set"),push:r=>i.push(r),remove:UM(i),snapshotChanges:r=>Ov(n,r,e).pipe(di.iC),stateChanges:r=>Rv(n,r,e).pipe(di.iC),auditTrail:r=>function UD(n,t,e){return function eE(n,t,e){return function VD(n,t){return Kd(n,"value","on",t).pipe((0,yt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function zp(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new aS(n,e))}}(t),(0,yt.U)(([r,o])=>{const l=r.lastKeyToLoad,d=o.map(f=>f.key);return{actions:o,lastKeyToLoad:l,loadedKeys:d}}),function lS(n){return t=>t.lift(new cS(n))}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,yt.U)(r=>r.actions))}(n,Rv(n,t).pipe(rs((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(di.iC),valueChanges:(r,o)=>Ov(n,r,e).pipe((0,yt.U)(d=>d.map(f=>o&&o.idField?Object.assign(Object.assign({},f.payload.val()),{[o.idField]:f.key}):f.payload.val())),di.iC)}}(o,this)}object(e){return function BD(n,t){return{query:n,snapshotChanges:()=>gm(n,t.schedulers.outsideAngular)().pipe(di.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>gm(n,t.schedulers.outsideAngular)().pipe(di.iC,(0,yt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>OD(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(js.Dh),u.LFG(js.xv,8),u.LFG(HD,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(di.HU),u.LFG(VM,8),u.LFG(Mv,8),u.LFG(YC,8),u.LFG(QC,8),u.LFG(Av,8),u.LFG(sc,8),u.LFG(xv,8),u.LFG(dm,8),u.LFG(jf,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jD=(()=>{class n{constructor(e){this.db=e,this.dbPath="/recipes",this.recipeRef=e.object(this.dbPath)}updateRecipes(e){this.recipeRef.set(e)}getRecipes(){return this.recipeRef.valueChanges()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var $D=V(7830);function Lv(n,t){return new qr.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let o=0,l=0;for(let d=0;d<i;d++){const f=(0,Hn.D)(n[d]);let g=!1;e.add(f.subscribe({next:v=>{g||(g=!0,l++),r[d]=v},error:v=>e.error(v),complete:()=>{o++,(o===i||!g)&&(l===i&&e.next(t?t.reduce((v,w,D)=>(v[w]=r[D],v),{}):r),e.complete())}}))}})}let zD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Yd=(()=>{class n extends zD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ll=new u.OlP("NgValueAccessor"),jM={provide:ll,useExisting:(0,u.Gpc)(()=>$f),multi:!0},zM=new u.OlP("CompositionEventMode");let $f=(()=>{class n extends zD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $M(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(zM,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&u.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[u._Bn([jM]),u.qOj]}),n})();const c=new u.OlP("NgValidators"),h=new u.OlP("NgAsyncValidators");function qe(n){return null!=n}function st(n){return(0,u.QGY)(n)?(0,Hn.D)(n):n}function dt(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Pt(n,t){return t.map(e=>e(n))}function Dt(n){return n.map(t=>function je(n){return!n.validate}(t)?t:e=>t.validate(e))}function ei(n){return null!=n?function sn(n){if(!n)return null;const t=n.filter(qe);return 0==t.length?null:function(e){return dt(Pt(e,t))}}(Dt(n)):null}function zf(n){return null!=n?function oc(n){if(!n)return null;const t=n.filter(qe);return 0==t.length?null:function(e){return function HM(...n){if(1===n.length){const t=n[0];if((0,ns.k)(t))return Lv(t,null);if((0,$D.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Lv(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Lv(n=1===n.length&&(0,ns.k)(n[0])?n[0]:n,null).pipe((0,yt.U)(e=>t(...e)))}return Lv(n,null)}(Pt(e,t).map(st)).pipe((0,yt.U)(dt))}}(Dt(n)):null}function mm(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Wf(n){return n?Array.isArray(n)?n:[n]:[]}function Qd(n,t){return Array.isArray(n)?n.includes(t):n===t}function vm(n,t){const e=Wf(t);return Wf(n).forEach(r=>{Qd(e,r)||e.push(r)}),e}function bm(n,t){return Wf(t).filter(e=>!Qd(n,e))}class wm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ei(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Jd extends wm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xs extends wm{get formDirective(){return null}get path(){return null}}let nE=(()=>{class n extends class ZM{constructor(t){this._cd=t}get isTouched(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.touched)}get isUntouched(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.untouched)}get isPristine(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.pristine)}get isDirty(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.dirty)}get isValid(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.valid)}get isInvalid(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.invalid)}get isPending(){var t,e;return!(null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e||!e.pending)}get isSubmitted(){var t;return!(null===(t=this._cd)||void 0===t||!t.submitted)}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Jd,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})();const Fv="VALID",rE="INVALID",Cm="PENDING",Uv="DISABLED";function qM(n){return Array.isArray(n)?ei(n):n||null}function KM(n){return Array.isArray(n)?zf(n):n||null}function sE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Vv(n,t){var e,i;(function XD(n,t){const e=function _m(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(mm(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function ym(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(mm(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();lE(t._rawValidators,r),lE(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&(null===(i=(e=t.valueAccessor).setDisabledState)||void 0===i||i.call(e,!0)),function IR(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&XM(n,t)})}(n,t),function AR(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function DR(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&XM(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function SR(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function lE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function XM(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iP(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function rP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const LR={provide:Jd,useExisting:(0,u.Gpc)(()=>Hv)},lP=(()=>Promise.resolve())();let Hv=(()=>{class n extends Jd{constructor(e,i,r,o,l){super(),this._changeDetectorRef=l,this.control=new class extends class JM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=qM(this._rawValidators),this._composedAsyncValidatorFn=KM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Fv}get invalid(){return this.status===rE}get pending(){return this.status==Cm}get disabled(){return this.status===Uv}get enabled(){return this.status!==Uv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=qM(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=KM(t)}addValidators(t){this.setValidators(vm(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(vm(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bm(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bm(t,this._rawAsyncValidators))}hasValidator(t){return Qd(this._rawValidators,t)}hasAsyncValidator(t){return Qd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Uv,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fv,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fv||this.status===Cm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uv:Fv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cm,this._hasOwnPendingAsyncValidator=!0;const e=st(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Uv:this.errors?rE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cm)?Cm:this._anyControlsHaveStatus(rE)?rE:Fv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,e,i){super(function YD(n){return(sE(n)?n.validators:n)||null}(e),function QD(n,t){return(sE(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=rP(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){rP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function tA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===$f?e=o:function PR(n){return Object.getPrototypeOf(n.constructor)===Yd}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function eA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){lP.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,u.D6c)(i);lP.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function oE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(xs,9),u.Y36(c,10),u.Y36(h,10),u.Y36(ll,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([LR]),u.qOj,u.TTD]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[uP]}),n})(),cA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[aN]}),n})();function cN(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",16),u.NdJ("click",function(){const r=u.CHM(e),o=r.$implicit,l=r.index,d=u.oxw(2);return u.KtG(d.setRecipe(o,l))}),u._uU(1),u.qZA()}if(2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.title," ")}}function uN(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",7)(1,"div",8)(2,"div",9),u._uU(3," Recipes "),u.O4$(),u.TgZ(4,"svg",10),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.setNewRecipe())}),u._UZ(5,"path",11)(6,"path",12),u.qZA()(),u.kcU(),u.TgZ(7,"div")(8,"input",13),u.NdJ("ngModelChange",function(r){u.CHM(e);const o=u.oxw();return u.KtG(o.filter=r)}),u.qZA()()(),u.TgZ(9,"div",14),u.YNc(10,cN,2,1,"div",15),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(8),u.Q6J("ngModel",e.filter),u.xp6(2),u.Q6J("ngForOf",e.getRecipes())}}let dN=(()=>{class n{constructor(e){this.service=e,this.recipes=[],this.currentRecipe=new E0("",""),this.currentRecipeIndex=-1,this.filter="",this.showList=!0}ngOnInit(){this.service.getRecipes().subscribe(e=>{this.recipes=null!=e?e:[],-1!=this.currentRecipeIndex&&(this.currentRecipe=this.recipes[this.currentRecipeIndex])})}saveRecipe(){-1==this.currentRecipeIndex&&(this.currentRecipeIndex=this.recipes.push(this.currentRecipe)-1),this.service.updateRecipes(this.recipes)}deleteRecipe(){this.recipes=this.recipes.filter((e,i)=>i!=this.currentRecipeIndex),this.service.updateRecipes(this.recipes),this.setNewRecipe()}setRecipe(e,i){this.currentRecipe=e,this.currentRecipeIndex=i,this.filter=""}setNewRecipe(){this.currentRecipe=new E0("",""),this.currentRecipeIndex=-1,this.filter=""}getRecipes(){return this.recipes.filter(e=>e.title.toLowerCase().includes(this.filter.toLowerCase()))}enableList(){this.showList=!0}disableList(){this.showList=!1}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(jD))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-table-of-contents"]],decls:8,vars:3,consts:[[1,"view",3,"swipeleft","swiperight"],["class","list",4,"ngIf"],[1,"recipe"],[1,"title-container"],["type","text","placeholder","Title","spellcheck","false",1,"form-control","recipe-title",3,"ngModel","ngModelChange","change"],[1,"button",3,"click"],["placeholder","Write the recipe here...","spellcheck","false",1,"recipe-text",3,"ngModel","ngModelChange","change"],[1,"list"],[1,"list-title"],[1,"list-title-1"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 52 52",0,"xml","space","preserve",1,"new-icon",2,"enable-background","new 0 0 52 52",3,"click"],["d","M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26\n                   S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"],["d","M38.5,25H27V14c0-0.553-0.448-1-1-1s-1,0.447-1,1v11H13.5c-0.552,0-1,0.447-1,1s0.448,1,1,1H25v12c0,0.553,0.448,1,1,1\n                   s1-0.447,1-1V27h11.5c0.552,0,1-0.447,1-1S39.052,25,38.5,25z"],["type","text","placeholder","Filter results",1,"list-filter",3,"ngModel","ngModelChange"],[1,"list-items"],["class","list-item",3,"click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u.NdJ("swipeleft",function(){return i.disableList()})("swiperight",function(){return i.enableList()}),u.YNc(1,uN,11,2,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"input",4),u.NdJ("ngModelChange",function(o){return i.currentRecipe.title=o})("change",function(){return i.saveRecipe()}),u.qZA(),u.TgZ(5,"button",5),u.NdJ("click",function(){return i.deleteRecipe()}),u._uU(6," Delete "),u.qZA()(),u.TgZ(7,"textarea",6),u.NdJ("ngModelChange",function(o){return i.currentRecipe.text=o})("change",function(){return i.saveRecipe()}),u.qZA()()()),2&e&&(u.xp6(1),u.Q6J("ngIf",i.showList),u.xp6(3),u.Q6J("ngModel",i.currentRecipe.title),u.xp6(3),u.Q6J("ngModel",i.currentRecipe.text))},dependencies:[Pi,Mr,$f,nE,Hv],styles:[".recipe-text[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;padding:1rem;flex-grow:1;resize:none;touch-action:pan-y!important;font:inherit;font-size:2rem;line-height:150%;padding-right:max(100vw - 100rem,1rem)}.recipe-text[_ngcontent-%COMP%]:focus-visible{outline:none}.recipe[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column}.view[_ngcontent-%COMP%]{touch-action:pan-y!important;display:flex;width:100vw;height:calc(100vh - 5.1rem)}.list[_ngcontent-%COMP%]{margin-right:2rem;overflow-y:scroll;max-width:100rem;min-width:20rem;resize:horizontal;background-color:#222}@media only screen and (max-width: 37.5em){.list[_ngcontent-%COMP%]{position:absolute;min-width:0;height:calc(100vh - 5.1rem)}}.title-container[_ngcontent-%COMP%]{display:flex}.recipe-title[_ngcontent-%COMP%]{width:100%;min-width:0!important;max-width:100%;background-color:transparent;border:none;font-size:3rem;color:inherit;margin:1rem 2rem;margin-left:0;padding:1rem}.recipe-title[_ngcontent-%COMP%]:focus-visible{outline:none}.button[_ngcontent-%COMP%]{background-color:transparent;color:inherit;border:none;padding-right:3rem;font-size:1.8rem;cursor:pointer;border-radius:2rem}.button[_ngcontent-%COMP%]:not(:last-child()){margin-left:1rem}.button[_ngcontent-%COMP%]:hover{text-shadow:.4rem .4rem rgba(119,119,119,.2);transform:scale(1.1)}.button[_ngcontent-%COMP%]:focus-visible{outline:none}.list-item[_ngcontent-%COMP%]{padding:1rem;font-size:2rem;border-bottom:1px solid #777;cursor:pointer;transition:all .2s}.list-item[_ngcontent-%COMP%]:hover{padding-left:3rem}.list-title[_ngcontent-%COMP%]{font-size:3rem;border-bottom:2px solid #777;padding:1rem}.list-title-1[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-right:1rem}.list-filter[_ngcontent-%COMP%]{background-color:#333;border-radius:10rem;padding:.5rem 1rem;border:none;width:100%;color:inherit;font-size:1.5rem}.new-icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;fill:#bbb;cursor:pointer;transition:all .2s}.new-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]}),n})(),uA=(()=>{class n{constructor(e){this.afAuth=e,this.user$=e.authState,this.afAuth.getRedirectResult().then(i=>{})}login(){return this.afAuth.setPersistence("none").then(e=>this.afAuth.signInWithRedirect(new MD.Z.auth.GoogleAuthProvider))}logout(){this.afAuth.signOut()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Mv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gf=(()=>{class n{constructor(e){this.auth=e}canActivate(e){return this.auth.user$.pipe((0,yt.U)(i=>"3dX5m7yG4RStAqweGMXyABECgpI3"==(null==i?void 0:i.uid)))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(uA))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AP{}const mu="*";function fN(n,t){return{type:7,name:n,definitions:t,options:{}}}function xP(n,t=null){return{type:4,styles:t,timings:n}}function MP(n,t=null){return{type:2,steps:n,options:t}}function uE(n){return{type:6,styles:n,offset:null}}function PP(n,t,e){return{type:0,name:n,styles:t,options:e}}function kP(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function OP(n){Promise.resolve().then(n)}class jv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RP{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?OP(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function NP(n){return new u.vHH(3e3,!1)}function qN(){return"undefined"!=typeof window&&void 0!==window.document}function hA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Xd(n){switch(n.length){case 0:return new jv;case 1:return n[0];default:return new RP(n)}}function LP(n,t,e,i,r=new Map,o=new Map){const l=[],d=[];let f=-1,g=null;if(i.forEach(v=>{const w=v.get("offset"),D=w==f,A=D&&g||new Map;v.forEach((P,F)=>{let Z=F,Y=P;if("offset"!==F)switch(Z=t.normalizePropertyName(Z,l),Y){case"!":Y=r.get(F);break;case mu:Y=o.get(F);break;default:Y=t.normalizeStyleValue(F,Z,Y,l)}A.set(Z,Y)}),D||d.push(A),g=A,f=w}),l.length)throw function LN(n){return new u.vHH(3502,!1)}();return d}function fA(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&pA(e,"start",n)));break;case"done":n.onDone(()=>i(e&&pA(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&pA(e,"destroy",n)))}}function pA(n,t,e){const i=e.totalTime,o=gA(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function gA(n,t,e,i,r="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function Do(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function FP(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let mA=(n,t)=>!1,UP=(n,t,e)=>[],VP=null;function _A(n){const t=n.parentNode||n.host;return t===VP?null:t}(hA()||"undefined"!=typeof Element)&&(qN()?(VP=(()=>document.documentElement)(),mA=(n,t)=>{for(;t;){if(t===n)return!0;t=_A(t)}return!1}):mA=(n,t)=>n.contains(t),UP=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let qf=null,BP=!1;const HP=mA,jP=UP;let $P=(()=>{class n{validateStyleProperty(e){return function YN(n){qf||(qf=function QN(){return"undefined"!=typeof document?document.body:null}()||{},BP=!!qf.style&&"WebkitAppearance"in qf.style);let t=!0;return qf.style&&!function KN(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in qf.style,!t&&BP&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in qf.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return HP(e,i)}getParentElement(e){return _A(e)}query(e,i,r){return jP(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,l,d=[],f){return new jv(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yA=(()=>{class n{}return n.NOOP=new $P,n})();const vA="ng-enter",dE="ng-leave",hE="ng-trigger",fE=".ng-trigger",WP="ng-animating",bA=".ng-animating";function eh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wA(parseFloat(t[1]),t[2])}function wA(n,t){return"s"===t?1e3*n:n}function pE(n,t,e){return n.hasOwnProperty("duration")?n:function eL(n,t,e){let r,o=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(NP()),{duration:0,delay:0,easing:""};r=wA(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(o=wA(parseFloat(f),d[4]));const g=d[5];g&&(l=g)}else r=n;if(!e){let d=!1,f=t.length;r<0&&(t.push(function pN(){return new u.vHH(3100,!1)}()),d=!0),o<0&&(t.push(function gN(){return new u.vHH(3101,!1)}()),d=!0),d&&t.splice(f,0,NP())}return{duration:r,delay:o,easing:l}}(n,t,e)}function $v(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ZP(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function th(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function qP(n,t,e){return e?t+":"+e+";":""}function KP(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=qP(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=qP(0,rL(e),n.style[e]));n.setAttribute("style",t)}function ac(n,t,e){n.style&&(t.forEach((i,r)=>{const o=EA(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),hA()&&KP(n))}function Kf(n,t){n.style&&(t.forEach((e,i)=>{const r=EA(i);n.style[r]=""}),hA()&&KP(n))}function zv(n){return Array.isArray(n)?1==n.length?n[0]:MP(n):n}const CA=new RegExp("{{\\s*(.+?)\\s*}}","g");function YP(n){let t=[];if("string"==typeof n){let e;for(;e=CA.exec(n);)t.push(e[1]);CA.lastIndex=0}return t}function gE(n,t,e){const i=n.toString(),r=i.replace(CA,(o,l)=>{let d=t[l];return null==d&&(e.push(function _N(n){return new u.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function mE(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const iL=/-+([a-z0-9])/g;function EA(n){return n.replace(iL,(...t)=>t[1].toUpperCase())}function rL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ao(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function yN(n){return new u.vHH(3004,!1)}()}}function QP(n,t){return window.getComputedStyle(n)[t]}function uL(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function dL(n,t,e){if(":"==n[0]){const f=function hL(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function kN(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function PN(n){return new u.vHH(3015,!1)}()),t;const r=i[1],o=i[2],l=i[3];t.push(JP(r,l));"<"==o[0]&&!("*"==r&&"*"==l)&&t.push(JP(l,r))}(i,e,t)):e.push(n),e}const bE=new Set(["true","1"]),wE=new Set(["false","0"]);function JP(n,t){const e=bE.has(n)||wE.has(n),i=bE.has(t)||wE.has(t);return(r,o)=>{let l="*"==n||n==r,d="*"==t||t==o;return!l&&e&&"boolean"==typeof r&&(l=r?bE.has(n):wE.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?bE.has(t):wE.has(t)),l&&d}}const fL=new RegExp("s*:selfs*,?","g");function TA(n,t,e,i){return new pL(n).build(t,e,i)}class pL{constructor(t){this._driver=t}build(t,e,i){const r=new _L(e);return this._resetContextStyleTimingState(r),Ao(this,zv(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function bN(){return new u.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,o.push(this.visitState(f,e))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,r+=f.depCount,l.push(f)}else e.errors.push(function wN(){return new u.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{YP(f).forEach(g=>{l.hasOwnProperty(g)||o.add(g)})})}),o.size&&(mE(o.values()),e.errors.push(function CN(n,t){return new u.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ao(this,zv(t.animation),e);return{type:1,matchers:uL(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Yf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ao(this,i,e)),options:Yf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(l=>{e.currentTime=i;const d=Ao(this,l,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:Yf(t.options)}}visitAnimate(t,e){const i=function vL(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SA(pE(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=SA(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=pE(e,t);return SA(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:uE({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=t.styles,d=!1;if(!l){d=!0;const g={};i.easing&&(g.easing=i.easing),l=uE(g)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(l,e);f.isEmptyStep=d,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===mu?i.push(d):e.errors.push(new u.vHH(3002,!1)):i.push(ZP(d));let o=!1,l=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!o))for(let f of d.values())if(f.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,f)=>{const g=e.collectedStyles.get(e.currentQuerySelector),v=g.get(f);let w=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(function TN(n,t,e,i,r){return new u.vHH(3010,!1)}()),w=!1),o=v.startTime),w&&g.set(f,{startTime:o,endTime:r}),e.options&&function nL(n,t,e){const i=t.params||{},r=YP(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function mN(n){return new u.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function SN(){return new u.vHH(3011,!1)}()),i;let o=0;const l=[];let d=!1,f=!1,g=0;const v=t.steps.map(Y=>{const se=this._makeStyleAst(Y,e);let xe=null!=se.offset?se.offset:function yL(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(se.styles),be=0;return null!=xe&&(o++,be=se.offset=xe),f=f||be<0||be>1,d=d||be<g,g=be,l.push(be),se});f&&e.errors.push(function IN(){return new u.vHH(3012,!1)}()),d&&e.errors.push(function DN(){return new u.vHH(3200,!1)}());const w=t.steps.length;let D=0;o>0&&o<w?e.errors.push(function AN(){return new u.vHH(3202,!1)}()):0==o&&(D=1/(w-1));const A=w-1,P=e.currentTime,F=e.currentAnimateTimings,Z=F.duration;return v.forEach((Y,se)=>{const xe=D>0?se==A?1:D*se:l[se],be=xe*Z;e.currentTime=P+F.delay+be,F.duration=be,this._validateStyleAst(Y,e),Y.offset=xe,i.styles.push(Y)}),i}visitReference(t,e){return{type:8,animation:Ao(this,zv(t.animation),e),options:Yf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Yf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Yf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function gL(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fL,"")),n=n.replace(/@\*/g,fE).replace(/@\w+/g,e=>fE+"-"+e.slice(1)).replace(/:animating/g,bA),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Do(e.collectedStyles,e.currentQuerySelector,new Map);const d=Ao(this,zv(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:t.selector,options:Yf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function xN(){return new u.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:pE(t.timings,e.errors,!0);return{type:12,animation:Ao(this,zv(t.animation),e),timings:i,options:null}}}class _L{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Yf(n){return n?(n=$v(n)).params&&(n.params=function mL(n){return n?$v(n):null}(n.params)):n={},n}function SA(n,t,e){return{duration:n,delay:t,easing:e}}function IA(n,t,e,i,r,o,l=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:d}}class CE{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const CL=new RegExp(":enter","g"),TL=new RegExp(":leave","g");function DA(n,t,e,i,r,o=new Map,l=new Map,d,f,g=[]){return(new SL).buildKeyframes(n,t,e,i,r,o,l,d,f,g)}class SL{buildKeyframes(t,e,i,r,o,l,d,f,g,v=[]){g=g||new CE;const w=new AA(t,e,g,r,o,v,[]);w.options=f;const D=f.delay?eh(f.delay):0;w.currentTimeline.delayNextStep(D),w.currentTimeline.setStyles([l],null,w.errors,f),Ao(this,i,w);const A=w.timelines.filter(P=>P.containsAnimation());if(A.length&&d.size){let P;for(let F=A.length-1;F>=0;F--){const Z=A[F];if(Z.element===e){P=Z;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([d],null,w.errors,f)}return A.length?A.map(P=>P.buildKeyframes()):[IA(e,[],[],[],0,D,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const l=null!=i.duration?eh(i.duration):null,d=null!=i.delay?eh(i.delay):null;return 0!==l&&t.forEach(f=>{const g=e.appendInstructionToTimeline(f,l,d);o=Math.max(o,g.duration+g.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ao(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=EE);const l=eh(o.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Ao(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?eh(t.options.delay):0;t.steps.forEach(l=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),Ao(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return pE(e.params?gE(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*o),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?eh(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=EE);let l=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((g,v)=>{e.currentQueryIndex=v;const w=e.createSubContext(t.options,g);o&&w.delayNextStep(o),g===e.element&&(f=w.currentTimeline),Ao(this,t.animation,w),w.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,w.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),d=l*(e.currentQueryTotal-1);let f=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const v=e.currentTimeline;f&&v.delayNextStep(f);const w=v.currentTime;Ao(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-w+(r.startTime-i.currentTimeline.startTime)}}const EE={};class AA{constructor(t,e,i,r,o,l,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=EE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new TE(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=eh(i.duration)),null!=i.delay&&(r.delay=eh(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!l.hasOwnProperty(d))&&(l[d]=gE(o[d],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new AA(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=EE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new IL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,l){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(CL,"."+this._enterClassName)).replace(TL,"."+this._leaveClassName);let g=this._driver.query(this.element,t,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!o&&0==d.length&&l.push(function MN(n){return new u.vHH(3014,!1)}()),d}}class TE{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new TE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||mu),this._currentKeyframe.set(e,mu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){var o;e&&this._previousKeyframe.set("easing",e);const l=r&&r.params||{},d=function DL(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,mu)}else th(r,e)}),e}(t,this._globalTimelineStyles);for(let[f,g]of d){const v=gE(g,l,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,null!==(o=this._globalTimelineStyles.get(f))&&void 0!==o?o:mu),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const g=th(d,new Map,this._backFill);g.forEach((v,w)=>{"!"===v?t.add(w):v===mu&&e.add(w)}),i||g.set("offset",f/this.duration),r.push(g)});const o=t.size?mE(t.values()):[],l=e.size?mE(e.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return IA(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class IL extends TE{constructor(t,e,i,r,o,l,d=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=i+e,d=e/l,f=th(t[0]);f.set("offset",0),o.push(f);const g=th(t[0]);g.set("offset",tk(d)),o.push(g);const v=t.length-1;for(let w=1;w<=v;w++){let D=th(t[w]);const A=D.get("offset");D.set("offset",tk((e+A*i)/l)),o.push(D)}i=l,e=0,r="",t=o}return IA(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function tk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class xA{}const AL=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xL extends xA{normalizePropertyName(t,e){return EA(t)}normalizeStyleValue(t,e,i,r){let o="";const l=i.toString().trim();if(AL.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function vN(n,t){return new u.vHH(3005,!1)}())}return l+o}}function nk(n,t,e,i,r,o,l,d,f,g,v,w,D){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:l,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:v,totalTime:w,errors:D}}const MA={};class ik{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function ML(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(null==t?void 0:t.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,l,d,f,g,v){var w;const D=[],A=this.ast.options&&this.ast.options.params||MA,F=this.buildStyles(i,d&&d.params||MA,D),Z=f&&f.params||MA,Y=this.buildStyles(r,Z,D),se=new Set,xe=new Map,be=new Map,Se="void"===r,Ge={params:PL(Z,A),delay:null===(w=this.ast.options)||void 0===w?void 0:w.delay},Ke=v?[]:DA(t,e,this.ast.animation,o,l,F,Y,Ge,g,D);let ut=0;if(Ke.forEach($t=>{ut=Math.max($t.duration+$t.delay,ut)}),D.length)return nk(e,this._triggerName,i,r,Se,F,Y,[],[],xe,be,ut,D);Ke.forEach($t=>{const yn=$t.element,ln=Do(xe,yn,new Set);$t.preStyleProps.forEach(er=>ln.add(er));const vi=Do(be,yn,new Set);$t.postStyleProps.forEach(er=>vi.add(er)),yn!==e&&se.add(yn)});const mt=mE(se.values());return nk(e,this._triggerName,i,r,Se,F,Y,Ke,mt,xe,be,ut)}}function PL(n,t){const e=$v(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class kL{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=$v(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,d)=>{l&&(l=gE(l,r,e));const f=this.normalizer.normalizePropertyName(d,e);l=this.normalizer.normalizeStyleValue(d,f,l,e),i.set(f,l)})}),i}}class RL{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new kL(r.style,r.options&&r.options.params||{},i))}),rk(this.states,"true","1"),rk(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ik(t,r,this.states))}),this.fallbackTransition=function NL(n,t,e){return new ik(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function rk(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const LL=new CE;class FL{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=TA(this._driver,e,i,[]);if(i.length)throw function FN(n){return new u.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=LP(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let l;const d=new Map;if(o?(l=DA(this._driver,e,o,vA,dE,new Map,new Map,i,LL,r),l.forEach(v=>{const w=Do(d,v.element,new Map);v.postStyleProps.forEach(D=>w.set(D,null))})):(r.push(function UN(){return new u.vHH(3300,!1)}()),l=[]),r.length)throw function VN(n){return new u.vHH(3504,!1)}();d.forEach((v,w)=>{v.forEach((D,A)=>{v.set(A,this._driver.computeStyle(w,A,mu))})});const g=Xd(l.map(v=>{const w=d.get(v.element);return this._buildPlayer(v,new Map,w)}));return this._playersById.set(t,g),g.onDestroy(()=>this.destroy(t)),this.players.push(g),g}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function BN(n){return new u.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=gA(e,"","","");return fA(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const sk="ng-animate-queued",PA="ng-animate-disabled",jL=[],ok={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$L={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ca="__ng_removed";class kA{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function GL(n){return null!=n?n:null}(i?t.value:t),i){const o=$v(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Wv="void",OA=new kA(Wv);class zL{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ea(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function HN(n,t){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function jN(n){return new u.vHH(3303,!1)}();if(!function qL(n){return"start"==n||"done"==n}(i))throw function $N(n,t){return new u.vHH(3400,!1)}();const o=Do(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};o.push(l);const d=Do(this._engine.statesByElement,t,new Map);return d.has(e)||(Ea(t,hE),Ea(t,hE+"-"+e),d.set(e,OA)),()=>{this._engine.afterFlush(()=>{const f=o.indexOf(l);f>=0&&o.splice(f,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function zN(n){return new u.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),l=new RA(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Ea(t,hE),Ea(t,hE+"-"+e),this._engine.statesByElement.set(t,d=new Map));let f=d.get(e);const g=new kA(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(e,g),f||(f=OA),g.value!==Wv&&f.value===g.value){if(!function QL(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(f.params,g.params)){const F=[],Z=o.matchStyles(f.value,f.params,F),Y=o.matchStyles(g.value,g.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{Kf(t,Z),ac(t,Y)})}return}const D=Do(this._engine.playersByElement,t,[]);D.forEach(F=>{F.namespaceId==this.id&&F.triggerName==e&&F.queued&&F.destroy()});let A=o.matchTransition(f.value,g.value,t,g.params),P=!1;if(!A){if(!r)return;A=o.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:A,fromState:f,toState:g,player:l,isFallbackTransition:P}),P||(Ea(t,sk),l.onStart(()=>{Em(t,sk)})),l.onDone(()=>{let F=this.players.indexOf(l);F>=0&&this.players.splice(F,1);const Z=this._engine.playersByElement.get(t);if(Z){let Y=Z.indexOf(l);Y>=0&&Z.splice(Y,1)}}),this.players.push(l),D.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,fE,!0);i.forEach(r=>{if(r[Ca])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const d=[];if(o.forEach((f,g)=>{if(l.set(g,f.value),this._triggers.has(g)){const v=this.trigger(t,g,Wv,r);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&Xd(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const f=this._triggers.get(l).fallbackTransition,g=i.get(l)||OA,v=new kA(Wv),w=new RA(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:f,fromState:g,toState:v,player:w,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ca];(!o||o===ok)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ea(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(d=>{if(d.name==i.triggerName){const f=gA(o,i.triggerName,i.fromState.value,i.toState.value);f._data=t,fA(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class WL{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new zL(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,d=this.driver.getParentElement(e);for(;d;){const f=r.get(d);if(f){const g=i.indexOf(f);i.splice(g+1,0,t),l=!0;break}d=this.driver.getParentElement(d)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(SE(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!SE(e))return;const o=e[Ca];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ea(t,PA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Em(t,PA))}removeNode(t,e,i,r){if(SE(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ca]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return SE(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,fE,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bA,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xd(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Ca];if(i&&i.setForRemoval){if(t[Ca]=ok,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}!(null===(e=t.classList)||void 0===e)&&e.contains(PA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ea(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Xd(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function WN(n){return new u.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new CE,r=[],o=new Map,l=[],d=new Map,f=new Map,g=new Map,v=new Set;this.disabledNodes.forEach(it=>{v.add(it);const ct=this.driver.query(it,".ng-animate-queued",!0);for(let It=0;It<ct.length;It++)v.add(ct[It])});const w=this.bodyNode,D=Array.from(this.statesByElement.keys()),A=ck(D,this.collectedEnterElements),P=new Map;let F=0;A.forEach((it,ct)=>{const It=vA+F++;P.set(ct,It),it.forEach(cn=>Ea(cn,It))});const Z=[],Y=new Set,se=new Set;for(let it=0;it<this.collectedLeaveElements.length;it++){const ct=this.collectedLeaveElements[it],It=ct[Ca];It&&It.setForRemoval&&(Z.push(ct),Y.add(ct),It.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(cn=>Y.add(cn)):se.add(ct))}const xe=new Map,be=ck(D,Array.from(Y));be.forEach((it,ct)=>{const It=dE+F++;xe.set(ct,It),it.forEach(cn=>Ea(cn,It))}),t.push(()=>{A.forEach((it,ct)=>{const It=P.get(ct);it.forEach(cn=>Em(cn,It))}),be.forEach((it,ct)=>{const It=xe.get(ct);it.forEach(cn=>Em(cn,It))}),Z.forEach(it=>{this.processLeaveNode(it)})});const Se=[],Ge=[];for(let it=this._namespaceList.length-1;it>=0;it--)this._namespaceList[it].drainQueuedTransitions(e).forEach(It=>{const cn=It.player,ni=It.element;if(Se.push(cn),this.collectedEnterElements.length){const ys=ni[Ca];if(ys&&ys.setForMove){if(ys.previousTriggersValues&&ys.previousTriggersValues.has(It.triggerName)){const op=ys.previousTriggersValues.get(It.triggerName),Aa=this.statesByElement.get(It.element);if(Aa&&Aa.has(It.triggerName)){const uT=Aa.get(It.triggerName);uT.value=op,Aa.set(It.triggerName,uT)}}return void cn.destroy()}}const Ms=!w||!this.driver.containsElement(w,ni),_r=xe.get(ni),Ys=P.get(ni),fi=this._buildInstruction(It,i,Ys,_r,Ms);if(fi.errors&&fi.errors.length)return void Ge.push(fi);if(Ms)return cn.onStart(()=>Kf(ni,fi.fromStyles)),cn.onDestroy(()=>ac(ni,fi.toStyles)),void r.push(cn);if(It.isFallbackTransition)return cn.onStart(()=>Kf(ni,fi.fromStyles)),cn.onDestroy(()=>ac(ni,fi.toStyles)),void r.push(cn);const Pm=[];fi.timelines.forEach(ys=>{ys.stretchStartingKeyframe=!0,this.disabledNodes.has(ys.element)||Pm.push(ys)}),fi.timelines=Pm,i.append(ni,fi.timelines),l.push({instruction:fi,player:cn,element:ni}),fi.queriedElements.forEach(ys=>Do(d,ys,[]).push(cn)),fi.preStyleProps.forEach((ys,op)=>{if(ys.size){let Aa=f.get(op);Aa||f.set(op,Aa=new Set),ys.forEach((uT,Gx)=>Aa.add(Gx))}}),fi.postStyleProps.forEach((ys,op)=>{let Aa=g.get(op);Aa||g.set(op,Aa=new Set),ys.forEach((uT,Gx)=>Aa.add(Gx))})});if(Ge.length){const it=[];Ge.forEach(ct=>{it.push(function ZN(n,t){return new u.vHH(3505,!1)}())}),Se.forEach(ct=>ct.destroy()),this.reportError(it)}const Ke=new Map,ut=new Map;l.forEach(it=>{const ct=it.element;i.has(ct)&&(ut.set(ct,ct),this._beforeAnimationBuild(it.player.namespaceId,it.instruction,Ke))}),r.forEach(it=>{const ct=it.element;this._getPreviousPlayers(ct,!1,it.namespaceId,it.triggerName,null).forEach(cn=>{Do(Ke,ct,[]).push(cn),cn.destroy()})});const mt=Z.filter(it=>dk(it,f,g)),$t=new Map;lk($t,this.driver,se,g,mu).forEach(it=>{dk(it,f,g)&&mt.push(it)});const ln=new Map;A.forEach((it,ct)=>{lk(ln,this.driver,new Set(it),f,"!")}),mt.forEach(it=>{var ct,It;const cn=$t.get(it),ni=ln.get(it);$t.set(it,new Map([...Array.from(null!==(ct=null==cn?void 0:cn.entries())&&void 0!==ct?ct:[]),...Array.from(null!==(It=null==ni?void 0:ni.entries())&&void 0!==It?It:[])]))});const vi=[],er=[],qt={};l.forEach(it=>{const{element:ct,player:It,instruction:cn}=it;if(i.has(ct)){if(v.has(ct))return It.onDestroy(()=>ac(ct,cn.toStyles)),It.disabled=!0,It.overrideTotalTime(cn.totalTime),void r.push(It);let ni=qt;if(ut.size>1){let _r=ct;const Ys=[];for(;_r=_r.parentNode;){const fi=ut.get(_r);if(fi){ni=fi;break}Ys.push(_r)}Ys.forEach(fi=>ut.set(fi,ni))}const Ms=this._buildAnimation(It.namespaceId,cn,Ke,o,ln,$t);if(It.setRealPlayer(Ms),ni===qt)vi.push(It);else{const _r=this.playersByElement.get(ni);_r&&_r.length&&(It.parentPlayer=Xd(_r)),r.push(It)}}else Kf(ct,cn.fromStyles),It.onDestroy(()=>ac(ct,cn.toStyles)),er.push(It),v.has(ct)&&r.push(It)}),er.forEach(it=>{const ct=o.get(it.element);if(ct&&ct.length){const It=Xd(ct);it.setRealPlayer(It)}}),r.forEach(it=>{it.parentPlayer?it.syncPlayerEvents(it.parentPlayer):it.destroy()});for(let it=0;it<Z.length;it++){const ct=Z[it],It=ct[Ca];if(Em(ct,dE),It&&It.hasAnimation)continue;let cn=[];if(d.size){let Ms=d.get(ct);Ms&&Ms.length&&cn.push(...Ms);let _r=this.driver.query(ct,bA,!0);for(let Ys=0;Ys<_r.length;Ys++){let fi=d.get(_r[Ys]);fi&&fi.length&&cn.push(...fi)}}const ni=cn.filter(Ms=>!Ms.destroyed);ni.length?KL(this,ct,ni):this.processLeaveNode(ct)}return Z.length=0,vi.forEach(it=>{this.players.push(it),it.onDone(()=>{it.destroy();const ct=this.players.indexOf(it);this.players.splice(ct,1)}),it.play()}),vi}elementContainsData(t,e){let i=!1;const r=e[Ca];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let l=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(l=d)}else{const d=this.playersByElement.get(t);if(d){const f=!o||o==Wv;d.forEach(g=>{g.queued||!f&&g.triggerName!=r||l.push(g)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(t,e,i){const o=e.element,l=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const g=f.element,v=g!==o,w=Do(i,g,[]);this._getPreviousPlayers(g,v,l,d,e.toState).forEach(A=>{const P=A.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),A.destroy(),w.push(A)})}Kf(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,l){const d=e.triggerName,f=e.element,g=[],v=new Set,w=new Set,D=e.timelines.map(P=>{const F=P.element;v.add(F);const Z=F[Ca];if(Z&&Z.removedBeforeQueried)return new jv(P.duration,P.delay);const Y=F!==f,se=function YL(n){const t=[];return uk(n,t),t}((i.get(F)||jL).map(Ke=>Ke.getRealPlayer())).filter(Ke=>!!Ke.element&&Ke.element===F),xe=o.get(F),be=l.get(F),Se=LP(0,this._normalizer,0,P.keyframes,xe,be),Ge=this._buildPlayer(P,Se,se);if(P.subTimeline&&r&&w.add(F),Y){const Ke=new RA(t,d,F);Ke.setRealPlayer(Ge),g.push(Ke)}return Ge});g.forEach(P=>{Do(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function ZL(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,P.element,P))}),v.forEach(P=>Ea(P,WP));const A=Xd(D);return A.onDestroy(()=>{v.forEach(P=>Em(P,WP)),ac(f,e.toStyles)}),w.forEach(P=>{Do(r,P,[]).push(A)}),A}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new jv(t.duration,t.delay)}}class RA{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new jv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>fA(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Do(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function SE(n){return n&&1===n.nodeType}function ak(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function lk(n,t,e,i,r){const o=[];e.forEach(f=>o.push(ak(f)));const l=[];i.forEach((f,g)=>{const v=new Map;f.forEach(w=>{const D=t.computeStyle(g,w,r);v.set(w,D),(!D||0==D.length)&&(g[Ca]=$L,l.push(g))}),n.set(g,v)});let d=0;return e.forEach(f=>ak(f,o[d++])),l}function ck(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),o=new Map;function l(d){if(!d)return 1;let f=o.get(d);if(f)return f;const g=d.parentNode;return f=e.has(g)?g:r.has(g)?1:l(g),o.set(d,f),f}return t.forEach(d=>{const f=l(d);1!==f&&e.get(f).push(d)}),e}function Ea(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Em(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function KL(n,t,e){Xd(e).onDone(()=>n.processLeaveNode(t))}function uk(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof RP?uk(i.players,t):t.push(i)}}function dk(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class IE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new WL(t,e,i),this._timelineEngine=new FL(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const l=t+"-"+r;let d=this._triggerCache[l];if(!d){const f=[],v=TA(this._driver,o,f,[]);if(f.length)throw function NN(n,t){return new u.vHH(3404,!1)}();d=function OL(n,t,e){return new RL(n,t,e)}(r,v,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,l]=FP(i);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[l,d]=FP(i);return this._timelineEngine.listen(l,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let XL=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ac(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ac(this._element,this._initialStyles),this._endStyles&&(ac(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Kf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kf(this._element,this._endStyles),this._endStyles=null),ac(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NA(n){let t=null;return n.forEach((e,i)=>{(function eF(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class hk{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:QP(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class tF{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return HP(t,e)}getParentElement(t){return _A(t)}query(t,e,i){return jP(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,l=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(f.easing=o);const g=new Map,v=l.filter(A=>A instanceof hk);(function sL(n,t){return 0===n||0===t})(i,r)&&v.forEach(A=>{A.currentSnapshot.forEach((P,F)=>g.set(F,P))});let w=function tL(n){return n.length?n[0]instanceof Map?n:n.map(t=>ZP(t)):[]}(e).map(A=>th(A));w=function oL(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<t.length;o++){let l=t[o];r.forEach(d=>l.set(d,QP(n,d)))}}return t}(t,w,g);const D=function JL(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=NA(t[0]),t.length>1&&(i=NA(t[t.length-1]))):t instanceof Map&&(e=NA(t)),e||i?new XL(n,e,i):null}(t,w);return new hk(t,w,f,D)}}let nF=(()=>{class n extends AP{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?MP(e):e;return fk(this._renderer,null,i,"register",[r]),new iF(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(we))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class iF extends class hN{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new rF(this._id,t,e||{},this._renderer)}}class rF{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return fk(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function fk(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const pk="@.disabled";let sF=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const d=null==l?void 0:l.parentNode(o);d&&l.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(o);return v||(v=new gk("",o,this.engine),this._rendererCache.set(o,v)),v}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(l,d,e,v.name,v)};return i.data.animation.forEach(f),new oF(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,d]=o;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.FYo),u.LFG(IE),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class gk{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==pk?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class oF extends gk{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==pk?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function aF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function lF(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}const mk=[{provide:AP,useClass:nF},{provide:xA,useFactory:function uF(){return new xL}},{provide:IE,useClass:(()=>{class n extends IE{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we),u.LFG(yA),u.LFG(xA),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:u.FYo,useFactory:function dF(n,t,e){return new sF(n,t,e)},deps:[$a,IE,u.R0b]}],LA=[{provide:yA,useFactory:()=>new tF},{provide:u.QbO,useValue:"BrowserAnimations"},...mk],_k=[{provide:yA,useClass:$P},{provide:u.QbO,useValue:"NoopAnimations"},...mk];let FA=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?_k:LA}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:LA,imports:[Ss]}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo,cA,Ss,FA,Ul.forChild([{path:"recipes",component:dN,canActivate:[Gf]}])]}),n})();class fF{constructor(t,e,i){this.word=t,this.translated=e,this.key=i}}let pF=(()=>{class n{constructor(e){this.db=e,this.dbPath="/dictionary",this.dictionaryRef=e.list(this.dbPath),this.dictionaryRef2=e.object(this.dbPath)}getTranslations(){return this.dictionaryRef2.valueChanges()}updateTranslations(e){this.dictionaryRef2.set(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["spinner"]],decls:5,vars:0,consts:[[1,"spinner"],[1,"rectangle","rectangle-1"],[1,"rectangle","rectangle-2"],[1,"rectangle","rectangle-3"],[1,"rectangle","rectangle-4"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u.qZA())},styles:[".rectangle[_ngcontent-%COMP%]{margin:auto;background-color:#bbb;width:1rem;height:1rem;position:absolute;display:inline-block;border-radius:.2rem;background-color:#ccc;opacity:50%}.spinner[_ngcontent-%COMP%]{position:relative;display:inline-block;display:grid;width:3rem;height:3rem}.rectangle-1[_ngcontent-%COMP%]{animation:2s linear -1.5s normal none infinite running animation-1}.rectangle-2[_ngcontent-%COMP%]{animation:2s linear -1s normal none infinite running animation-1}.rectangle-3[_ngcontent-%COMP%]{animation:2s linear -.5s normal none infinite running animation-1}.rectangle-4[_ngcontent-%COMP%]{animation:2s linear 0s normal none infinite running animation-1}@keyframes animation-1{0%{left:0%;top:0%}25%{left:2rem;top:0%}50%{left:2rem;top:2rem}75%{left:0%;top:2rem}to{left:0%;top:0%}}"],data:{animation:[]}}),n})();function gF(n,t){1&n&&(u.TgZ(0,"div",8),u._UZ(1,"spinner"),u.qZA())}function mF(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",1)(1,"div",2)(2,"input",10),u.NdJ("ngModelChange",function(r){u.CHM(e);const o=u.oxw().$implicit;return u.KtG(o.word=r)})("change",function(){u.CHM(e);const r=u.oxw(),o=r.$implicit,l=r.index,d=u.oxw();return u.KtG(d.updateItem(o,l))}),u.qZA()(),u.TgZ(3,"div",4)(4,"input",11),u.NdJ("ngModelChange",function(r){u.CHM(e);const o=u.oxw().$implicit;return u.KtG(o.translated=r)})("change",function(){u.CHM(e);const r=u.oxw(),o=r.$implicit,l=r.index,d=u.oxw();return u.KtG(d.updateItem(o,l))}),u.qZA()()()}if(2&n){const e=u.oxw().$implicit;u.xp6(2),u.Q6J("ngModel",e.word),u.xp6(2),u.Q6J("ngModel",e.translated)}}function _F(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,mF,5,2,"div",9),u.qZA()),2&n){const e=t.$implicit,i=u.oxw();u.xp6(1),u.Q6J("ngIf",i.filterItem(e))}}let yF=(()=>{class n{constructor(e,i){this.service=e,this.renderer=i,this.dictionary=[],this.newWord="",this.newTranslation="",this.loading=!1}ngOnInit(){this.loading=!0,this.service.getTranslations().subscribe(e=>{this.dictionary=e,this.loading=!1})}postItem(){var e,i;null===(e=this.dictionary)||void 0===e||e.push(new fF(this.newWord,this.newTranslation,this.dictionary.length+1)),this.service.updateTranslations(null!==(i=this.dictionary)&&void 0!==i?i:[]),this.newWord=this.newTranslation="";const r=this.renderer.selectRootElement("#main-input");setTimeout(()=>r.focus(),0)}updateItem(e,i){var r,o;(""==e.translated||""==e.word)&&(null===(r=this.dictionary)||void 0===r||r.splice(i,1)),this.service.updateTranslations(null!==(o=this.dictionary)&&void 0!==o?o:[])}filterItem(e){return!(!e.word.toLowerCase().includes(this.newWord.toLowerCase())||!e.translated.toLowerCase().includes(this.newTranslation.toLowerCase()))}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(pF),u.Y36(u.Qsj))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-dictionary"]],decls:8,vars:4,consts:[[1,"dictionary"],[1,"item"],[1,"word"],["autofocus","","id","main-input","type","text","placeholder","word",1,"dictionary-input",3,"ngModel","ngModelChange"],[1,"translation"],["type","text","placeholder","translation",1,"dictionary-input","dictionary-input--translation",3,"ngModel","ngModelChange","keyup.enter"],["class","spinner-container",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"spinner-container"],["class","item",4,"ngIf"],["type","text","placeholder","word",1,"dictionary-input",3,"ngModel","ngModelChange","change"],["type","text","placeholder","translation",1,"dictionary-input","dictionary-input--translation",3,"ngModel","ngModelChange","change"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),u.NdJ("ngModelChange",function(o){return i.newWord=o}),u.qZA()(),u.TgZ(4,"div",4)(5,"input",5),u.NdJ("ngModelChange",function(o){return i.newTranslation=o})("keyup.enter",function(){return i.postItem()}),u.qZA()()(),u.YNc(6,gF,2,0,"div",6),u.YNc(7,_F,2,1,"div",7),u.qZA()),2&e&&(u.xp6(3),u.Q6J("ngModel",i.newWord),u.xp6(2),u.Q6J("ngModel",i.newTranslation),u.xp6(1),u.Q6J("ngIf",i.loading),u.xp6(1),u.Q6J("ngForOf",i.dictionary))},dependencies:[Pi,Mr,$f,nE,Hv,UA],styles:[".dictionary[_ngcontent-%COMP%]{margin:5rem auto;padding:0 1rem;max-width:40rem;font-size:2rem}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:3rem}.dictionary-input[_ngcontent-%COMP%]{background-color:transparent;border-color:transparent;width:17rem;color:inherit;font-size:inherit}.dictionary-input[_ngcontent-%COMP%]:focus{outline:none!important;border-color:transparent}.dictionary-input--translation[_ngcontent-%COMP%]{text-align:right}.dictionary-input--text[_ngcontent-%COMP%]::placeholder{color:inherit}.button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:inherit;margin-left:1rem}.button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.2)}.button-icon[_ngcontent-%COMP%]{stroke:#bbb}.button-icon-x[_ngcontent-%COMP%]{fill:#bbb}.translation[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})();const Tm={firebase:{apiKey:"AIzaSyAkqVjfacTr4O0SjBERaK3fd3RPJilycAE",authDomain:"pong-b7547.firebaseapp.com",databaseURL:"https://pong-b7547-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pong-b7547",storageBucket:"pong-b7547.appspot.com",messagingSenderId:"1032049217686",appId:"1:1032049217686:web:96ebcefd84918705a4b2b7"},strava:{issuer:"https://www.strava.com/oauth/token",redirectUri:window.location.origin+"/strava-login",clientId:"98206",dummyClientSecret:"d45ffcc33ddd3daf979b15df85c8c42112960334",responseType:"code",scope:"activity:read_all",showDebugInformation:!0,useSilentRefresh:!0,loginUrl:"https://www.strava.com/oauth/authorize",tokenEndpoint:"https://www.strava.com/oauth/token",revocationEndpoint:"https://www.strava.com/oauth/deauthorize",oidc:!1,requestAccessToken:!0},production:!0};function vF(n,t){if(1&n&&(u.TgZ(0,"button",2),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.s9C("routerLink",e.url),u.xp6(1),u.hij(" ",e.name," ")}}let bF=(()=>{class n{constructor(){this.sites=[{name:"Dizionario",url:"dictionary"},{name:"Indicativo",url:"tenses"}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-notes"]],decls:3,vars:1,consts:[[1,"nav"],["class","nav-button",3,"routerLink",4,"ngFor","ngForOf"],[1,"nav-button",3,"routerLink"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u.YNc(1,vF,2,2,"button",1),u.qZA(),u._UZ(2,"router-outlet")),2&e&&(u.xp6(1),u.Q6J("ngForOf",i.sites))},dependencies:[Pi,e_,Vp],styles:[".nav[_ngcontent-%COMP%]{position:absolute;left:10rem;top:10rem;padding:1rem;border-left:2px solid rgba(187,187,187,.5)}@media only screen and (max-width: 75em){.nav[_ngcontent-%COMP%]{margin-left:5rem;margin-bottom:5rem;margin-top:5rem;position:static}}.nav-button[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:2px solid transparent;color:inherit;font-size:2rem;margin-bottom:2rem;display:block}.nav-button[_ngcontent-%COMP%]:last-child{margin-bottom:0rem}.nav-button[_ngcontent-%COMP%]:hover{border-bottom:2px solid #bbb;cursor:pointer}"]}),n})(),wF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-itialian-tenses"]],decls:477,vars:0,consts:[[1,"grammar"],[1,"heading"],[1,"explenation"],[1,"tense-table"],[1,"table-heading"],[1,"first-row"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"h2",1),u._uU(2,"Il presente (present simple)"),u.qZA(),u.TgZ(3,"div",2),u._uU(4," Lavoro tutti i giorni "),u.qZA(),u.TgZ(5,"div",3),u._UZ(6,"div",4),u.TgZ(7,"div",4),u._uU(8,"Lavorare"),u.qZA(),u.TgZ(9,"div",4),u._uU(10,"Scrivere"),u.qZA(),u.TgZ(11,"div",4),u._uU(12,"Dormire"),u.qZA(),u.TgZ(13,"div",5),u._uU(14,"Io"),u.qZA(),u.TgZ(15,"div"),u._uU(16,"Lavoro"),u.qZA(),u.TgZ(17,"div"),u._uU(18,"Scrivo"),u.qZA(),u.TgZ(19,"div"),u._uU(20,"Dormo"),u.qZA(),u.TgZ(21,"div",5),u._uU(22,"Tu"),u.qZA(),u.TgZ(23,"div"),u._uU(24,"Lavori"),u.qZA(),u.TgZ(25,"div"),u._uU(26,"Scrivi"),u.qZA(),u.TgZ(27,"div"),u._uU(28,"Dormi"),u.qZA(),u.TgZ(29,"div",5),u._uU(30,"Lui/Lei"),u.qZA(),u.TgZ(31,"div"),u._uU(32,"Lavora"),u.qZA(),u.TgZ(33,"div"),u._uU(34,"Scrive"),u.qZA(),u.TgZ(35,"div"),u._uU(36,"Dorme"),u.qZA(),u.TgZ(37,"div",5),u._uU(38,"Noi"),u.qZA(),u.TgZ(39,"div"),u._uU(40,"Lavoriamo"),u.qZA(),u.TgZ(41,"div"),u._uU(42,"Scriviamo"),u.qZA(),u.TgZ(43,"div"),u._uU(44,"Dormiamo"),u.qZA(),u.TgZ(45,"div",5),u._uU(46,"Voi"),u.qZA(),u.TgZ(47,"div"),u._uU(48,"Lavorete"),u.qZA(),u.TgZ(49,"div"),u._uU(50,"Scrivete"),u.qZA(),u.TgZ(51,"div"),u._uU(52,"Dormite"),u.qZA(),u.TgZ(53,"div",5),u._uU(54,"Loro"),u.qZA(),u.TgZ(55,"div"),u._uU(56,"Lavorano"),u.qZA(),u.TgZ(57,"div"),u._uU(58,"Scrivono"),u.qZA(),u.TgZ(59,"div"),u._uU(60,"Dormono"),u.qZA()(),u.TgZ(61,"h2",1),u._uU(62,"L'imperfetto (past simple)"),u.qZA(),u.TgZ(63,"div",2),u._uU(64," Mentre la mamma cucinava, la figlia studiava "),u.qZA(),u.TgZ(65,"div",3),u._UZ(66,"div",4),u.TgZ(67,"div",4),u._uU(68,"Lavorare"),u.qZA(),u.TgZ(69,"div",4),u._uU(70,"Scrivere"),u.qZA(),u.TgZ(71,"div",4),u._uU(72,"Dormire"),u.qZA(),u.TgZ(73,"div",5),u._uU(74,"Io"),u.qZA(),u.TgZ(75,"div"),u._uU(76,"Lavoravo"),u.qZA(),u.TgZ(77,"div"),u._uU(78,"Scrivevo"),u.qZA(),u.TgZ(79,"div"),u._uU(80,"Dormivo"),u.qZA(),u.TgZ(81,"div",5),u._uU(82,"Tu"),u.qZA(),u.TgZ(83,"div"),u._uU(84,"Lavoravi"),u.qZA(),u.TgZ(85,"div"),u._uU(86,"Scrivevi"),u.qZA(),u.TgZ(87,"div"),u._uU(88,"Dormivi"),u.qZA(),u.TgZ(89,"div",5),u._uU(90,"Lui/Lei"),u.qZA(),u.TgZ(91,"div"),u._uU(92,"Lavorava"),u.qZA(),u.TgZ(93,"div"),u._uU(94,"Scriveva"),u.qZA(),u.TgZ(95,"div"),u._uU(96,"Dormiva"),u.qZA(),u.TgZ(97,"div",5),u._uU(98,"Noi"),u.qZA(),u.TgZ(99,"div"),u._uU(100,"Lavoravamo"),u.qZA(),u.TgZ(101,"div"),u._uU(102,"Scrivevamo"),u.qZA(),u.TgZ(103,"div"),u._uU(104,"Dormivamo"),u.qZA(),u.TgZ(105,"div",5),u._uU(106,"Voi"),u.qZA(),u.TgZ(107,"div"),u._uU(108,"Lavoravate"),u.qZA(),u.TgZ(109,"div"),u._uU(110,"Scrivevate"),u.qZA(),u.TgZ(111,"div"),u._uU(112,"Dormivate"),u.qZA(),u.TgZ(113,"div",5),u._uU(114,"Loro"),u.qZA(),u.TgZ(115,"div"),u._uU(116,"Lavoravano"),u.qZA(),u.TgZ(117,"div"),u._uU(118,"Scrivevano"),u.qZA(),u.TgZ(119,"div"),u._uU(120,"Dormivano"),u.qZA()(),u.TgZ(121,"h2",1),u._uU(122,"Il futuro semplice (future simple)"),u.qZA(),u.TgZ(123,"div",2),u._uU(124," L'anno prossimo mi sposero "),u.qZA(),u.TgZ(125,"div",3),u._UZ(126,"div",4),u.TgZ(127,"div",4),u._uU(128,"Lavorare"),u.qZA(),u.TgZ(129,"div",4),u._uU(130,"Scrivere"),u.qZA(),u.TgZ(131,"div",4),u._uU(132,"Dormire"),u.qZA(),u.TgZ(133,"div",5),u._uU(134,"Io"),u.qZA(),u.TgZ(135,"div"),u._uU(136,"Lavorero"),u.qZA(),u.TgZ(137,"div"),u._uU(138,"Scrivero"),u.qZA(),u.TgZ(139,"div"),u._uU(140,"Dormiro"),u.qZA(),u.TgZ(141,"div",5),u._uU(142,"Tu"),u.qZA(),u.TgZ(143,"div"),u._uU(144,"Lavorerai"),u.qZA(),u.TgZ(145,"div"),u._uU(146,"Scriverai"),u.qZA(),u.TgZ(147,"div"),u._uU(148,"Dormirai"),u.qZA(),u.TgZ(149,"div",5),u._uU(150,"Lui/Lei"),u.qZA(),u.TgZ(151,"div"),u._uU(152,"Lavorera"),u.qZA(),u.TgZ(153,"div"),u._uU(154,"Scrivera"),u.qZA(),u.TgZ(155,"div"),u._uU(156,"Dormira"),u.qZA(),u.TgZ(157,"div",5),u._uU(158,"Noi"),u.qZA(),u.TgZ(159,"div"),u._uU(160,"Lavoreremo"),u.qZA(),u.TgZ(161,"div"),u._uU(162,"Scriveremo"),u.qZA(),u.TgZ(163,"div"),u._uU(164,"Dormiremo"),u.qZA(),u.TgZ(165,"div",5),u._uU(166,"Voi"),u.qZA(),u.TgZ(167,"div"),u._uU(168,"Lavorerete"),u.qZA(),u.TgZ(169,"div"),u._uU(170,"Scriverete"),u.qZA(),u.TgZ(171,"div"),u._uU(172,"Dormirete"),u.qZA(),u.TgZ(173,"div",5),u._uU(174,"Loro"),u.qZA(),u.TgZ(175,"div"),u._uU(176,"Lavoreranno"),u.qZA(),u.TgZ(177,"div"),u._uU(178,"Scriveranno"),u.qZA(),u.TgZ(179,"div"),u._uU(180,"Dormiranno"),u.qZA()(),u.TgZ(181,"h2",1),u._uU(182,"Il passato prossimo (present perfect)"),u.qZA(),u.TgZ(183,"div",2),u._uU(184," Ho mangiato due pizze e ora sono sazio "),u.qZA(),u.TgZ(185,"div",3),u._UZ(186,"div",4)(187,"div",4),u.TgZ(188,"div",4),u._uU(189,"Lavorare"),u.qZA(),u.TgZ(190,"div",4),u._uU(191,"Andare"),u.qZA(),u.TgZ(192,"div",5),u._uU(193,"Io"),u.qZA(),u.TgZ(194,"div"),u._uU(195,"Ho/Sono"),u.qZA(),u.TgZ(196,"div"),u._uU(197,"Lavorato"),u.qZA(),u.TgZ(198,"div"),u._uU(199,"Dormii"),u.qZA(),u.TgZ(200,"div",5),u._uU(201,"Tu"),u.qZA(),u.TgZ(202,"div"),u._uU(203,"Hai/Sei"),u.qZA(),u.TgZ(204,"div"),u._uU(205,"Lavorato"),u.qZA(),u.TgZ(206,"div"),u._uU(207,"Dormii"),u.qZA(),u.TgZ(208,"div",5),u._uU(209,"Lui/Lei"),u.qZA(),u.TgZ(210,"div"),u._uU(211,"Ha/E"),u.qZA(),u.TgZ(212,"div"),u._uU(213,"Lavorato"),u.qZA(),u.TgZ(214,"div"),u._uU(215,"Dormii"),u.qZA(),u.TgZ(216,"div",5),u._uU(217,"Noi"),u.qZA(),u.TgZ(218,"div"),u._uU(219,"Abbiamo/Siamo"),u.qZA(),u.TgZ(220,"div"),u._uU(221,"Lavorato"),u.qZA(),u.TgZ(222,"div"),u._uU(223,"Andati/e"),u.qZA(),u.TgZ(224,"div",5),u._uU(225,"Voi"),u.qZA(),u.TgZ(226,"div"),u._uU(227,"Avete/Siete"),u.qZA(),u.TgZ(228,"div"),u._uU(229,"Lavorato"),u.qZA(),u.TgZ(230,"div"),u._uU(231,"Andati/e"),u.qZA(),u.TgZ(232,"div",5),u._uU(233,"Loro"),u.qZA(),u.TgZ(234,"div"),u._uU(235,"Hanno/Sono"),u.qZA(),u.TgZ(236,"div"),u._uU(237,"Lavorato"),u.qZA(),u.TgZ(238,"div"),u._uU(239,"Andati/e"),u.qZA()(),u.TgZ(240,"h2",1),u._uU(241,"Il trapassato prossimo (past perfect)"),u.qZA(),u.TgZ(242,"div",2),u._uU(243," Ieri ho visto un film che avevo gi\xe0 visto l\u2019anno scorso "),u.qZA(),u.TgZ(244,"div",3),u._UZ(245,"div",4)(246,"div",4),u.TgZ(247,"div",4),u._uU(248,"Lavorare"),u.qZA(),u.TgZ(249,"div",4),u._uU(250,"Andare"),u.qZA(),u.TgZ(251,"div",5),u._uU(252,"Io"),u.qZA(),u.TgZ(253,"div"),u._uU(254,"Avevo/Ero"),u.qZA(),u.TgZ(255,"div"),u._uU(256,"Lavorato"),u.qZA(),u.TgZ(257,"div"),u._uU(258,"Dormii"),u.qZA(),u.TgZ(259,"div",5),u._uU(260,"Tu"),u.qZA(),u.TgZ(261,"div"),u._uU(262,"Avevi/Eri"),u.qZA(),u.TgZ(263,"div"),u._uU(264,"Lavorato"),u.qZA(),u.TgZ(265,"div"),u._uU(266,"Dormisti"),u.qZA(),u.TgZ(267,"div",5),u._uU(268,"Lui/Lei"),u.qZA(),u.TgZ(269,"div"),u._uU(270,"Aveva/Era"),u.qZA(),u.TgZ(271,"div"),u._uU(272,"Lavorato"),u.qZA(),u.TgZ(273,"div"),u._uU(274,"Dormi"),u.qZA(),u.TgZ(275,"div",5),u._uU(276,"Noi"),u.qZA(),u.TgZ(277,"div"),u._uU(278,"Avevamo/Eravamo"),u.qZA(),u.TgZ(279,"div"),u._uU(280,"Lavorato"),u.qZA(),u.TgZ(281,"div"),u._uU(282,"Dormimmo"),u.qZA(),u.TgZ(283,"div",5),u._uU(284,"Voi"),u.qZA(),u.TgZ(285,"div"),u._uU(286,"Avevate/Eravate"),u.qZA(),u.TgZ(287,"div"),u._uU(288,"Lavorato"),u.qZA(),u.TgZ(289,"div"),u._uU(290,"Dormiste"),u.qZA(),u.TgZ(291,"div",5),u._uU(292,"Loro"),u.qZA(),u.TgZ(293,"div"),u._uU(294,"Avevano/Erano"),u.qZA(),u.TgZ(295,"div"),u._uU(296,"Lavorato"),u.qZA(),u.TgZ(297,"div"),u._uU(298,"Dormirono"),u.qZA()(),u.TgZ(299,"h2",1),u._uU(300,"Il futuro anteriore (future perfect)"),u.qZA(),u.TgZ(301,"div",2),u._uU(302," Comprer\xf2 una macchina quando avr\xf2 risparmiato abbastanza soldi. "),u.qZA(),u.TgZ(303,"div",3),u._UZ(304,"div",4)(305,"div",4),u.TgZ(306,"div",4),u._uU(307,"Lavorare"),u.qZA(),u.TgZ(308,"div",4),u._uU(309,"Andare"),u.qZA(),u.TgZ(310,"div",5),u._uU(311,"Io"),u.qZA(),u.TgZ(312,"div"),u._uU(313,"Avro/Saro"),u.qZA(),u.TgZ(314,"div"),u._uU(315,"Lavorato"),u.qZA(),u.TgZ(316,"div"),u._uU(317,"Andato/a"),u.qZA(),u.TgZ(318,"div",5),u._uU(319,"Tu"),u.qZA(),u.TgZ(320,"div"),u._uU(321,"Avrai/Sarai"),u.qZA(),u.TgZ(322,"div"),u._uU(323,"Lavorato"),u.qZA(),u.TgZ(324,"div"),u._uU(325,"Andato/a"),u.qZA(),u.TgZ(326,"div",5),u._uU(327,"Lui/Lei"),u.qZA(),u.TgZ(328,"div"),u._uU(329,"Avra/Sara"),u.qZA(),u.TgZ(330,"div"),u._uU(331,"Lavorato"),u.qZA(),u.TgZ(332,"div"),u._uU(333,"Andato/a"),u.qZA(),u.TgZ(334,"div",5),u._uU(335,"Noi"),u.qZA(),u.TgZ(336,"div"),u._uU(337,"Avremo/Saremo"),u.qZA(),u.TgZ(338,"div"),u._uU(339,"Lavorato"),u.qZA(),u.TgZ(340,"div"),u._uU(341,"Andati/e"),u.qZA(),u.TgZ(342,"div",5),u._uU(343,"Voi"),u.qZA(),u.TgZ(344,"div"),u._uU(345,"Avrete/Sarete"),u.qZA(),u.TgZ(346,"div"),u._uU(347,"Lavorato"),u.qZA(),u.TgZ(348,"div"),u._uU(349,"Andati/e"),u.qZA(),u.TgZ(350,"div",5),u._uU(351,"Loro"),u.qZA(),u.TgZ(352,"div"),u._uU(353,"Avranno/Saranno"),u.qZA(),u.TgZ(354,"div"),u._uU(355,"Lavorato"),u.qZA(),u.TgZ(356,"div"),u._uU(357,"Andati/e"),u.qZA()(),u.TgZ(358,"h2",1),u._uU(359,"Il passato remoto (narrative)"),u.qZA(),u.TgZ(360,"div",2),u._uU(361," Il ragazzo usc\xec di casa e and\xf2 nel bosco. "),u.qZA(),u.TgZ(362,"div",3),u._UZ(363,"div",4),u.TgZ(364,"div",4),u._uU(365,"Lavorare"),u.qZA(),u.TgZ(366,"div",4),u._uU(367,"Ricevere"),u.qZA(),u.TgZ(368,"div",4),u._uU(369,"Dormire"),u.qZA(),u.TgZ(370,"div",5),u._uU(371,"Io"),u.qZA(),u.TgZ(372,"div"),u._uU(373,"Lavorai"),u.qZA(),u.TgZ(374,"div"),u._uU(375,"Ricevei/Ricevetti"),u.qZA(),u.TgZ(376,"div"),u._uU(377,"Dormii"),u.qZA(),u.TgZ(378,"div",5),u._uU(379,"Tu"),u.qZA(),u.TgZ(380,"div"),u._uU(381,"Lavorasti"),u.qZA(),u.TgZ(382,"div"),u._uU(383,"Ricevesti"),u.qZA(),u.TgZ(384,"div"),u._uU(385,"Dormii"),u.qZA(),u.TgZ(386,"div",5),u._uU(387,"Lui/Lei"),u.qZA(),u.TgZ(388,"div"),u._uU(389,"Lavoro"),u.qZA(),u.TgZ(390,"div"),u._uU(391,"Riceve/Ricevette"),u.qZA(),u.TgZ(392,"div"),u._uU(393,"Dormii"),u.qZA(),u.TgZ(394,"div",5),u._uU(395,"Noi"),u.qZA(),u.TgZ(396,"div"),u._uU(397,"Lavorammo"),u.qZA(),u.TgZ(398,"div"),u._uU(399,"Ricevemmo"),u.qZA(),u.TgZ(400,"div"),u._uU(401,"Andati/e"),u.qZA(),u.TgZ(402,"div",5),u._uU(403,"Voi"),u.qZA(),u.TgZ(404,"div"),u._uU(405,"Lavoraste"),u.qZA(),u.TgZ(406,"div"),u._uU(407,"Riceveste"),u.qZA(),u.TgZ(408,"div"),u._uU(409,"Andati/e"),u.qZA(),u.TgZ(410,"div",5),u._uU(411,"Loro"),u.qZA(),u.TgZ(412,"div"),u._uU(413,"Lavorarono"),u.qZA(),u.TgZ(414,"div"),u._uU(415,"Riceverono/Ricevettero"),u.qZA(),u.TgZ(416,"div"),u._uU(417,"Andati/e"),u.qZA()(),u.TgZ(418,"h2",1),u._uU(419,"Il trapassato remoto (narrative perfect)"),u.qZA(),u.TgZ(420,"div",2),u._uU(421," Dopo che Fiona ebbe sceso le scale, usc\xec dall\u2019edificio. "),u.qZA(),u.TgZ(422,"div",3),u._UZ(423,"div",4)(424,"div",4),u.TgZ(425,"div",4),u._uU(426,"Lavorare"),u.qZA(),u.TgZ(427,"div",4),u._uU(428,"Andare"),u.qZA(),u.TgZ(429,"div",5),u._uU(430,"Io"),u.qZA(),u.TgZ(431,"div"),u._uU(432,"Ebbi/Fui"),u.qZA(),u.TgZ(433,"div"),u._uU(434,"Lavorato"),u.qZA(),u.TgZ(435,"div"),u._uU(436,"Andato/a"),u.qZA(),u.TgZ(437,"div",5),u._uU(438,"Tu"),u.qZA(),u.TgZ(439,"div"),u._uU(440,"Avesti/Fosti"),u.qZA(),u.TgZ(441,"div"),u._uU(442,"Lavorato"),u.qZA(),u.TgZ(443,"div"),u._uU(444,"Andato/a"),u.qZA(),u.TgZ(445,"div",5),u._uU(446,"Lui/Lei"),u.qZA(),u.TgZ(447,"div"),u._uU(448,"Ebbe/Fu"),u.qZA(),u.TgZ(449,"div"),u._uU(450,"Lavorato"),u.qZA(),u.TgZ(451,"div"),u._uU(452,"Andato/a"),u.qZA(),u.TgZ(453,"div",5),u._uU(454,"Noi"),u.qZA(),u.TgZ(455,"div"),u._uU(456,"Avemmo/Fummo"),u.qZA(),u.TgZ(457,"div"),u._uU(458,"Lavorato"),u.qZA(),u.TgZ(459,"div"),u._uU(460,"Andati/e"),u.qZA(),u.TgZ(461,"div",5),u._uU(462,"Voi"),u.qZA(),u.TgZ(463,"div"),u._uU(464,"Aveste/Foste"),u.qZA(),u.TgZ(465,"div"),u._uU(466,"Lavorato"),u.qZA(),u.TgZ(467,"div"),u._uU(468,"Andati/e"),u.qZA(),u.TgZ(469,"div",5),u._uU(470,"Loro"),u.qZA(),u.TgZ(471,"div"),u._uU(472,"Ebbero/Furono"),u.qZA(),u.TgZ(473,"div"),u._uU(474,"Lavorato"),u.qZA(),u.TgZ(475,"div"),u._uU(476,"Andati/e"),u.qZA()()())},styles:[".grammar[_ngcontent-%COMP%]{margin:5rem auto;padding:0 1rem;max-width:60rem;font-size:2rem}@media only screen and (max-width: 56.25em){.grammar[_ngcontent-%COMP%]{font-size:2rem}}.heading[_ngcontent-%COMP%]{margin-bottom:5rem}.tense-table[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;margin-bottom:10rem}.tense-table[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:1rem 2rem}@media only screen and (max-width: 56.25em){.tense-table[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:.5rem 1rem}}@media only screen and (max-width: 37.5em){.tense-table[_ngcontent-%COMP%]{font-size:1rem}}.table-heading[_ngcontent-%COMP%]{background-color:#333}.first-row[_ngcontent-%COMP%]{background-color:#252525}.explenation[_ngcontent-%COMP%]{margin-bottom:3rem}"]}),n})(),CF=(()=>{class n{constructor(e){this.dbPath="/notes",this.dictionaryRef=e.object(this.dbPath)}getNote(){return this.dictionaryRef.valueChanges()}updateNote(e){this.dictionaryRef.set(e||"")}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EF=(()=>{class n{constructor(e){this.service=e,this.note=""}ngOnInit(){this.service.getNote().subscribe(e=>this.note=e)}save(){var e=document.getElementById("note");null!=e&&e.style.height&&(e.style.height="5px",e.style.height=e.scrollHeight+"px"),this.service.updateNote(this.note)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(CF))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-random"]],decls:2,vars:1,consts:[[1,"content"],["id","note","spellcheck","false",1,"note",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"textarea",1),u.NdJ("ngModelChange",function(o){return i.note=o})("ngModelChange",function(){return i.save()}),u.qZA()()),2&e&&(u.xp6(1),u.Q6J("ngModel",i.note))},dependencies:[$f,nE,Hv],styles:[".note[_ngcontent-%COMP%]{padding:3rem;flex-grow:1;resize:none;min-height:50rem;height:72vh;background-color:transparent;border:none;color:inherit;font:inherit;font-size:2rem}.note[_ngcontent-%COMP%]:focus-visible{outline:none}.content[_ngcontent-%COMP%]{max-width:100rem;margin:10rem auto;display:flex;flex:1;flex-direction:column}"]}),n})(),yk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo,Ss,FA]}),n})(),TF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo,cA,yk,js.hO.initializeApp(Tm.firebase),Ul.forChild([{path:"notes",component:bF,canActivate:[Gf],children:[{path:"dictionary",component:yF,canActivate:[Gf]},{path:"tenses",component:wF,canActivate:[Gf]}]},{path:"randomNotes",component:EF,canActivate:[Gf]}])]}),n})();function _u(){}const SF=function(){let n=0;return function(){return n++}}();function Fn(n){return null==n}function _i(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Sn(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const cr=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Ta(n,t){return cr(n)?n:t}function an(n,t){return void 0===n?t:n}const vk=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function yi(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function ti(n,t,e,i){let r,o,l;if(_i(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(Sn(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function AE(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function xE(n){if(_i(n))return n.map(xE);if(Sn(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=xE(n[e[r]]);return t}return n}function bk(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function DF(n,t,e,i){if(!bk(n))return;const r=t[n],o=e[n];Sn(r)&&Sn(o)?Zv(r,o,i):t[n]=xE(o)}function Zv(n,t,e){const i=_i(t)?t:[t],r=i.length;if(!Sn(n))return n;const o=(e=e||{}).merger||DF;for(let l=0;l<r;++l){if(!Sn(t=i[l]))continue;const d=Object.keys(t);for(let f=0,g=d.length;f<g;++f)o(d[f],n,t,e)}return n}function Gv(n,t){return Zv(n,t,{merger:AF})}function AF(n,t,e){if(!bk(n))return;const i=t[n],r=e[n];Sn(i)&&Sn(r)?Gv(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=xE(r))}const wk={"":n=>n,x:n=>n.x,y:n=>n.y};function nh(n,t){return(wk[t]||(wk[t]=function xF(n){const t=function MF(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function VA(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Sa=n=>void 0!==n,ih=n=>"function"==typeof n,Ck=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},Ri=Math.PI,si=2*Ri,kF=si+Ri,ME=Number.POSITIVE_INFINITY,OF=Ri/180,Xi=Ri/2,qv=Ri/4,Ek=2*Ri/3,Ia=Math.log10,lc=Math.sign;function Tk(n){const t=Math.round(n);n=Kv(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ia(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Sm(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Kv(n,t,e){return Math.abs(n-t)<e}function Sk(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function cl(n){return n*(Ri/180)}function BA(n){return n*(180/Ri)}function Ik(n){if(!cr(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Dk(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ri&&(o+=si),{angle:o,distance:r}}function HA(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function LF(n,t){return(n-t+kF)%si-Ri}function xo(n){return(n%si+si)%si}function Yv(n,t,e,i){const r=xo(n),o=xo(t),l=xo(e),d=xo(o-r),f=xo(l-r),g=xo(r-o),v=xo(r-l);return r===o||r===l||i&&o===l||d>f&&g<v}function Br(n,t,e){return Math.max(t,Math.min(e,n))}function yu(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function jA(n,t,e){e=e||(l=>n[l]<t);let o,i=n.length-1,r=0;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const vu=(n,t,e,i)=>jA(n,e,i?r=>n[r][t]<=e:r=>n[r][t]<e),UF=(n,t,e)=>jA(n,e,i=>n[i][t]>=e),Ak=["push","pop","shift","splice","unshift"];function xk(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(Ak.forEach(o=>{delete n[o]}),delete n._chartjs)}function Mk(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const Pk="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function kk(n,t,e){const i=e||(l=>Array.prototype.slice.call(l));let r=!1,o=[];return function(...l){o=i(l),r||(r=!0,Pk.call(window,()=>{r=!1,n.apply(t,o)}))}}const $A=n=>"start"===n?"left":"end"===n?"right":"center",ps=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Ok(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,_parsed:d}=n,f=l.axis,{min:g,max:v,minDefined:w,maxDefined:D}=l.getUserBounds();w&&(r=Br(Math.min(vu(d,l.axis,g).lo,e?i:vu(t,f,l.getPixelForValue(g)).lo),0,i-1)),o=D?Br(Math.max(vu(d,l.axis,v,!0).hi+1,e?0:vu(t,f,l.getPixelForValue(v),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function Rk(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const PE=n=>0===n||1===n,Nk=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*si/e),Lk=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*si/e)+1,Qv={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Xi),easeOutSine:n=>Math.sin(n*Xi),easeInOutSine:n=>-.5*(Math.cos(Ri*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>PE(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>PE(n)?n:Nk(n,.075,.3),easeOutElastic:n=>PE(n)?n:Lk(n,.075,.3),easeInOutElastic:n=>PE(n)?n:n<.5?.5*Nk(2*n,.1125,.45):.5+.5*Lk(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-Qv.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Qv.easeInBounce(2*n):.5*Qv.easeOutBounce(2*n-1)+.5};function Jv(n){return n+.5|0}const rh=(n,t,e)=>Math.max(Math.min(n,e),t);function Xv(n){return rh(Jv(2.55*n),0,255)}function sh(n){return rh(Jv(255*n),0,255)}function bu(n){return rh(Jv(n/2.55)/100,0,1)}function Fk(n){return rh(Jv(100*n),0,100)}const Da={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},zA=[..."0123456789ABCDEF"],$F=n=>zA[15&n],zF=n=>zA[(240&n)>>4]+zA[15&n],kE=n=>(240&n)>>4==(15&n);const KF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uk(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function YF(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function QF(n,t,e){const i=Uk(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function WA(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),d=(o+l)/2;let f,g,v;return o!==l&&(v=o-l,g=d>.5?v/(2-o-l):v/(o+l),f=function JF(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,v,o),f=60*f+.5),[0|f,g||0,d]}function ZA(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(sh)}function GA(n,t,e){return ZA(Uk,n,t,e)}function Vk(n){return(n%360+360)%360}const Bk={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hk={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let OE;const o2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,qA=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Im=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function RE(n,t,e){if(n){let i=WA(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=GA(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function jk(n,t){return n&&Object.assign(t||{},n)}function $k(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=sh(n[3]))):(t=jk(n,{r:0,g:0,b:0,a:1})).a=sh(t.a),t}function u2(n){return"r"===n.charAt(0)?function a2(n){const t=o2.exec(n);let i,r,o,e=255;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?Xv(l):rh(255*l,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Xv(i):rh(i,0,255)),r=255&(t[4]?Xv(r):rh(r,0,255)),o=255&(t[6]?Xv(o):rh(o,0,255)),{r:i,g:r,b:o,a:e}}}(n):function t2(n){const t=KF.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?Xv(+t[5]):sh(+t[5]));const r=Vk(+t[2]),o=+t[3]/100,l=+t[4]/100;return i="hwb"===t[1]?function XF(n,t,e){return ZA(QF,n,t,e)}(r,o,l):"hsv"===t[1]?function e2(n,t,e){return ZA(YF,n,t,e)}(r,o,l):GA(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class NE{constructor(t){if(t instanceof NE)return t;const e=typeof t;let i;"object"===e?i=$k(t):"string"===e&&(i=function ZF(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Da[n[1]],g:255&17*Da[n[2]],b:255&17*Da[n[3]],a:5===t?17*Da[n[4]]:255}:(7===t||9===t)&&(e={r:Da[n[1]]<<4|Da[n[2]],g:Da[n[3]]<<4|Da[n[4]],b:Da[n[5]]<<4|Da[n[6]],a:9===t?Da[n[7]]<<4|Da[n[8]]:255})),e}(t)||function s2(n){OE||(OE=function r2(){const n={},t=Object.keys(Hk),e=Object.keys(Bk);let i,r,o,l,d;for(i=0;i<t.length;i++){for(l=d=t[i],r=0;r<e.length;r++)o=e[r],d=d.replace(o,Bk[o]);o=parseInt(Hk[l],16),n[d]=[o>>16&255,o>>8&255,255&o]}return n}(),OE.transparent=[0,0,0,0]);const t=OE[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||u2(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=jk(this._rgb);return t&&(t.a=bu(t.a)),t}set rgb(t){this._rgb=$k(t)}rgbString(){return this._valid?function l2(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${bu(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function qF(n){var t=(n=>kE(n.r)&&kE(n.g)&&kE(n.b)&&kE(n.a))(n)?$F:zF;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function i2(n){if(!n)return;const t=WA(n),e=t[0],i=Fk(t[1]),r=Fk(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${bu(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,d=2*l-1,f=i.a-r.a,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function c2(n,t,e){const i=Im(bu(n.r)),r=Im(bu(n.g)),o=Im(bu(n.b));return{r:sh(qA(i+e*(Im(bu(t.r))-i))),g:sh(qA(r+e*(Im(bu(t.g))-r))),b:sh(qA(o+e*(Im(bu(t.b))-o))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new NE(this.rgb)}alpha(t){return this._rgb.a=sh(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Jv(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return RE(this._rgb,2,t),this}darken(t){return RE(this._rgb,2,-t),this}saturate(t){return RE(this._rgb,1,t),this}desaturate(t){return RE(this._rgb,1,-t),this}rotate(t){return function n2(n,t){var e=WA(n);e[0]=Vk(e[0]+t),e=GA(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function zk(n){return new NE(n)}function Wk(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Zk(n){return Wk(n)?n:zk(n)}function KA(n){return Wk(n)?n:zk(n).saturate(.5).darken(.1).hexString()}const Qf=Object.create(null),YA=Object.create(null);function eb(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function QA(n,t,e){return"string"==typeof t?Zv(eb(n,t),e):Zv(eb(n,""),t)}var Mn=new class d2{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>KA(i.backgroundColor),this.hoverBorderColor=(e,i)=>KA(i.borderColor),this.hoverColor=(e,i)=>KA(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return QA(this,t,e)}get(t){return eb(this,t)}describe(t,e){return QA(YA,t,e)}override(t,e){return QA(Qf,t,e)}route(t,e,i,r){const o=eb(this,t),l=eb(this,i),d="_"+e;Object.defineProperties(o,{[d]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[d],g=l[r];return Sn(f)?Object.assign({},g,f):an(f,g)},set(f){this[d]=f}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function LE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function f2(n,t,e,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const d=e.length;let f,g,v,w,D;for(f=0;f<d;f++)if(w=e[f],null!=w&&!0!==_i(w))l=LE(n,r,o,l,w);else if(_i(w))for(g=0,v=w.length;g<v;g++)D=w[g],null!=D&&!_i(D)&&(l=LE(n,r,o,l,D));n.restore();const A=o.length/2;if(A>e.length){for(f=0;f<A;f++)delete r[o[f]];o.splice(0,A)}return l}function Jf(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Gk(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function JA(n,t,e,i){qk(n,t,e,i,null)}function qk(n,t,e,i,r){let o,l,d,f,g,v;const w=t.pointStyle,D=t.rotation,A=t.radius;let P=(D||0)*OF;if(w&&"object"==typeof w&&(o=w.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return n.save(),n.translate(e,i),n.rotate(P),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),void n.restore();if(!(isNaN(A)||A<=0)){switch(n.beginPath(),w){default:r?n.ellipse(e,i,r/2,A,0,0,si):n.arc(e,i,A,0,si),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(P)*A,i-Math.cos(P)*A),P+=Ek,n.lineTo(e+Math.sin(P)*A,i-Math.cos(P)*A),P+=Ek,n.lineTo(e+Math.sin(P)*A,i-Math.cos(P)*A),n.closePath();break;case"rectRounded":g=.516*A,f=A-g,l=Math.cos(P+qv)*f,d=Math.sin(P+qv)*f,n.arc(e-l,i-d,g,P-Ri,P-Xi),n.arc(e+d,i-l,g,P-Xi,P),n.arc(e+l,i+d,g,P,P+Xi),n.arc(e-d,i+l,g,P+Xi,P+Ri),n.closePath();break;case"rect":if(!D){f=Math.SQRT1_2*A,v=r?r/2:f,n.rect(e-v,i-f,2*v,2*f);break}P+=qv;case"rectRot":l=Math.cos(P)*A,d=Math.sin(P)*A,n.moveTo(e-l,i-d),n.lineTo(e+d,i-l),n.lineTo(e+l,i+d),n.lineTo(e-d,i+l),n.closePath();break;case"crossRot":P+=qv;case"cross":l=Math.cos(P)*A,d=Math.sin(P)*A,n.moveTo(e-l,i-d),n.lineTo(e+l,i+d),n.moveTo(e+d,i-l),n.lineTo(e-d,i+l);break;case"star":l=Math.cos(P)*A,d=Math.sin(P)*A,n.moveTo(e-l,i-d),n.lineTo(e+l,i+d),n.moveTo(e+d,i-l),n.lineTo(e-d,i+l),P+=qv,l=Math.cos(P)*A,d=Math.sin(P)*A,n.moveTo(e-l,i-d),n.lineTo(e+l,i+d),n.moveTo(e+d,i-l),n.lineTo(e-d,i+l);break;case"line":l=r?r/2:Math.cos(P)*A,d=Math.sin(P)*A,n.moveTo(e-l,i-d),n.lineTo(e+l,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(P)*A,i+Math.sin(P)*A)}n.fill(),t.borderWidth>0&&n.stroke()}}function tb(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function FE(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function UE(n){n.restore()}function p2(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function g2(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Xf(n,t,e,i,r,o={}){const l=_i(t)?t:[t],d=o.strokeWidth>0&&""!==o.strokeColor;let f,g;for(n.save(),n.font=r.string,function m2(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Fn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,o),f=0;f<l.length;++f)g=l[f],d&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Fn(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),_2(n,e,i,g,o),i+=r.lineHeight;n.restore()}function _2(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,v=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,v),n.lineTo(d,v),n.stroke()}}function nb(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,-Xi,Ri,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Ri,Xi,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Xi,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Xi,!0),n.lineTo(e+l.topLeft,i)}const y2=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),v2=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function b2(n,t){const e=(""+n).match(y2);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const w2=n=>+n||0;function XA(n,t){const e={},i=Sn(t),r=i?Object.keys(t):t,o=Sn(n)?i?l=>an(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=w2(o(l));return e}function Kk(n){return XA(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ep(n){return XA(n,["topLeft","topRight","bottomLeft","bottomRight"])}function gs(n){const t=Kk(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ir(n,t){let e=an((n=n||{}).size,(t=t||Mn.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=an(n.style,t.style);i&&!(""+i).match(v2)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:an(n.family,t.family),lineHeight:b2(an(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:an(n.weight,t.weight),string:""};return r.string=function h2(n){return!n||Fn(n.size)||Fn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function ib(n,t,e,i){let o,l,d,r=!0;for(o=0,l=n.length;o<l;++o)if(d=n[o],void 0!==d&&(void 0!==t&&"function"==typeof d&&(d=d(t),r=!1),void 0!==e&&_i(d)&&(d=d[e%d.length],r=!1),void 0!==d))return i&&!r&&(i.cacheable=!1),d}function oh(n,t){return Object.assign(Object.create(n),t)}function ex(n,t=[""],e=n,i,r=(()=>n[0])){Sa(i)||(i=eO("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:l=>ex([l,...n],t,e,i)};return new Proxy(o,{deleteProperty:(l,d)=>(delete l[d],delete l._keys,delete n[0][d],!0),get:(l,d)=>Qk(l,d,()=>function M2(n,t,e,i){let r;for(const o of t)if(r=eO(E2(o,n),e),Sa(r))return tx(n,r)?nx(e,i,n,r):r}(d,t,n,l)),getOwnPropertyDescriptor:(l,d)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],d),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(l,d)=>tO(l).includes(d),ownKeys:l=>tO(l),set(l,d,f){const g=l._storage||(l._storage=r());return l[d]=g[d]=f,delete l._keys,!0}})}function Dm(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Yk(n,i),setContext:o=>Dm(n,o,e,i),override:o=>Dm(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty:(o,l)=>(delete o[l],delete n[l],!0),get:(o,l,d)=>Qk(o,l,()=>function T2(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let d=i[t];return ih(d)&&l.isScriptable(t)&&(d=function S2(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);return d.add(n),t=t(o,l||i),d.delete(n),tx(n,t)&&(t=nx(r._scopes,r,n,t)),t}(t,d,n,e)),_i(d)&&d.length&&(d=function I2(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:d}=e;if(Sa(o.index)&&i(n))t=t[o.index%t.length];else if(Sn(t[0])){const f=t,g=r._scopes.filter(v=>v!==f);t=[];for(const v of f){const w=nx(g,r,n,v);t.push(Dm(w,o,l&&l[n],d))}}return t}(t,d,n,l.isIndexable)),tx(t,d)&&(d=Dm(d,r,o&&o[t],l)),d}(o,l,d)),getOwnPropertyDescriptor:(o,l)=>o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(o,l)=>Reflect.has(n,l),ownKeys:()=>Reflect.ownKeys(n),set:(o,l,d)=>(n[l]=d,delete o[l],!0)})}function Yk(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ih(e)?e:()=>e,isIndexable:ih(i)?i:()=>i}}const E2=(n,t)=>n?n+VA(t):t,tx=(n,t)=>Sn(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Qk(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function Jk(n,t,e){return ih(n)?n(t,e):n}const D2=(n,t)=>!0===n?t:"string"==typeof n?nh(t,n):void 0;function A2(n,t,e,i,r){for(const o of t){const l=D2(e,o);if(l){n.add(l);const d=Jk(l._fallback,e,r);if(Sa(d)&&d!==e&&d!==i)return d}else if(!1===l&&Sa(i)&&e!==i)return null}return!1}function nx(n,t,e,i){const r=t._rootScopes,o=Jk(t._fallback,e,i),l=[...n,...r],d=new Set;d.add(i);let f=Xk(d,l,e,o||e,i);return!(null===f||Sa(o)&&o!==e&&(f=Xk(d,l,o,f,i),null===f))&&ex(Array.from(d),[""],r,o,()=>function x2(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return _i(r)&&Sn(e)?e:r}(t,e,i))}function Xk(n,t,e,i,r){for(;e;)e=A2(n,t,e,i,r);return e}function eO(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Sa(i))return i}}function tO(n){let t=n._keys;return t||(t=n._keys=function P2(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function nO(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let d,f,g,v;for(d=0,f=i;d<f;++d)g=d+e,v=t[g],l[d]={r:r.parse(nh(v,o),g)};return l}const k2=Number.EPSILON||1e-14,Am=(n,t)=>t<n.length&&!n[t].skip&&n[t],iO=n=>"x"===n?"y":"x";function O2(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,d=HA(o,r),f=HA(l,o);let g=d/(d+f),v=f/(d+f);g=isNaN(g)?0:g,v=isNaN(v)?0:v;const w=i*g,D=i*v;return{previous:{x:o.x-w*(l.x-r.x),y:o.y-w*(l.y-r.y)},next:{x:o.x+D*(l.x-r.x),y:o.y+D*(l.y-r.y)}}}function VE(n,t,e){return Math.max(Math.min(n,e),t)}function U2(n,t,e,i,r){let o,l,d,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===t.cubicInterpolationMode)!function L2(n,t="x"){const e=iO(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,d,f,g=Am(n,0);for(l=0;l<i;++l)if(d=f,f=g,g=Am(n,l+1),f){if(g){const v=g[t]-f[t];r[l]=0!==v?(g[e]-f[e])/v:0}o[l]=d?g?lc(r[l-1])!==lc(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}(function R2(n,t,e){const i=n.length;let r,o,l,d,f,g=Am(n,0);for(let v=0;v<i-1;++v)if(f=g,g=Am(n,v+1),f&&g){if(Kv(t[v],0,k2)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],o=e[v+1]/t[v],d=Math.pow(r,2)+Math.pow(o,2),!(d<=9)&&(l=3/Math.sqrt(d),e[v]=r*l*t[v],e[v+1]=o*l*t[v])}})(n,r,o),function N2(n,t,e="x"){const i=iO(e),r=n.length;let o,l,d,f=Am(n,0);for(let g=0;g<r;++g){if(l=d,d=f,f=Am(n,g+1),!d)continue;const v=d[e],w=d[i];l&&(o=(v-l[e])/3,d[`cp1${e}`]=v-o,d[`cp1${i}`]=w-o*t[g]),f&&(o=(f[e]-v)/3,d[`cp2${e}`]=v+o,d[`cp2${i}`]=w+o*t[g])}}(n,o,t)}(n,r);else{let g=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)d=n[o],f=O2(g,d,n[Math.min(o+1,l-(i?0:1))%l],t.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}t.capBezierPoints&&function F2(n,t){let e,i,r,o,l,d=tb(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=d,d=e<i-1&&tb(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=VE(r.cp1x,t.left,t.right),r.cp1y=VE(r.cp1y,t.top,t.bottom)),d&&(r.cp2x=VE(r.cp2x,t.left,t.right),r.cp2y=VE(r.cp2y,t.top,t.bottom)))}(n,e)}function rO(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ix(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function BE(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const HE=n=>window.getComputedStyle(n,null),B2=["top","right","bottom","left"];function tp(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=B2[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function np(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=HE(e),o="border-box"===r.boxSizing,l=tp(r,"padding"),d=tp(r,"border","width"),{x:f,y:g,box:v}=function j2(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let d,f,l=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,o,n.target))d=r,f=o;else{const g=t.getBoundingClientRect();d=i.clientX-g.left,f=i.clientY-g.top,l=!0}return{x:d,y:f,box:l}}(n,e),w=l.left+(v&&d.left),D=l.top+(v&&d.top);let{width:A,height:P}=t;return o&&(A-=l.width+d.width,P-=l.height+d.height),{x:Math.round((f-w)/A*e.width/i),y:Math.round((g-D)/P*e.height/i)}}const rx=n=>Math.round(10*n)/10;function sO(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=r/i,n.width=o/i;const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o)&&(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0)}const W2=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function oO(n,t){const e=function V2(n,t){return HE(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ip(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Z2(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function G2(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=ip(n,r,e),d=ip(r,o,e),f=ip(o,t,e),g=ip(l,d,e),v=ip(d,f,e);return ip(g,v,e)}const aO=new Map;function rb(n,t,e){return function q2(n,t){t=t||{};const e=n+JSON.stringify(t);let i=aO.get(e);return i||(i=new Intl.NumberFormat(n,t),aO.set(e,i)),i}(t,e).format(n)}function xm(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function lO(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function cO(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function uO(n){return"angle"===n?{between:Yv,compare:LF,normalize:xo}:{between:yu,compare:(t,e)=>t-e,normalize:t=>t}}function dO({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function hO(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:d,between:f,normalize:g}=uO(i),{start:v,end:w,loop:D,style:A}=function Q2(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:d}=uO(i),f=t.length;let D,A,{start:g,end:v,loop:w}=n;if(w){for(g+=f,v+=f,D=0,A=f;D<A&&l(d(t[g%f][i]),r,o);++D)g--,v--;g%=f,v%=f}return v<g&&(v+=f),{start:g,end:v,loop:w,style:n.style}}(n,t,e),P=[];let Y,se,xe,F=!1,Z=null;for(let ut=v,mt=v;ut<=w;++ut)se=t[ut%l],!se.skip&&(Y=g(se[i]),Y!==xe&&(F=f(Y,r,o),null===Z&&(F||f(r,xe,Y)&&0!==d(r,xe))&&(Z=0===d(Y,r)?ut:mt),null!==Z&&(!F||0===d(o,Y)||f(o,xe,Y))&&(P.push(dO({start:Z,end:ut,loop:D,count:l,style:A})),Z=null),mt=ut,xe=Y));return null!==Z&&P.push(dO({start:Z,end:w,loop:D,count:l,style:A})),P}function fO(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=hO(i[r],n.points,t);o.length&&e.push(...o)}return e}function gO(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function nU(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var wu=new class iU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const l=e.duration;e.listeners[r].forEach(d=>d({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Pk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let f,l=o.length-1,d=!1;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const mO="transparent",rU={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=Zk(n||mO),r=i.valid&&Zk(t||mO);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class sU{constructor(t,e,i,r){const o=e[i];r=ib([t.to,r,o,t.from]);const l=ib([t.from,o,r]);this._active=!0,this._fn=t.fn||rU[t.type||typeof l],this._easing=Qv[t.easing]||Qv.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ib([t.to,e,r,t.from]),this._from=ib([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,d=this._to;let f;if(this._active=o!==d&&(l||e<i),!this._active)return this._target[r]=d,void this._notify(!0);e<0?this._target[r]=o:(f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,d,f))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}Mn.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const lU=Object.keys(Mn.animation);Mn.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Mn.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Mn.describe("animations",{_fallback:"animation"}),Mn.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class _O{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Sn(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Sn(r))return;const o={};for(const l of lU)o[l]=r[l];(_i(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!e.has(l))&&e.set(l,o)})})}_animateOptions(t,e){const i=e.options,r=function uU(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&function cU(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const g=l[f];if("$"===g.charAt(0))continue;if("options"===g){r.push(...this._animateOptions(t,e));continue}const v=e[g];let w=o[g];const D=i.get(g);if(w){if(D&&w.active()){w.update(D,v,d);continue}w.cancel()}D&&D.duration?(o[g]=w=new sU(D,t,g,v),r.push(w)):t[g]=v}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(wu.add(this._chart,i),!0):void 0}}function yO(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,o=void 0===e.max?t:0;return{start:i?o:r,end:i?r:o}}function vO(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function bO(n,t,e,i={}){const r=n.keys,o="single"===i.mode;let l,d,f,g;if(null!==t){for(l=0,d=r.length;l<d;++l){if(f=+r[l],f===e){if(i.all)continue;break}g=n.values[f],cr(g)&&(o||0===t||lc(t)===lc(g))&&(t+=g)}return t}}function wO(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function mU(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function CO(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function EO(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:d}=i,f=o.axis,g=l.axis,v=function pU(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(o,l,i),w=t.length;let D;for(let A=0;A<w;++A){const P=t[A],{[f]:F,[g]:Z}=P;D=(P._stacks||(P._stacks={}))[g]=mU(r,v,F),D[d]=Z,D._top=CO(D,l,!0,i.type),D._bottom=CO(D,l,!1,i.type)}}function sx(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function sb(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||void 0===o[i]||void 0===o[i][e])return;delete o[i][e]}}}const ox=n=>"reset"===n||"none"===n,TO=(n,t)=>t?n:Object.assign({},n);let cc=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wO(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&sb(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(D,A,P,F)=>"x"===D?A:"r"===D?F:P,l=i.xAxisID=an(r.xAxisID,sx(e,"x")),d=i.yAxisID=an(r.yAxisID,sx(e,"y")),f=i.rAxisID=an(r.rAxisID,sx(e,"r")),g=i.indexAxis,v=i.iAxisID=o(g,l,d,f),w=i.vAxisID=o(g,d,l,f);i.xScale=this.getScaleForId(l),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(f),i.iScale=this.getScaleForId(v),i.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xk(this._data,this),e._stacked&&sb(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Sn(i))this._data=function fU(n){const t=Object.keys(n),e=new Array(t.length);let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],e[i]={x:o,y:n[o]};return e}(i);else if(r!==i){if(r){xk(r,this);const o=this._cachedMeta;sb(o),o._parsed=[]}i&&Object.isExtensible(i)&&function BF(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ak.forEach(e=>{const i="_onData"+VA(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...o)}),l}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const l=i._stacked;i._stacked=wO(i.vScale,i),i.stack!==r.stack&&(o=!0,sb(i),i.stack=r.stack),this._resyncElements(e),(o||l!==i._stacked)&&EO(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:o}=this,{iScale:l,_stacked:d}=r,f=l.axis;let w,D,A,g=0===e&&i===o.length||r._sorted,v=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=o,r._sorted=!0,A=o;else{A=_i(o[e])?this.parseArrayData(r,o,e,i):Sn(o[e])?this.parseObjectData(r,o,e,i):this.parsePrimitiveData(r,o,e,i);const P=()=>null===D[f]||v&&D[f]<v[f];for(w=0;w<i;++w)r._parsed[w+e]=D=A[w],g&&(P()&&(g=!1),v=D);r._sorted=g}d&&EO(this,A)}parsePrimitiveData(e,i,r,o){const{iScale:l,vScale:d}=e,f=l.axis,g=d.axis,v=l.getLabels(),w=l===d,D=new Array(o);let A,P,F;for(A=0,P=o;A<P;++A)F=A+r,D[A]={[f]:w||l.parse(v[F],F),[g]:d.parse(i[F],F)};return D}parseArrayData(e,i,r,o){const{xScale:l,yScale:d}=e,f=new Array(o);let g,v,w,D;for(g=0,v=o;g<v;++g)w=g+r,D=i[w],f[g]={x:l.parse(D[0],w),y:d.parse(D[1],w)};return f}parseObjectData(e,i,r,o){const{xScale:l,yScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,v=new Array(o);let w,D,A,P;for(w=0,D=o;w<D;++w)A=w+r,P=i[A],v[w]={x:l.parse(nh(P,f),A),y:d.parse(nh(P,g),A)};return v}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const l=this._cachedMeta,d=i[e.axis];return bO({keys:vO(this.chart,!0),values:i._stacks[e.axis]},d,l.index,{mode:r})}updateRangeFromParsed(e,i,r,o){const l=r[i.axis];let d=null===l?NaN:l;const f=o&&r._stacks[i.axis];o&&f&&(o.values=f,d=bO(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,i){const r=this._cachedMeta,o=r._parsed,l=r._sorted&&e===r.iScale,d=o.length,f=this._getOtherScale(e),g=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:vO(this.chart,!0),values:null})(i,r),v={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:D}=function gU(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(f);let A,P;function F(){P=o[A];const Z=P[f.axis];return!cr(P[e.axis])||w>Z||D<Z}for(A=0;A<d&&(F()||(this.updateRangeFromParsed(v,e,P,g),!l));++A);if(l)for(A=d-1;A>=0;--A)if(!F()){this.updateRangeFromParsed(v,e,P,g);break}return v}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let o,l,d;for(o=0,l=i.length;o<l;++o)d=i[o][e.axis],cr(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,o=i.vScale,l=this.getParsed(e);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function hU(n){let t,e,i,r;return Sn(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(an(this.options.clip,function dU(n,t,e){if(!1===e)return!1;const i=yO(n,e),r=yO(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,o=r.data||[],l=this.chart.chartArea,d=[],f=this._drawStart||0,g=this._drawCount||o.length-f,v=this.options.drawActiveElementsOnTop;let w;for(r.dataset&&r.dataset.draw(e,l,f,g),w=f;w<f+g;++w){const D=o[w];D.hidden||(D.active&&v?d.push(D):D.draw(e,l))}for(w=0;w<d.length;++w)d[w].draw(e,l)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const o=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];l=d.$context||(d.$context=function yU(n,t,e){return oh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,d)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=function _U(n,t){return oh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!i,l.mode=r,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const o="active"===i,l=this._cachedDataOpts,d=e+"-"+i,f=l[d],g=this.enableOptionSharing&&Sa(r);if(f)return TO(f,g);const v=this.chart.config,w=v.datasetElementScopeKeys(this._type,e),D=o?[`${e}Hover`,"hover",e,""]:[e,""],A=v.getOptionScopes(this.getDataset(),w),P=Object.keys(Mn.elements[e]),Z=v.resolveNamedOptions(A,P,()=>this.getContext(r,o),D);return Z.$shared&&(Z.$shared=g,l[d]=Object.freeze(TO(Z,g))),Z}_resolveAnimations(e,i,r){const o=this.chart,l=this._cachedDataOpts,d=`animation-${i}`,f=l[d];if(f)return f;let g;if(!1!==o.options.animation){const w=this.chart.config,D=w.datasetAnimationScopeKeys(this._type,i),A=w.getOptionScopes(this.getDataset(),D);g=w.createResolver(A,this.getContext(e,r,i))}const v=new _O(o,g&&g.animations);return g&&g._cacheable&&(l[d]=Object.freeze(v)),v}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||ox(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,l=this.getSharedOptions(r),d=this.includeOptions(i,l)||l!==o;return this.updateSharedOptions(l,i,r),{sharedOptions:l,includeOptions:d}}updateElement(e,i,r,o){ox(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!ox(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;const l=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[f,g,v]of this._syncList)this[f](g,v);this._syncList=[];const o=r.length,l=i.length,d=Math.min(l,o);d&&this.parse(0,d),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,i,r=!0){const o=this._cachedMeta,l=o.data,d=e+i;let f;const g=v=>{for(v.length+=i,f=v.length-1;f>=d;f--)v[f]=v[f-i]};for(g(l),f=e;f<d;++f)l[f]=new this.dataElementType;this._parsing&&g(o._parsed),this.parse(e,i),r&&this.updateElements(l,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,i);r._stacked&&sb(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function wU(n){const t=n.iScale,e=function bU(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Mk(i.sort((r,o)=>r-o))}return n._cache.$bar}(t,n.type);let r,o,l,d,i=t._length;const f=()=>{32767===l||-32768===l||(Sa(d)&&(i=Math.min(i,Math.abs(l-d)||i)),d=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),f();for(d=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),f();return i}function SO(n,t,e,i){return _i(n)?function TU(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),d=Math.max(r,o);let f=l,g=d;Math.abs(l)>Math.abs(d)&&(f=d,g=l),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:l,max:d}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function IO(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),d=r===o,f=[];let g,v,w,D;for(g=e,v=e+i;g<v;++g)D=t[g],w={},w[r.axis]=d||r.parse(l[g],g),f.push(SO(D,w,o,g));return f}function ax(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function DU(n,t,e,i){let r=t.borderSkipped;const o={};if(!r)return void(n.borderSkipped=o);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:l,end:d,reverse:f,top:g,bottom:v}=function IU(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=v:(o[DO(v,l,d,f)]=!0,r=g)),o[DO(r,l,d,f)]=!0,n.borderSkipped=o}function DO(n,t,e,i){return i?(n=function AU(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=AO(n,e,t)):n=AO(n,t,e),n}function AO(n,t,e){return"start"===n?t:"end"===n?e:n}function xU(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}cc.prototype.datasetElementType=null,cc.prototype.dataElementType=null;let MU=(()=>{class n extends cc{parsePrimitiveData(e,i,r,o){return IO(e,i,r,o)}parseArrayData(e,i,r,o){return IO(e,i,r,o)}parseObjectData(e,i,r,o){const{iScale:l,vScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,v="x"===l.axis?f:g,w="x"===d.axis?f:g,D=[];let A,P,F,Z;for(A=r,P=r+o;A<P;++A)Z=i[A],F={},F[l.axis]=l.parse(nh(Z,v),A),D.push(SO(nh(Z,w),F,d,A));return D}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);const l=r._custom;l&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:o}=i,l=this.getParsed(e),d=l._custom,f=ax(d)?"["+d.start+", "+d.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+r.getLabelForValue(l[r.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){const l="reset"===o,{index:d,_cachedMeta:{vScale:f}}=this,g=f.getBasePixel(),v=f.isHorizontal(),w=this._getRuler(),{sharedOptions:D,includeOptions:A}=this._getSharedOptions(i,o);for(let P=i;P<i+r;P++){const F=this.getParsed(P),Z=l||Fn(F[f.axis])?{base:g,head:g}:this._calculateBarValuePixels(P),Y=this._calculateBarIndexPixels(P,w),se=(F._stacks||{})[f.axis],xe={horizontal:v,base:Z.base,enableBorderRadius:!se||ax(F._custom)||d===se._top||d===se._bottom,x:v?Z.head:Y.center,y:v?Y.center:Z.head,height:v?Y.size:Math.abs(Z.size),width:v?Math.abs(Z.size):Y.size};A&&(xe.options=D||this.resolveDataElementOptions(P,e[P].active?"active":o));const be=xe.options||e[P].options;DU(xe,be,se,d),xU(xe,be,w.ratio),this.updateElement(e[P],P,xe,o)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),l=r.options.stacked,d=[],f=g=>{const v=g.controller.getParsed(i),w=v&&v[g.vScale.axis];if(Fn(w)||isNaN(w))return!0};for(const g of o)if((void 0===i||!f(g))&&((!1===l||-1===d.indexOf(g.stack)||void 0===l&&void 0===g.stack)&&d.push(g.stack),g.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const o=this._getStacks(e,r),l=void 0!==i?o.indexOf(i):-1;return-1===l?o.length-1:l}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,o=[];let l,d;for(l=0,d=i.data.length;l<d;++l)o.push(r.getPixelForValue(this.getParsed(l)[r.axis],l));const f=e.barThickness;return{min:f||wU(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:o,minBarLength:l}}=this,d=o||0,f=this.getParsed(e),g=f._custom,v=ax(g);let P,F,w=f[i.axis],D=0,A=r?this.applyStack(i,f,r):w;A!==w&&(D=A-w,A=w),v&&(w=g.barStart,A=g.barEnd-g.barStart,0!==w&&lc(w)!==lc(g.barEnd)&&(D=0),D+=w);const Z=Fn(o)||v?D:o;let Y=i.getPixelForValue(Z);if(P=this.chart.getDataVisibility(e)?i.getPixelForValue(D+A):Y,F=P-Y,Math.abs(F)<l){F=function SU(n,t,e){return 0!==n?lc(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(F,i,d)*l,w===d&&(Y-=F/2);const se=i.getPixelForDecimal(0),xe=i.getPixelForDecimal(1),be=Math.min(se,xe),Se=Math.max(se,xe);Y=Math.max(Math.min(Y,Se),be),P=Y+F}if(Y===i.getPixelForValue(d)){const se=lc(F)*i.getLineWidthForValue(d)/2;Y+=se,F-=se}return{size:F,base:Y,head:P,center:P+F/2}}_calculateBarIndexPixels(e,i){const r=i.scale,o=this.options,l=o.skipNull,d=an(o.maxBarThickness,1/0);let f,g;if(i.grouped){const v=l?this._getStackCount(e):i.stackCount,w="flex"===o.barThickness?function EU(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;null===l&&(l=o-(null===d?t.end-t.start:d-o)),null===d&&(d=o+o-l);const g=o-(o-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/i,ratio:e.barPercentage,start:g}}(e,i,o,v):function CU(n,t,e,i){const r=e.barThickness;let o,l;return Fn(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}(e,i,o,v),D=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);f=w.start+w.chunk*D+w.chunk/2,g=Math.min(d,w.chunk*w.ratio)}else f=r.getPixelForValue(this.getParsed(e)[r.axis],e),g=Math.min(d,i.min*i.ratio);return{base:f-g/2,head:f+g/2,center:f,size:g}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length;let l=0;for(;l<o;++l)null!==this.getParsed(l)[i.axis]&&r[l].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),PU=(()=>{class n extends cc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){const l=super.parsePrimitiveData(e,i,r,o);for(let d=0;d<l.length;d++)l[d]._custom=this.resolveDataElementOptions(d+r).radius;return l}parseArrayData(e,i,r,o){const l=super.parseArrayData(e,i,r,o);for(let d=0;d<l.length;d++)l[d]._custom=an(i[r+d][2],this.resolveDataElementOptions(d+r).radius);return l}parseObjectData(e,i,r,o){const l=super.parseObjectData(e,i,r,o);for(let d=0;d<l.length;d++){const f=i[r+d];l[d]._custom=an(f&&f.r&&+f.r,this.resolveDataElementOptions(d+r).radius)}return l}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:r,yScale:o}=i,l=this.getParsed(e),d=r.getLabelForValue(l.x),f=o.getLabelForValue(l.y),g=l._custom;return{label:i.label,value:"("+d+", "+f+(g?", "+g:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){const l="reset"===o,{iScale:d,vScale:f}=this._cachedMeta,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(i,o),w=d.axis,D=f.axis;for(let A=i;A<i+r;A++){const P=e[A],F=!l&&this.getParsed(A),Z={},Y=Z[w]=l?d.getPixelForDecimal(.5):d.getPixelForValue(F[w]),se=Z[D]=l?f.getBasePixel():f.getPixelForValue(F[D]);Z.skip=isNaN(Y)||isNaN(se),v&&(Z.options=g||this.resolveDataElementOptions(A,P.active?"active":o),l&&(Z.options.radius=0)),this.updateElement(P,A,Z,o)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const l=o.radius;return"active"!==i&&(o.radius=0),o.radius+=an(r&&r._custom,l),o}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),xO=(()=>{class n extends cc{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,o=this._cachedMeta;if(!1===this._parsing)o._parsed=r;else{let d,f,l=g=>+r[g];if(Sn(r[e])){const{key:g="value"}=this._parsing;l=v=>+nh(r[v],g)}for(d=e,f=e+i;d<f;++d)o._parsed[d]=l(d)}}_getRotation(){return cl(this.options.rotation-90)}_getCircumference(){return cl(this.options.circumference)}_getRotationExtents(){let e=si,i=-si;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const o=this.chart.getDatasetMeta(r).controller,l=o._getRotation(),d=o._getCircumference();e=Math.min(e,l),i=Math.max(i,l+d)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,o=this._cachedMeta,l=o.data,d=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,f=Math.max((Math.min(r.width,r.height)-d)/2,0),g=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,f),1),v=this._getRingWeight(this.index),{circumference:w,rotation:D}=this._getRotationExtents(),{ratioX:A,ratioY:P,offsetX:F,offsetY:Z}=function kU(n,t,e){let i=1,r=1,o=0,l=0;if(t<si){const d=n,f=d+t,g=Math.cos(d),v=Math.sin(d),w=Math.cos(f),D=Math.sin(f),A=(xe,be,Se)=>Yv(xe,d,f,!0)?1:Math.max(be,be*e,Se,Se*e),P=(xe,be,Se)=>Yv(xe,d,f,!0)?-1:Math.min(be,be*e,Se,Se*e),F=A(0,g,w),Z=A(Xi,v,D),Y=P(Ri,g,w),se=P(Ri+Xi,v,D);i=(F-Y)/2,r=(Z-se)/2,o=-(F+Y)/2,l=-(Z+se)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}(D,w,g),xe=Math.max(Math.min((r.width-d)/A,(r.height-d)/P)/2,0),be=vk(this.options.radius,xe),Ge=(be-Math.max(be*g,0))/this._getVisibleDatasetWeightTotal();this.offsetX=F*be,this.offsetY=Z*be,o.total=this.calculateTotal(),this.outerRadius=be-Ge*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Ge*v,0),this.updateElements(l,0,l.length,e)}_circumference(e,i){const r=this.options,o=this._cachedMeta,l=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===o._parsed[e]||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*l/si)}updateElements(e,i,r,o){const l="reset"===o,d=this.chart,f=d.chartArea,w=(f.left+f.right)/2,D=(f.top+f.bottom)/2,A=l&&d.options.animation.animateScale,P=A?0:this.innerRadius,F=A?0:this.outerRadius,{sharedOptions:Z,includeOptions:Y}=this._getSharedOptions(i,o);let xe,se=this._getRotation();for(xe=0;xe<i;++xe)se+=this._circumference(xe,l);for(xe=i;xe<i+r;++xe){const be=this._circumference(xe,l),Se=e[xe],Ge={x:w+this.offsetX,y:D+this.offsetY,startAngle:se,endAngle:se+be,circumference:be,outerRadius:F,innerRadius:P};Y&&(Ge.options=Z||this.resolveDataElementOptions(xe,Se.active?"active":o)),se+=be,this.updateElement(Se,xe,Ge,o)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let o,r=0;for(o=0;o<i.length;o++){const l=e._parsed[o];null!==l&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(l))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?si*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],l=rb(this._cachedMeta._parsed[e],r.options.locale);return{label:o[e]||"",value:l}}getMaxBorderWidth(e){let i=0;const r=this.chart;let o,l,d,f,g;if(!e)for(o=0,l=r.data.datasets.length;o<l;++o)if(r.isDatasetVisible(o)){d=r.getDatasetMeta(o),e=d.data,f=d.controller;break}if(!e)return 0;for(o=0,l=e.length;o<l;++o)g=f.resolveDataElementOptions(o),"inner"!==g.borderAlign&&(i=Math.max(i,g.borderWidth||0,g.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){const l=this.resolveDataElementOptions(r);i=Math.max(i,l.offset||0,l.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(an(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,o)=>{const d=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return _i(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),OU=(()=>{class n extends cc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:o=[],_dataset:l}=i,d=this.chart._animationsDisabled;let{start:f,count:g}=Ok(i,o,d);this._drawStart=f,this._drawCount=g,Rk(i)&&(f=0,g=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=o;const v=this.resolveDatasetElementOptions(e);this.options.showLine||(v.borderWidth=0),v.segment=this.options.segment,this.updateElement(r,void 0,{animated:!d,options:v},e),this.updateElements(o,f,g,e)}updateElements(e,i,r,o){const l="reset"===o,{iScale:d,vScale:f,_stacked:g,_dataset:v}=this._cachedMeta,{sharedOptions:w,includeOptions:D}=this._getSharedOptions(i,o),A=d.axis,P=f.axis,{spanGaps:F,segment:Z}=this.options,Y=Sm(F)?F:Number.POSITIVE_INFINITY,se=this.chart._animationsDisabled||l||"none"===o;let xe=i>0&&this.getParsed(i-1);for(let be=i;be<i+r;++be){const Se=e[be],Ge=this.getParsed(be),Ke=se?Se:{},ut=Fn(Ge[P]),mt=Ke[A]=d.getPixelForValue(Ge[A],be),$t=Ke[P]=l||ut?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,Ge,g):Ge[P],be);Ke.skip=isNaN(mt)||isNaN($t)||ut,Ke.stop=be>0&&Math.abs(Ge[A]-xe[A])>Y,Z&&(Ke.parsed=Ge,Ke.raw=v.data[be]),D&&(Ke.options=w||this.resolveDataElementOptions(be,Se.active?"active":o)),se||this.updateElement(Se,be,Ke,o),xe=Ge}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const l=o[0].size(this.resolveDataElementOptions(0)),d=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,l,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),RU=(()=>{class n extends cc{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,o=r.data.labels||[],l=rb(this._cachedMeta._parsed[e].r,r.options.locale);return{label:o[e]||"",value:l}}parseObjectData(e,i,r,o){return nO.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,o)=>{const l=this.getParsed(o).r;!isNaN(l)&&this.chart.getDataVisibility(o)&&(l<i.min&&(i.min=l),l>i.max&&(i.max=l))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),l=Math.max(o/2,0),f=(l-Math.max(r.cutoutPercentage?l/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=l-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(e,i,r,o){const l="reset"===o,d=this.chart,g=d.options.animation,v=this._cachedMeta.rScale,w=v.xCenter,D=v.yCenter,A=v.getIndexAngle(0)-.5*Ri;let F,P=A;const Z=360/this.countVisibleElements();for(F=0;F<i;++F)P+=this._computeAngle(F,o,Z);for(F=i;F<i+r;F++){const Y=e[F];let se=P,xe=P+this._computeAngle(F,o,Z),be=d.getDataVisibility(F)?v.getDistanceFromCenterForValue(this.getParsed(F).r):0;P=xe,l&&(g.animateScale&&(be=0),g.animateRotate&&(se=xe=A));const Se={x:w,y:D,innerRadius:0,outerRadius:be,startAngle:se,endAngle:xe,options:this.resolveDataElementOptions(F,Y.active?"active":o)};this.updateElement(Y,F,Se,o)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?cl(this.resolveDataElementOptions(e,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,o)=>{const d=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),NU=(()=>{class n extends xO{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),LU=(()=>{class n extends cc{getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return nO.bind(this)(e,i,r,o)}update(e){const i=this._cachedMeta,r=i.dataset,o=i.data||[],l=i.iScale.getLabels();if(r.points=o,"resize"!==e){const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:l.length===o.length,options:d},e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){const l=this._cachedMeta.rScale,d="reset"===o;for(let f=i;f<i+r;f++){const g=e[f],v=this.resolveDataElementOptions(f,g.active?"active":o),w=l.getPointPositionForValue(f,this.getParsed(f).r),D=d?l.xCenter:w.x,A=d?l.yCenter:w.y,P={x:D,y:A,angle:w.angle,skip:isNaN(D)||isNaN(A),options:v};this.updateElement(g,f,P,o)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class ul{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Sm(this.x)&&Sm(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}ul.defaults={},ul.defaultRoutes=void 0;const MO={values:n=>_i(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=function FU(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const l=Ia(Math.abs(o)),d=Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),rb(n,i,f)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(Ia(n)));return 1===i||2===i||5===i?MO.numeric.call(this,n,t,e):""}};var jE={formatters:MO};function $E(n,t,e,i,r){const o=an(i,0),l=Math.min(an(r,n.length),n.length);let f,g,v,d=0;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),v=o;v<0;)d++,v=Math.round(o+d*e);for(g=Math.max(o,0);g<l;g++)g===v&&(t.push(n[g]),d++,v=Math.round(o+d*e))}Mn.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Mn.route("scale.ticks","color","","color"),Mn.route("scale.grid","color","","borderColor"),Mn.route("scale.grid","borderColor","","borderColor"),Mn.route("scale.title","color","","color"),Mn.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Mn.describe("scales",{_fallback:"scale"}),Mn.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const PO=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function kO(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function WU(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,d=1e-6;let g,f=n.getPixelForTick(r);if(!(e&&(g=1===i?Math.max(f-o,l-f):0===t?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-d||f>l+d)))return f}function ob(n){return n.drawTicks?n.tickLength:0}function OO(n,t){if(!n.display)return 0;const e=Ir(n.font,t),i=gs(n.padding);return(_i(n.text)?n.text.length:1)*e.lineHeight+i.height}function KU(n,t,e){let i=$A(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class rp extends ul{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Ta(t,Number.POSITIVE_INFINITY),e=Ta(e,Number.NEGATIVE_INFINITY),i=Ta(i,Number.POSITIVE_INFINITY),r=Ta(r,Number.NEGATIVE_INFINITY),{min:Ta(t,i),max:Ta(e,r),minDefined:cr(t),maxDefined:cr(e)}}getMinMax(t){let l,{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let f=0,g=d.length;f<g;++f)l=d[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Ta(e,Ta(i,e)),max:Ta(i,Ta(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yi(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function C2(n,t,e){const{min:i,max:r}=n,o=vk(t,(r-i)/2),l=(d,f)=>e&&0===d?0:d+f;return{min:l(i,-Math.abs(o)),max:l(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?kO(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=function UU(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function VU(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function HU(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],o=r.length,l=r[0],d=r[o-1],f=[];if(o>i)return function jU(n,t,e,i){let l,r=0,o=e[0];for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}(t,f,r,o/i),f;const g=function BU(n,t,e){const i=function $U(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const o=function RF(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}(i);for(let l=0,d=o.length-1;l<d;l++){const f=o[l];if(f>r)return f}return Math.max(r,1)}(r,t,i);if(o>0){let v,w;const D=o>1?Math.round((d-l)/(o-1)):null;for($E(t,f,g,Fn(D)?0:l-D,l),v=0,w=o-1;v<w;v++)$E(t,f,g,r[v],r[v+1]);return $E(t,f,g,d,Fn(D)?t.length:d+D),f}return $E(t,f,g),f}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yi(this.options.afterUpdate,[this])}beforeSetDimensions(){yi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yi(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),yi(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=yi(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){yi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,o=e.maxRotation;let d,f,g,l=r;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const v=this._getLabelSizes(),w=v.widest.width,D=v.highest.height,A=Br(this.chart.width-w,0,this.maxWidth);d=t.offset?this.maxWidth/i:A/(i-1),w+6>d&&(d=A/(i-(t.offset?.5:1)),f=this.maxHeight-ob(t.grid)-e.padding-OO(t.title,this.chart.options.font),g=Math.sqrt(w*w+D*D),l=BA(Math.min(Math.asin(Br((v.highest.height+6)/d,-1,1)),Math.asin(Br(f/g,-1,1))-Math.asin(Br(D/g,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){yi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yi(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=OO(r,e.options.font);if(d?(t.width=this.maxWidth,t.height=ob(o)+f):(t.height=this.maxHeight,t.width=ob(o)+f),i.display&&this.ticks.length){const{first:g,last:v,widest:w,highest:D}=this._getLabelSizes(),A=2*i.padding,P=cl(this.labelRotation),F=Math.cos(P),Z=Math.sin(P);d?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:Z*w.width+F*D.height)+A):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:F*w.width+Z*D.height)+A),this._calculatePadding(g,v,Z,F)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:d}=this.options,f=0!==this.labelRotation,g="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,A=0;f?g?(D=r*t.width,A=i*e.height):(D=i*t.height,A=r*e.width):"start"===o?A=e.width:"end"===o?D=t.width:"inner"!==o&&(D=t.width/2,A=e.width/2),this.paddingLeft=Math.max((D-v+l)*this.width/(this.width-v),0),this.paddingRight=Math.max((A-w+l)*this.width/(this.width-w),0)}else{let v=e.height/2,w=t.height/2;"start"===o?(v=0,w=t.height):"end"===o&&(v=e.height,w=0),this.paddingTop=v+l,this.paddingBottom=w+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yi(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Fn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=kO(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,o=[],l=[];let g,v,w,D,A,P,F,Z,Y,se,xe,d=0,f=0;for(g=0;g<e;++g){if(D=t[g].label,A=this._resolveTickFontOptions(g),i.font=P=A.string,F=r[P]=r[P]||{data:{},gc:[]},Z=A.lineHeight,Y=se=0,Fn(D)||_i(D)){if(_i(D))for(v=0,w=D.length;v<w;++v)xe=D[v],!Fn(xe)&&!_i(xe)&&(Y=LE(i,F.data,F.gc,Y,xe),se+=Z)}else Y=LE(i,F.data,F.gc,Y,D),se=Z;o.push(Y),l.push(se),d=Math.max(Y,d),f=Math.max(se,f)}!function ZU(n,t){ti(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}(r,e);const be=o.indexOf(d),Se=l.indexOf(f),Ge=Ke=>({width:o[Ke]||0,height:l[Ke]||0});return{first:Ge(0),last:Ge(e-1),widest:Ge(be),highest:Ge(Se),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function FF(n){return Br(n,-32768,32767)}(this._alignToPixels?Jf(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function qU(n,t,e){return oh(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function GU(n,t){return oh(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=cl(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>d*r?d/i:f/r:f*r<d*i?f/i:d/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l}=r,d=o.offset,f=this.isHorizontal(),v=this.ticks.length+(d?1:0),w=ob(o),D=[],A=o.setContext(this.getContext()),P=A.drawBorder?A.borderWidth:0,F=P/2,Z=function(qt){return Jf(i,qt,P)};let Y,se,xe,be,Se,Ge,Ke,ut,mt,$t,yn,ln;if("top"===l)Y=Z(this.bottom),Ge=this.bottom-w,ut=Y-F,$t=Z(t.top)+F,ln=t.bottom;else if("bottom"===l)Y=Z(this.top),$t=t.top,ln=Z(t.bottom)-F,Ge=Y+F,ut=this.top+w;else if("left"===l)Y=Z(this.right),Se=this.right-w,Ke=Y-F,mt=Z(t.left)+F,yn=t.right;else if("right"===l)Y=Z(this.left),mt=t.left,yn=Z(t.right)-F,Se=Y+F,Ke=this.left+w;else if("x"===e){if("center"===l)Y=Z((t.top+t.bottom)/2+.5);else if(Sn(l)){const qt=Object.keys(l)[0];Y=Z(this.chart.scales[qt].getPixelForValue(l[qt]))}$t=t.top,ln=t.bottom,Ge=Y+F,ut=Ge+w}else if("y"===e){if("center"===l)Y=Z((t.left+t.right)/2);else if(Sn(l)){const qt=Object.keys(l)[0];Y=Z(this.chart.scales[qt].getPixelForValue(l[qt]))}Se=Y-F,Ke=Se-w,mt=t.left,yn=t.right}const vi=an(r.ticks.maxTicksLimit,v),er=Math.max(1,Math.ceil(v/vi));for(se=0;se<v;se+=er){const qt=o.setContext(this.getContext(se)),it=qt.lineWidth,ct=qt.color,It=qt.borderDash||[],cn=qt.borderDashOffset,ni=qt.tickWidth,Ms=qt.tickColor,_r=qt.tickBorderDash||[],Ys=qt.tickBorderDashOffset;xe=WU(this,se,d),void 0!==xe&&(be=Jf(i,xe,it),f?Se=Ke=mt=yn=be:Ge=ut=$t=ln=be,D.push({tx1:Se,ty1:Ge,tx2:Ke,ty2:ut,x1:mt,y1:$t,x2:yn,y2:ln,width:it,color:ct,borderDash:It,borderDashOffset:cn,tickWidth:ni,tickColor:Ms,tickBorderDash:_r,tickBorderDashOffset:Ys}))}return this._ticksLength=v,this._borderValue=Y,D}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:g,padding:v,mirror:w}=o,D=ob(i.grid),A=D+v,P=w?-v:A,F=-cl(this.labelRotation),Z=[];let Y,se,xe,be,Se,Ge,Ke,ut,mt,$t,yn,ln,vi="middle";if("top"===r)Ge=this.bottom-P,Ke=this._getXAxisLabelAlignment();else if("bottom"===r)Ge=this.top+P,Ke=this._getXAxisLabelAlignment();else if("left"===r){const qt=this._getYAxisLabelAlignment(D);Ke=qt.textAlign,Se=qt.x}else if("right"===r){const qt=this._getYAxisLabelAlignment(D);Ke=qt.textAlign,Se=qt.x}else if("x"===e){if("center"===r)Ge=(t.top+t.bottom)/2+A;else if(Sn(r)){const qt=Object.keys(r)[0];Ge=this.chart.scales[qt].getPixelForValue(r[qt])+A}Ke=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)Se=(t.left+t.right)/2-A;else if(Sn(r)){const qt=Object.keys(r)[0];Se=this.chart.scales[qt].getPixelForValue(r[qt])}Ke=this._getYAxisLabelAlignment(D).textAlign}"y"===e&&("start"===f?vi="top":"end"===f&&(vi="bottom"));const er=this._getLabelSizes();for(Y=0,se=d.length;Y<se;++Y){xe=d[Y],be=xe.label;const qt=o.setContext(this.getContext(Y));ut=this.getPixelForTick(Y)+o.labelOffset,mt=this._resolveTickFontOptions(Y),$t=mt.lineHeight,yn=_i(be)?be.length:1;const it=yn/2,ct=qt.color,It=qt.textStrokeColor,cn=qt.textStrokeWidth;let Ms,ni=Ke;if(l?(Se=ut,"inner"===Ke&&(ni=Y===se-1?this.options.reverse?"left":"right":0===Y?this.options.reverse?"right":"left":"center"),ln="top"===r?"near"===g||0!==F?-yn*$t+$t/2:"center"===g?-er.highest.height/2-it*$t+$t:$t/2-er.highest.height:"near"===g||0!==F?$t/2:"center"===g?er.highest.height/2-it*$t:er.highest.height-yn*$t,w&&(ln*=-1)):(Ge=ut,ln=(1-yn)*$t/2),qt.showLabelBackdrop){const _r=gs(qt.backdropPadding),Ys=er.heights[Y],fi=er.widths[Y];let Pm=Ge+ln-_r.top,yb=Se-_r.left;switch(vi){case"middle":Pm-=Ys/2;break;case"bottom":Pm-=Ys}switch(Ke){case"center":yb-=fi/2;break;case"right":yb-=fi}Ms={left:yb,top:Pm,width:fi+_r.width,height:Ys+_r.height,color:qt.backdropColor}}Z.push({rotation:F,label:be,font:mt,color:ct,strokeColor:It,strokeWidth:cn,textOffset:ln,textAlign:ni,textBaseline:vi,translation:[Se,Ge],backdrop:Ms})}return Z}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-cl(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,d=t+o,f=this._getLabelSizes().widest.width;let g,v;return"left"===e?r?(v=this.right+o,"near"===i?g="left":"center"===i?(g="center",v+=f/2):(g="right",v+=f)):(v=this.right-d,"near"===i?g="right":"center"===i?(g="center",v-=f/2):(g="left",v=this.left)):"right"===e?r?(v=this.left+o,"near"===i?g="right":"center"===i?(g="center",v-=f/2):(g="left",v-=f)):(v=this.left+d,"near"===i?g="left":"center"===i?(g="center",v+=f/2):(g="right",v=this.right)):g="right",{textAlign:g,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const d=(f,g,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const f=r[o];e.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),o=i.drawBorder?r.borderWidth:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,g,v,w;this.isHorizontal()?(f=Jf(t,this.left,o)-o/2,g=Jf(t,this.right,l)+l/2,v=w=d):(v=Jf(t,this.top,o)-o/2,w=Jf(t,this.bottom,l)+l/2,f=g=d),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(f,v),e.lineTo(g,w),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&FE(i,r);const o=this._labelItems||(this._labelItems=this._computeLabelItems(t));let l,d;for(l=0,d=o.length;l<d;++l){const f=o[l],g=f.font,v=f.label;f.backdrop&&(i.fillStyle=f.backdrop.color,i.fillRect(f.backdrop.left,f.backdrop.top,f.backdrop.width,f.backdrop.height)),Xf(i,v,0,f.textOffset,g,f)}r&&UE(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Ir(i.font),l=gs(i.padding),d=i.align;let f=o.lineHeight/2;"bottom"===e||"center"===e||Sn(e)?(f+=l.bottom,_i(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:g,titleY:v,maxWidth:w,rotation:D}=function YU(n,t,e,i){const{top:r,left:o,bottom:l,right:d,chart:f}=n,{chartArea:g,scales:v}=f;let D,A,P,w=0;const F=l-r,Z=d-o;if(n.isHorizontal()){if(A=ps(i,o,d),Sn(e)){const Y=Object.keys(e)[0];P=v[Y].getPixelForValue(e[Y])+F-t}else P="center"===e?(g.bottom+g.top)/2+F-t:PO(n,e,t);D=d-o}else{if(Sn(e)){const Y=Object.keys(e)[0];A=v[Y].getPixelForValue(e[Y])-Z+t}else A="center"===e?(g.left+g.right)/2-Z+t:PO(n,e,t);P=ps(i,l,r),w="left"===e?-Xi:Xi}return{titleX:A,titleY:P,maxWidth:D,rotation:w}}(this,f,e,d);Xf(t,i.text,0,0,o,{color:i.color,maxWidth:w,rotation:D,textAlign:KU(d,e,r),textBaseline:"middle",translation:[g,v]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=an(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===rp.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const d=e[o];d[i]===this.id&&(!t||d.type===t)&&r.push(d)}return r}_resolveTickFontOptions(t){return Ir(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class zE{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function XU(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,function QU(n,t,e){const i=Zv(Object.create(null),[e?Mn.get(e):{},Mn.get(t),n.defaults]);Mn.set(t,i),n.defaultRoutes&&function JU(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),d=l.pop(),f=l.join(".");Mn.route(o,r,f,d)})}(t,n.defaultRoutes),n.descriptors&&Mn.describe(t,n.descriptors)}(t,l,i),this.override&&Mn.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Mn[r]&&(delete Mn[r][i],this.override&&delete Qf[i])}}var uc=new class eV{constructor(){this.controllers=new zE(cc,"datasets",!0),this.elements=new zE(ul,"elements"),this.plugins=new zE(Object,"plugins"),this.scales=new zE(rp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ti(r,l=>{const d=i||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,e,i){const r=VA(t);yi(i["before"+r],[],i),e[t](i),yi(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}},tV=Object.freeze({__proto__:null,BarController:MU,BubbleController:PU,DoughnutController:xO,LineController:OU,PolarAreaController:RU,PieController:NU,RadarController:LU,ScatterController:(()=>{class n extends cc{update(e){const i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled;let{start:l,count:d}=Ok(i,r,o);if(this._drawStart=l,this._drawCount=d,Rk(i)&&(l=0,d=r.length),this.options.showLine){const{dataset:f,_dataset:g}=i;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!g._decimated,f.points=r;const v=this.resolveDatasetElementOptions(e);v.segment=this.options.segment,this.updateElement(f,void 0,{animated:!o,options:v},e)}this.updateElements(r,l,d,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=uc.getElement("line")),super.addElements()}updateElements(e,i,r,o){const l="reset"===o,{iScale:d,vScale:f,_stacked:g,_dataset:v}=this._cachedMeta,w=this.resolveDataElementOptions(i,o),D=this.getSharedOptions(w),A=this.includeOptions(o,D),P=d.axis,F=f.axis,{spanGaps:Z,segment:Y}=this.options,se=Sm(Z)?Z:Number.POSITIVE_INFINITY,xe=this.chart._animationsDisabled||l||"none"===o;let be=i>0&&this.getParsed(i-1);for(let Se=i;Se<i+r;++Se){const Ge=e[Se],Ke=this.getParsed(Se),ut=xe?Ge:{},mt=Fn(Ke[F]),$t=ut[P]=d.getPixelForValue(Ke[P],Se),yn=ut[F]=l||mt?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,Ke,g):Ke[F],Se);ut.skip=isNaN($t)||isNaN(yn)||mt,ut.stop=Se>0&&Math.abs(Ke[P]-be[P])>se,Y&&(ut.parsed=Ke,ut.raw=v.data[Se]),A&&(ut.options=D||this.resolveDataElementOptions(Se,Ge.active?"active":o)),xe||this.updateElement(Ge,Se,ut,o),be=Ke}this.updateSharedOptions(D,o,w)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let f=0;for(let g=i.length-1;g>=0;--g)f=Math.max(f,i[g].size(this.resolveDataElementOptions(g))/2);return f>0&&f}const r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;const l=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,l,d)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function sp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var nV={_date:(()=>{class n{constructor(e){this.options=e||{}}init(e){}formats(){return sp()}parse(e,i){return sp()}format(e,i){return sp()}add(e,i,r){return sp()}diff(e,i,r){return sp()}startOf(e,i,r){return sp()}endOf(e,i){return sp()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function iV(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,d=r._cachedMeta.iScale;if(d&&t===d.axis&&"r"!==t&&l&&o.length){const f=d._reversePixels?UF:vu;if(!i)return f(o,t,e);if(r._sharedOptions){const g=o[0],v="function"==typeof g.getRange&&g.getRange(t);if(v){const w=f(o,t,e-v),D=f(o,t,e+v);return{lo:w.lo,hi:D.hi}}}}return{lo:0,hi:o.length-1}}function ab(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let d=0,f=o.length;d<f;++d){const{index:g,data:v}=o[d],{lo:w,hi:D}=iV(o[d],t,l,r);for(let A=w;A<=D;++A){const P=v[A];P.skip||i(P,g,A)}}}function lx(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||ab(n,e,t,function(d,f,g){!r&&!tb(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&o.push({element:d,datasetIndex:f,index:g})},!0),o}function cx(n,t,e,i,r,o){return o||n.isPointInArea(t)?"r"!==e||i?function oV(n,t,e,i,r,o){let l=[];const d=function rV(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}(e);let f=Number.POSITIVE_INFINITY;return ab(n,e,t,function g(v,w,D){const A=v.inRange(t.x,t.y,r);if(i&&!A)return;const P=v.getCenterPoint(r);if(!o&&!n.isPointInArea(P)&&!A)return;const Z=d(t,P);Z<f?(l=[{element:v,datasetIndex:w,index:D}],f=Z):Z===f&&l.push({element:v,datasetIndex:w,index:D})}),l}(n,t,e,i,r,o):function sV(n,t,e,i){let r=[];return ab(n,e,t,function o(l,d,f){const{startAngle:g,endAngle:v}=l.getProps(["startAngle","endAngle"],i),{angle:w}=Dk(l,{x:t.x,y:t.y});Yv(w,g,v)&&r.push({element:l,datasetIndex:d,index:f})}),r}(n,t,e,r):[]}function RO(n,t,e,i,r){const o=[],l="x"===e?"inXRange":"inYRange";let d=!1;return ab(n,e,t,(f,g,v)=>{f[l](t[e],r)&&(o.push({element:f,datasetIndex:g,index:v}),d=d||f.inRange(t.x,t.y,r))}),i&&!d?[]:o}var aV={evaluateInteractionItems:ab,modes:{index(n,t,e,i){const r=np(t,n),o=e.axis||"x",l=e.includeInvisible||!1,d=e.intersect?lx(n,r,o,i,l):cx(n,r,o,!1,i,l),f=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const v=d[0].index,w=g.data[v];w&&!w.skip&&f.push({element:w,datasetIndex:g.index,index:v})}),f):[]},dataset(n,t,e,i){const r=np(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let d=e.intersect?lx(n,r,o,i,l):cx(n,r,o,!1,i,l);if(d.length>0){const f=d[0].datasetIndex,g=n.getDatasetMeta(f).data;d=[];for(let v=0;v<g.length;++v)d.push({element:g[v],datasetIndex:f,index:v})}return d},point:(n,t,e,i)=>lx(n,np(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>cx(n,np(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>RO(n,np(t,n),"x",e.intersect,i),y:(n,t,e,i)=>RO(n,np(t,n),"y",e.intersect,i)}};const NO=["left","top","right","bottom"];function lb(n,t){return n.filter(e=>e.pos===t)}function LO(n,t){return n.filter(e=>-1===NO.indexOf(e.pos)&&e.box.axis===t)}function cb(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function FO(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function UO(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function hV(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Sn(r)){e.size&&(n[r]-=e.size);const w=i[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?o.height:o.width),e.size=w.size/w.count,n[r]+=e.size}o.getPadding&&UO(l,o.getPadding());const d=Math.max(0,t.outerWidth-FO(l,n,"left","right")),f=Math.max(0,t.outerHeight-FO(l,n,"top","bottom")),g=d!==n.w,v=f!==n.h;return n.w=d,n.h=f,e.horizontal?{same:g,other:v}:{same:v,other:g}}function pV(n,t){const e=t.maxPadding;return function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}(n?["left","right"]:["top","bottom"])}function ub(n,t,e,i){const r=[];let o,l,d,f,g,v;for(o=0,l=n.length,g=0;o<l;++o){d=n[o],f=d.box,f.update(d.width||t.w,d.height||t.h,pV(d.horizontal,t));const{same:w,other:D}=hV(t,e,d,i);g|=w&&r.length,v=v||D,f.fullSize||r.push(d)}return g&&ub(r,t,e,i)||v}function WE(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function VO(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const d of n){const f=d.box,g=i[d.stack]||{count:1,placed:0,weight:1},v=d.stackWeight/g.weight||1;if(d.horizontal){const w=t.w*v,D=g.size||f.height;Sa(g.start)&&(l=g.start),f.fullSize?WE(f,r.left,l,e.outerWidth-r.right-r.left,D):WE(f,t.left+g.placed,l,w,D),g.start=l,g.placed+=w,l=f.bottom}else{const w=t.h*v,D=g.size||f.width;Sa(g.start)&&(o=g.start),f.fullSize?WE(f,o,r.top,D,e.outerHeight-r.bottom-r.top):WE(f,o,t.top+g.placed,D,w),g.start=o,g.placed+=w,o=f.right}}t.x=o,t.y=l}Mn.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ms={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=gs(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),d=function dV(n){const t=function lV(n){const t=[];let e,i,r,o,l,d;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:o,options:{stack:l,stackWeight:d=1}}=r),t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:d});return t}(n),e=cb(t.filter(g=>g.box.fullSize),!0),i=cb(lb(t,"left"),!0),r=cb(lb(t,"right")),o=cb(lb(t,"top"),!0),l=cb(lb(t,"bottom")),d=LO(t,"x"),f=LO(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(l).concat(d),chartArea:lb(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(l).concat(d)}}(n.boxes),f=d.vertical,g=d.horizontal;ti(n.boxes,F=>{"function"==typeof F.beforeLayout&&F.beforeLayout()});const v=f.reduce((F,Z)=>Z.box.options&&!1===Z.box.options.display?F:F+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/v,hBoxMaxHeight:l/2}),D=Object.assign({},r);UO(D,gs(i));const A=Object.assign({maxPadding:D,w:o,h:l,x:r.left,y:r.top},r),P=function uV(n,t){const e=function cV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!NO.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,d;for(o=0,l=n.length;o<l;++o){d=n[o];const{fullSize:f}=d.box,g=e[d.stack],v=g&&d.stackWeight/g.weight;d.horizontal?(d.width=v?v*i:f&&t.availableWidth,d.height=r):(d.width=i,d.height=v?v*r:f&&t.availableHeight)}return e}(f.concat(g),w);ub(d.fullSize,A,w,P),ub(f,A,w,P),ub(g,A,w,P)&&ub(f,A,w,P),function fV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(A),VO(d.leftAndTop,A,w,P),A.x+=A.w,A.y+=A.h,VO(d.rightAndBottom,A,w,P),n.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},ti(d.chartArea,F=>{const Z=F.box;Object.assign(Z,n.chartArea),Z.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class BO{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class gV extends BO{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ZE="$chartjs",mV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},HO=n=>null===n||""===n,jO=!!W2&&{passive:!0};function vV(n,t,e){n.canvas.removeEventListener(t,e,jO)}function GE(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function wV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||GE(d.addedNodes,i),l=l&&!GE(d.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function CV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const d of o)l=l||GE(d.removedNodes,i),l=l&&!GE(d.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const db=new Map;let $O=0;function zO(){const n=window.devicePixelRatio;n!==$O&&($O=n,db.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function SV(n,t,e){const i=n.canvas,r=i&&ix(i);if(!r)return;const o=kk((d,f)=>{const g=r.clientWidth;e(d,f),g<r.clientWidth&&e()},window),l=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,v=f.contentRect.height;0===g&&0===v||o(g,v)});return l.observe(r),function EV(n,t){db.size||window.addEventListener("resize",zO),db.set(n,t)}(n,o),l}function ux(n,t,e){e&&e.disconnect(),"resize"===t&&function TV(n){db.delete(n),db.size||window.removeEventListener("resize",zO)}(n)}function IV(n,t,e){const i=n.canvas,r=kk(o=>{null!==n.ctx&&e(function bV(n,t){const e=mV[n.type]||n.type,{x:i,y:r}=np(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(o,n))},n,o=>{const l=o[0];return[l,l.offsetX,l.offsetY]});return function yV(n,t,e){n.addEventListener(t,e,jO)}(i,t,r),r}class DV extends BO{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function _V(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[ZE]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",HO(r)){const o=oO(n,"width");void 0!==o&&(n.width=o)}if(HO(i))if(""===n.style.height)n.height=n.width/(t||2);else{const o=oO(n,"height");void 0!==o&&(n.height=o)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[ZE])return!1;const i=e[ZE].initial;["height","width"].forEach(o=>{const l=i[o];Fn(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[ZE],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:wV,detach:CV,resize:SV}[e]||IV)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:ux,detach:ux,resize:ux}[e]||vV)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function z2(n,t,e,i){const r=HE(n),o=tp(r,"margin"),l=BE(r.maxWidth,n,"clientWidth")||ME,d=BE(r.maxHeight,n,"clientHeight")||ME,f=function $2(n,t,e){let i,r;if(void 0===t||void 0===e){const o=ix(n);if(o){const l=o.getBoundingClientRect(),d=HE(o),f=tp(d,"border","width"),g=tp(d,"padding");t=l.width-g.width-f.width,e=l.height-g.height-f.height,i=BE(d.maxWidth,o,"clientWidth"),r=BE(d.maxHeight,o,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||ME,maxHeight:r||ME}}(n,t,e);let{width:g,height:v}=f;if("content-box"===r.boxSizing){const w=tp(r,"border","width"),D=tp(r,"padding");g-=D.width+w.width,v-=D.height+w.height}return g=Math.max(0,g-o.width),v=Math.max(0,i?Math.floor(g/i):v-o.height),g=rx(Math.min(g,l,f.maxWidth)),v=rx(Math.min(v,d,f.maxHeight)),g&&!v&&(v=rx(g/2)),{width:g,height:v}}(t,e,i,r)}isAttached(t){const e=ix(t);return!(!e||!e.isConnected)}}class xV{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return"afterDestroy"===e&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin;if(!1===yi(l[i],[e,r,o.options],l)&&r.cancelable)return!1}return!0}invalidate(){Fn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=an(i.options&&i.options.plugins,{}),o=function MV(n){const t={},e=[],i=Object.keys(uc.plugins.items);for(let o=0;o<i.length;o++)e.push(uc.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];-1===e.indexOf(l)&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function kV(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const d of t){const f=d.id,g=PV(i[f],r);null!==g&&o.push({plugin:d,options:OV(n.config,{plugin:d,local:e[f]},g,l)})}return o}(t,o,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function PV(n,t){return t||!1!==n?!0===n?{}:n:null}function OV(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function dx(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Mn.datasets[n]||{}).indexAxis||"x"}function hx(n,t){return"x"===n||"y"===n?n:t.axis||function LV(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function WO(n){const t=n.options||(n.options={});t.plugins=an(t.plugins,{}),t.scales=function FV(n,t){const e=Qf[n.type]||{scales:{}},i=t.scales||{},r=dx(n.type,t),o=Object.create(null),l=Object.create(null);return Object.keys(i).forEach(d=>{const f=i[d];if(!Sn(f))return console.error(`Invalid scale configuration for scale: ${d}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const g=hx(d,f),v=function NV(n,t){return n===t?"_index_":"_value_"}(g,r),w=e.scales||{};o[g]=o[g]||d,l[d]=Gv(Object.create(null),[{axis:g},f,w[g],w[v]])}),n.data.datasets.forEach(d=>{const f=d.type||n.type,g=d.indexAxis||dx(f,t),w=(Qf[f]||{}).scales||{};Object.keys(w).forEach(D=>{const A=function RV(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(D,g),P=d[A+"AxisID"]||o[A]||A;l[P]=l[P]||Object.create(null),Gv(l[P],[{axis:A},i[P],w[D]])})}),Object.keys(l).forEach(d=>{const f=l[d];Gv(f,[Mn.scales[f.type],Mn.scale])}),l}(n,t)}function ZO(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const GO=new Map,qO=new Set;function qE(n,t){let e=GO.get(n);return e||(e=t(),GO.set(n,e),qO.add(e)),e}const hb=(n,t,e)=>{const i=nh(t,e);void 0!==i&&n.add(i)};class VV{constructor(t){this._config=function UV(n){return(n=n||{}).data=ZO(n.data),WO(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ZO(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),WO(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return qE(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return qE(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return qE(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return qE(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),d=l.get(e);if(d)return d;const f=new Set;e.forEach(v=>{t&&(f.add(t),v.forEach(w=>hb(f,t,w))),v.forEach(w=>hb(f,r,w)),v.forEach(w=>hb(f,Qf[o]||{},w)),v.forEach(w=>hb(f,Mn,w)),v.forEach(w=>hb(f,YA,w))});const g=Array.from(f);return 0===g.length&&g.push(Object.create(null)),qO.has(e)&&l.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Qf[e]||{},Mn.datasets[e]||{},{type:e},Mn,YA]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:d}=KO(this._resolverCache,t,r);let f=l;(function HV(n,t){const{isScriptable:e,isIndexable:i}=Yk(n);for(const r of t){const o=e(r),l=i(r),d=(l||o)&&n[r];if(o&&(ih(d)||BV(d))||l&&_i(d))return!0}return!1})(l,e)&&(o.$shared=!1,f=Dm(l,i=ih(i)?i():i,this.createResolver(t,i,d)));for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=KO(this._resolverCache,t,i);return Sn(e)?Dm(o,e,void 0,r):o}}function KO(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:ex(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,o)),o}const BV=n=>Sn(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||ih(n[e]),!1),$V=["top","bottom","left","right","chartArea"];function YO(n,t){return"top"===n||"bottom"===n||-1===$V.indexOf(n)&&"x"===t}function QO(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function JO(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),yi(e&&e.onComplete,[n],t)}function zV(n){const t=n.chart,e=t.options.animation;yi(e&&e.onProgress,[n],t)}function XO(n){return rO()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const KE={},e1=n=>{const t=XO(n);return Object.values(KE).filter(e=>e.canvas===t).pop()};function WV(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}class ah{constructor(t,e){const i=this.config=new VV(e),r=XO(t),o=e1(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function AV(n){return!rO()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?gV:DV}(r)),this.platform.updateConfig(i);const d=this.platform.acquireContext(r,l.aspectRatio),f=d&&d.canvas,g=f&&f.height,v=f&&f.width;this.id=SF(),this.ctx=d,this.canvas=f,this.width=v,this.height=g,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function HF(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(w=>this.update(w),l.resizeDelay||0),this._dataChanges=[],KE[this.id]=this,d&&f?(wu.listen(this,"complete",JO),wu.listen(this,"progress",zV),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Fn(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Gk(this.canvas,this.ctx),this}stop(){return wu.stop(this),this}resize(t,e){wu.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,l=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,sO(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),yi(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){ti(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,d)=>(l[d]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const d=e[l],f=hx(l,d),g="r"===f,v="x"===f;return{options:d,dposition:g?"chartArea":v?"bottom":"left",dtype:g?"radialLinear":v?"category":"linear"}}))),ti(o,l=>{const d=l.options,f=d.id,g=hx(f,d),v=an(d.type,l.dtype);(void 0===d.position||YO(d.position,g)!==YO(l.dposition))&&(d.position=l.dposition),r[f]=!0;let w=null;f in i&&i[f].type===v?w=i[f]:(w=new(uc.getScale(v))({id:f,type:v,ctx:this.ctx,chart:this}),i[w.id]=w),w.init(d,t)}),ti(r,(l,d)=>{l||delete i[d]}),ti(i,l=>{ms.configure(this,l,l.options),ms.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(QO("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(o=>o===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const d=o.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=d,l.indexAxis=o.indexAxis||dx(d,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=uc.getController(d),{datasetElementType:g,dataElementType:v}=Mn.datasets[d];Object.assign(f.prototype,{dataElementType:uc.getElement(v),datasetElementType:g&&uc.getElement(g)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){ti(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let g=0,v=this.data.datasets.length;g<v;g++){const{controller:w}=this.getDatasetMeta(g),D=!r&&-1===o.indexOf(w);w.buildOrUpdateElements(D),l=Math.max(+w.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||ti(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(QO("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){ti(this.scales,t=>{ms.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Ck(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e)WV(t,r,"_removeElements"===i?-o:o)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,d)=>d+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!Ck(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ms.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ti(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ih(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wu.has(this)?this.attached&&!wu.running(this)&&wu.start(this):(this.draw(),JO({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,o=this.chartArea,l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(r&&FE(e,{left:!1===i.left?0:o.left-i.left,right:!1===i.right?this.width:o.right+i.right,top:!1===i.top?0:o.top-i.top,bottom:!1===i.bottom?this.height:o.bottom+i.bottom}),t.controller.draw(),r&&UE(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return tb(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=aV.modes[e];return"function"==typeof o?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=oh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Sa(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(d=>d.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),wu.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Gk(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete KE[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,d)=>{o.offsetX=l,o.offsetY=d,this._eventHandler(o)};ti(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let l;const d=()=>{r("attach",d),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():l()}unbindEvents(){ti(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ti(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,d,f;for("dataset"===e&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const g=l&&this.getDatasetMeta(l.datasetIndex).controller;g&&g[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const d=this.getDatasetMeta(o);if(!d)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:d.data[l],index:l}});!AE(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(v=>!g.some(w=>v.datasetIndex===w.datasetIndex&&v.index===w.index)),l=o(e,t),d=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,d=this._getActiveElements(t,r,i,e),f=function PF(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),g=function ZV(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,f);i&&(this._lastEvent=null,yi(o.onHover,[t,d,this],this),f&&yi(o.onClick,[t,d,this],this));const v=!AE(d,r);return(v||e)&&(this._active=d,this._updateHoverStyles(d,r,e)),this._lastEvent=g,v}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}const t1=()=>ti(ah.instances,n=>n._plugins.invalidate()),lh=!0;function n1(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:d,innerRadius:f}=t;let g=r/d;n.beginPath(),n.arc(o,l,d,i-g,e+g),f>r?(g=r/f,n.arc(o,l,f,e+g,i-g,!0)):n.arc(o,l,r,e+Xi,i-Xi),n.closePath(),n.clip()}function Mm(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function fx(n,t,e,i,r,o){const{x:l,y:d,startAngle:f,pixelMargin:g,innerRadius:v}=t,w=Math.max(t.outerRadius+i+e-g,0),D=v>0?v+i+e+g:0;let A=0;const P=r-f;if(i){const ct=((v>0?v-i:0)+(w>0?w-i:0))/2;A=(P-(0!==ct?P*ct/(ct+i):P))/2}const Z=(P-Math.max(.001,P*w-e/Ri)/w)/2,Y=f+Z+A,se=r-Z-A,{outerStart:xe,outerEnd:be,innerStart:Se,innerEnd:Ge}=function qV(n,t,e,i){const r=function GV(n){return XA(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),d=f=>{const g=(e-Math.min(o,f))*i/2;return Br(f,0,Math.min(o,g))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:Br(r.innerStart,0,l),innerEnd:Br(r.innerEnd,0,l)}}(t,D,w,se-Y),Ke=w-xe,ut=w-be,mt=Y+xe/Ke,$t=se-be/ut,yn=D+Se,ln=D+Ge,vi=Y+Se/yn,er=se-Ge/ln;if(n.beginPath(),o){if(n.arc(l,d,w,mt,$t),be>0){const ct=Mm(ut,$t,l,d);n.arc(ct.x,ct.y,be,$t,se+Xi)}const qt=Mm(ln,se,l,d);if(n.lineTo(qt.x,qt.y),Ge>0){const ct=Mm(ln,er,l,d);n.arc(ct.x,ct.y,Ge,se+Xi,er+Math.PI)}if(n.arc(l,d,D,se-Ge/D,Y+Se/D,!0),Se>0){const ct=Mm(yn,vi,l,d);n.arc(ct.x,ct.y,Se,vi+Math.PI,Y-Xi)}const it=Mm(Ke,Y,l,d);if(n.lineTo(it.x,it.y),xe>0){const ct=Mm(Ke,mt,l,d);n.arc(ct.x,ct.y,xe,Y-Xi,mt)}}else{n.moveTo(l,d);const qt=Math.cos(mt)*w+l,it=Math.sin(mt)*w+d;n.lineTo(qt,it);const ct=Math.cos($t)*w+l,It=Math.sin($t)*w+d;n.lineTo(ct,It)}n.closePath()}Object.defineProperties(ah,{defaults:{enumerable:lh,value:Mn},instances:{enumerable:lh,value:KE},overrides:{enumerable:lh,value:Qf},registry:{enumerable:lh,value:uc},version:{enumerable:lh,value:"3.9.1"},getChart:{enumerable:lh,value:e1},register:{enumerable:lh,value:(...n)=>{uc.add(...n),t1()}},unregister:{enumerable:lh,value:(...n)=>{uc.remove(...n),t1()}}});class YE extends ul{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=Dk(r,{x:t,y:e}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:v,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),D=this.options.spacing/2,P=an(w,f-d)>=si||Yv(o,d,f),F=yu(l,g+D,v+D);return P&&F}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:f,spacing:g}=this.options,v=(r+o)/2,w=(l+d+g+f)/2;return{x:e+Math.cos(v)*w,y:i+Math.sin(v)*w}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>si?Math.floor(i/si):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let d=0;if(r){d=r/2;const g=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(g)*d,Math.sin(g)*d),this.circumference>=Ri&&(d=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const f=function KV(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:d}=t;let f=t.endAngle;if(o){fx(n,t,e,i,l+si,r);for(let g=0;g<o;++g)n.fill();isNaN(d)||(f=l+d%si,d%si==0&&(f+=si))}return fx(n,t,e,i,f,r),n.fill(),f}(t,this,d,o,l);(function QV(n,t,e,i,r,o){const{options:l}=t,{borderWidth:d,borderJoinStyle:f}=l,g="inner"===l.borderAlign;!d||(g?(n.lineWidth=2*d,n.lineJoin=f||"round"):(n.lineWidth=d,n.lineJoin=f||"bevel"),t.fullCircles&&function YV(n,t,e){const{x:i,y:r,startAngle:o,pixelMargin:l,fullCircles:d}=t,f=Math.max(t.outerRadius-l,0),g=t.innerRadius+l;let v;for(e&&n1(n,t,o+si),n.beginPath(),n.arc(i,r,g,o+si,o,!0),v=0;v<d;++v)n.stroke();for(n.beginPath(),n.arc(i,r,f,o,o+si),v=0;v<d;++v)n.stroke()}(n,t,g),g&&n1(n,t,r),fx(n,t,e,i,r,o),n.stroke())})(t,this,d,o,f,l),t.restore()}}function i1(n,t,e=t){n.lineCap=an(e.borderCapStyle,t.borderCapStyle),n.setLineDash(an(e.borderDash,t.borderDash)),n.lineDashOffset=an(e.borderDashOffset,t.borderDashOffset),n.lineJoin=an(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=an(e.borderWidth,t.borderWidth),n.strokeStyle=an(e.borderColor,t.borderColor)}function JV(n,t,e){n.lineTo(e.x,e.y)}function r1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:d}=t,f=Math.max(r,l),g=Math.min(o,d);return{count:i,start:f,loop:t.loop,ilen:g<f&&!(r<l&&o<l||r>d&&o>d)?i+g-f:g-f}}function eB(n,t,e,i){const{points:r,options:o}=t,{count:l,start:d,loop:f,ilen:g}=r1(r,e,i),v=function XV(n){return n.stepped?p2:n.tension||"monotone"===n.cubicInterpolationMode?g2:JV}(o);let A,P,F,{move:w=!0,reverse:D}=i||{};for(A=0;A<=g;++A)P=r[(d+(D?g-A:A))%l],!P.skip&&(w?(n.moveTo(P.x,P.y),w=!1):v(n,F,P,D,o.stepped),F=P);return f&&(P=r[(d+(D?g:0))%l],v(n,F,P,D,o.stepped)),!!f}function tB(n,t,e,i){const r=t.points,{count:o,start:l,ilen:d}=r1(r,e,i),{move:f=!0,reverse:g}=i||{};let D,A,P,F,Z,Y,v=0,w=0;const se=be=>(l+(g?d-be:be))%o,xe=()=>{F!==Z&&(n.lineTo(v,Z),n.lineTo(v,F),n.lineTo(v,Y))};for(f&&(A=r[se(0)],n.moveTo(A.x,A.y)),D=0;D<=d;++D){if(A=r[se(D)],A.skip)continue;const be=A.x,Se=A.y,Ge=0|be;Ge===P?(Se<F?F=Se:Se>Z&&(Z=Se),v=(w*v+be)/++w):(xe(),n.lineTo(be,Se),P=Ge,w=0,F=Z=Se),Y=Se}xe()}function px(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?eB:tB}YE.id="arc",YE.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},YE.defaultRoutes={backgroundColor:"backgroundColor"};const sB="function"==typeof Path2D;let QE=(()=>{class n extends ul{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(U2(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function eU(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:d}=function J2(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}(e,r,o,i);return function pO(n,t,e,i){return i&&i.setContext&&e?function tU(n,t,e,i){const r=n._chart.getContext(),o=gO(n.options),{_datasetIndex:l,options:{spanGaps:d}}=n,f=e.length,g=[];let v=o,w=t[0].start,D=w;function A(P,F,Z,Y){const se=d?-1:1;if(P!==F){for(P+=f;e[P%f].skip;)P-=se;for(;e[F%f].skip;)F+=se;P%f!=F%f&&(g.push({start:P%f,end:F%f,loop:Z,style:Y}),v=Y,w=F%f)}}for(const P of t){w=d?w:P.start;let Z,F=e[w%f];for(D=w+1;D<=P.end;D++){const Y=e[D%f];Z=gO(i.setContext(oh(r,{type:"segment",p0:F,p1:Y,p0DataIndex:(D-1)%f,p1DataIndex:D%f,datasetIndex:l}))),nU(Z,v)&&A(w,D-1,P.loop,v),F=Y,v=Z}w<D-1&&A(w,D-1,P.loop,v)}return g}(n,t,e,i):t}(n,!0===i?[{start:l,end:d,loop:o}]:function X2(n,t,e,i){const r=n.length,o=[];let f,l=t,d=n[t];for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?d.skip||(o.push({start:t%r,end:(f-1)%r,loop:i=!1}),t=l=g.stop?f:null):(l=f,d.skip&&(t=f)),d=g}return null!==l&&o.push({start:t%r,end:l%r,loop:i}),o}(e,l,d<l?d+r:d,!!n._fullLoop&&0===l&&d===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,o=e[i],l=this.points,d=fO(this,{property:i,start:o,end:o});if(!d.length)return;const f=[],g=function nB(n){return n.stepped?Z2:n.tension||"monotone"===n.cubicInterpolationMode?G2:ip}(r);let v,w;for(v=0,w=d.length;v<w;++v){const{start:D,end:A}=d[v],P=l[D],F=l[A];if(P===F){f.push(P);continue}const Y=g(P,F,Math.abs((o-P[i])/(F[i]-P[i])),r.stepped);Y[i]=e[i],f.push(Y)}return 1===f.length?f[0]:f}pathSegment(e,i,r){return px(this)(e,this,i,r)}path(e,i,r){const o=this.segments,l=px(this);let d=this._loop;i=i||0,r=r||this.points.length-i;for(const f of o)d&=l(e,this,f,{start:i,end:i+r-1});return!!d}draw(e,i,r,o){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function oB(n,t,e,i){sB&&!t.options.segment?function iB(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),i1(n,t.options),n.stroke(r)}(n,t,e,i):function rB(n,t,e,i){const{segments:r,options:o}=t,l=px(t);for(const d of r)i1(n,o,d.style),n.beginPath(),l(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function s1(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}let aB=(()=>{class n extends ul{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:l,y:d}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(i-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return s1(this,e,"x",i)}inYRange(e,i){return s1(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!tb(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,JA(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function o1(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let d,f,g,v,w;return n.horizontal?(w=l/2,d=Math.min(e,r),f=Math.max(e,r),g=i-w,v=i+w):(w=o/2,d=e-w,f=e+w,g=Math.min(i,r),v=Math.max(i,r)),{left:d,top:g,right:f,bottom:v}}function ch(n,t,e,i){return n?0:Br(t,e,i)}function gx(n,t,e,i){const r=null===t,o=null===e,d=n&&!(r&&o)&&o1(n,i);return d&&(r||yu(t,d.left,d.right))&&(o||yu(e,d.top,d.bottom))}function hB(n,t){n.rect(t.x,t.y,t.w,t.h)}function mx(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class JE extends ul{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=function uB(n){const t=o1(n),e=t.right-t.left,i=t.bottom-t.top,r=function lB(n,t,e){const r=n.borderSkipped,o=Kk(n.options.borderWidth);return{t:ch(r.top,o.top,0,e),r:ch(r.right,o.right,0,t),b:ch(r.bottom,o.bottom,0,e),l:ch(r.left,o.left,0,t)}}(n,e/2,i/2),o=function cB(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=ep(r),l=Math.min(t,e),d=n.borderSkipped,f=i||Sn(r);return{topLeft:ch(!f||d.top||d.left,o.topLeft,0,l),topRight:ch(!f||d.top||d.right,o.topRight,0,l),bottomLeft:ch(!f||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:ch(!f||d.bottom||d.right,o.bottomRight,0,l)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),d=function dB(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(l.radius)?nb:hB;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,mx(l,e,o)),t.clip(),d(t,mx(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,mx(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return gx(this,t,e,i)}inXRange(t,e){return gx(this,t,null,e)}inYRange(t,e){return gx(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}JE.id="bar",JE.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},JE.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var fB=Object.freeze({__proto__:null,ArcElement:YE,LineElement:QE,PointElement:aB,BarElement:JE});function a1(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function l1(n){n.data.datasets.forEach(t=>{a1(t)})}var _B={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void l1(n);const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:d}=r,f=n.getDatasetMeta(o),g=l||r.data;if("y"===ib([d,n.options.indexAxis])||!f.controller.supportsDecimation)return;const v=n.scales[f.xAxisID];if("linear"!==v.type&&"time"!==v.type||n.options.parsing)return;let P,{start:w,count:D}=function mB(n,t){const e=t.length;let r,i=0;const{iScale:o}=n,{min:l,max:d,minDefined:f,maxDefined:g}=o.getUserBounds();return f&&(i=Br(vu(t,o.axis,l).lo,0,e-1)),r=g?Br(vu(t,o.axis,d).hi+1,i,e)-i:e-i,{start:i,count:r}}(f,g);if(D<=(e.threshold||4*i))a1(r);else{switch(Fn(l)&&(r._data=g,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(F){this._data=F}})),e.algorithm){case"lttb":P=function pB(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],d=(e-2)/(o-2);let f=0;const g=t+e-1;let w,D,A,P,F,v=t;for(l[f++]=n[v],w=0;w<o-2;w++){let se,Z=0,Y=0;const xe=Math.floor((w+1)*d)+1+t,be=Math.min(Math.floor((w+2)*d)+1,e)+t,Se=be-xe;for(se=xe;se<be;se++)Z+=n[se].x,Y+=n[se].y;Z/=Se,Y/=Se;const Ge=Math.floor(w*d)+1+t,Ke=Math.min(Math.floor((w+1)*d)+1,e)+t,{x:ut,y:mt}=n[v];for(A=P=-1,se=Ge;se<Ke;se++)P=.5*Math.abs((ut-Z)*(n[se].y-mt)-(ut-n[se].x)*(Y-mt)),P>A&&(A=P,D=n[se],F=se);l[f++]=D,v=F}return l[f++]=n[g],l}(g,w,D,i,e);break;case"min-max":P=function gB(n,t,e,i){let l,d,f,g,v,w,D,A,P,F,r=0,o=0;const Z=[],se=n[t].x,be=n[t+e-1].x-se;for(l=t;l<t+e;++l){d=n[l],f=(d.x-se)/be*i,g=d.y;const Se=0|f;if(Se===v)g<P?(P=g,w=l):g>F&&(F=g,D=l),r=(o*r+d.x)/++o;else{const Ge=l-1;if(!Fn(w)&&!Fn(D)){const Ke=Math.min(w,D),ut=Math.max(w,D);Ke!==A&&Ke!==Ge&&Z.push(hT(dT({},n[Ke]),{x:r})),ut!==A&&ut!==Ge&&Z.push(hT(dT({},n[ut]),{x:r}))}l>0&&Ge!==A&&Z.push(n[Ge]),Z.push(d),v=Se,o=0,P=F=g,w=D=A=l}}return Z}(g,w,D,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=P}})},destroy(n){l1(n)}};function _x(n,t,e,i){if(i)return;let r=t[n],o=e[n];return"angle"===n&&(r=xo(r),o=xo(o)),{property:n,start:r,end:o}}function yx(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function c1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function u1(n,t){let e=[],i=!1;return _i(n)?(i=!0,e=n):e=function vB(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:d})=>{d=yx(l,d,r);const f=r[l],g=r[d];null!==i?(o.push({x:f.x,y:i}),o.push({x:g.x,y:i})):null!==e&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}(n,t),e.length?new QE({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function d1(n){return n&&!1!==n.fill}function bB(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!cr(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function wB(n,t,e){const i=function SB(n){const t=n.options,e=t.fill;let i=an(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Sn(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return cr(r)&&Math.floor(r)===r?function CB(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function AB(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:d,point:f}=xB(o,t,"x");if(!(!f||l&&d))if(l)i.unshift(f);else if(n.push(f),!d)break}n.push(...i)}function xB(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let d=!1,f=!1;for(let g=0;g<o.length;g++){const v=o[g],w=l[v.start][e],D=l[v.end][e];if(yu(r,w,D)){d=r===w,f=r===D;break}}return{first:d,last:f,point:i}}class h1{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return t.arc(r,o,l,(e=e||{start:0,end:si}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function vx(n,t,e){const i=function MB(n){const{chart:t,fill:e,line:i}=n;if(cr(e))return function PB(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function IB(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,d=function DB(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}(t,e);d.push(u1({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const g=o[f];for(let v=g.start;v<=g.end;v++)AB(r,l[v],d)}return new QE({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function kB(n){return(n.scale||{}).getPointPositionForValue?function RB(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=function TB(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:Sn(n)?n.value:t.getBaseValue(),i}(e,t,o),d=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new h1({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)d.push(t.getPointPositionForValue(f,l));return d}(n):function OB(n){const{scale:t={},fill:e}=n,i=function EB(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:Sn(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(cr(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof h1?r:u1(r,i)}(t),{line:r,scale:o,axis:l}=t,d=r.options,f=d.fill,g=d.backgroundColor,{above:v=g,below:w=g}=f||{};i&&r.points.length&&(FE(n,e),function NB(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:d}=t,f=e._loop?"angle":t.axis;n.save(),"x"===f&&o!==r&&(f1(n,i,l.top),p1(n,{line:e,target:i,color:r,scale:d,property:f}),n.restore(),n.save(),f1(n,i,l.bottom)),p1(n,{line:e,target:i,color:o,scale:d,property:f}),n.restore()}(n,{line:r,target:i,above:v,below:w,area:e,scale:o,axis:l}),UE(n))}function f1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const d of i){const{start:f,end:g}=d,v=r[f],w=r[yx(f,g,r)];o?(n.moveTo(v.x,v.y),o=!1):(n.lineTo(v.x,e),n.lineTo(v.x,v.y)),l=!!t.pathSegment(n,d,{move:l}),l?n.closePath():n.lineTo(w.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function p1(n,t){const{line:e,target:i,property:r,color:o,scale:l}=t,d=function yB(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const d of i){let{start:f,end:g}=d;g=yx(f,g,r);const v=_x(e,r[f],r[g],d.loop);if(!t.segments){l.push({source:d,target:v,start:r[f],end:r[g]});continue}const w=fO(t,v);for(const D of w){const A=_x(e,o[D.start],o[D.end],D.loop),P=hO(d,r,A);for(const F of P)l.push({source:F,target:D,start:{[e]:c1(v,A,"start",Math.max)},end:{[e]:c1(v,A,"end",Math.min)}})}}return l}(e,i,r);for(const{source:f,target:g,start:v,end:w}of d){const{style:{backgroundColor:D=o}={}}=f,A=!0!==i;n.save(),n.fillStyle=D,LB(n,l,A&&_x(r,v,w)),n.beginPath();const P=!!e.pathSegment(n,f);let F;if(A){P?n.closePath():g1(n,i,w,r);const Z=!!i.pathSegment(n,g,{move:P,reverse:!0});F=P&&Z,F||g1(n,i,v,r)}n.closePath(),n.fill(F?"evenodd":"nonzero"),n.restore()}}function LB(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:l,end:d}=e||{};"x"===o&&(n.beginPath(),n.rect(l,i,d-l,r-i),n.clip())}function g1(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var FB={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,d,f;for(l=0;l<i;++l)o=n.getDatasetMeta(l),d=o.dataset,f=null,d&&d.options&&d instanceof QE&&(f={visible:n.isDatasetVisible(l),index:l,fill:wB(d,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:d}),o.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],f&&!1!==f.fill&&(f.fill=bB(r,l,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const d=r[l].$filler;!d||(d.line.updateControlPoints(o,d.axis),i&&d.fill&&vx(n.ctx,d,o))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;d1(o)&&vx(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!d1(i)||"beforeDatasetDraw"!==e.drawTime||vx(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const m1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class _1 extends ul{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=yi(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Ir(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=m1(i,o);let g,v;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,v=this._fitRows(l,o,d,f)+10):(v=this.maxHeight,g=this._fitCols(l,o,d,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],v=r+d;let w=t;o.textAlign="left",o.textBaseline="middle";let D=-1,A=-v;return this.legendItems.forEach((P,F)=>{const Z=i+e/2+o.measureText(P.text).width;(0===F||g[g.length-1]+Z+2*d>l)&&(w+=v,g[g.length-(F>0?0:1)]=0,A+=v,D++),f[F]={left:0,top:A,row:D,width:Z,height:r},g[g.length-1]+=Z+d}),w}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],v=l-t;let w=d,D=0,A=0,P=0,F=0;return this.legendItems.forEach((Z,Y)=>{const se=i+e/2+o.measureText(Z.text).width;Y>0&&A+r+2*d>v&&(w+=D+d,g.push({width:D,height:A}),P+=D+d,F++,D=A=0),f[Y]={left:P,top:A,col:F,width:se,height:r},D=Math.max(D,se),A+=r+d}),w+=D,g.push({width:D,height:A}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=xm(o,this.left,this.width);if(this.isHorizontal()){let d=0,f=ps(i,this.left+r,this.right-this.lineWidths[d]);for(const g of e)d!==g.row&&(d=g.row,f=ps(i,this.left+r,this.right-this.lineWidths[d])),g.top+=this.top+t+r,g.left=l.leftForLtr(l.x(f),g.width),f+=g.width+r}else{let d=0,f=ps(i,this.top+t+r,this.bottom-this.columnSizes[d].height);for(const g of e)g.col!==d&&(d=g.col,f=ps(i,this.top+t+r,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+r,g.left=l.leftForLtr(l.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;FE(t,this),this._draw(),UE(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,d=Mn.color,f=xm(t.rtl,this.left,this.width),g=Ir(l.font),{color:v,padding:w}=l,D=g.size,A=D/2;let P;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:F,boxHeight:Z,itemHeight:Y}=m1(l,D),be=this.isHorizontal(),Se=this._computeTitleHeight();P=be?{x:ps(o,this.left+w,this.right-i[0]),y:this.top+w+Se,line:0}:{x:this.left+w,y:ps(o,this.top+Se+w,this.bottom-e[0].height),line:0},lO(this.ctx,t.textDirection);const Ge=Y+w;this.legendItems.forEach((Ke,ut)=>{r.strokeStyle=Ke.fontColor||v,r.fillStyle=Ke.fontColor||v;const mt=r.measureText(Ke.text).width,$t=f.textAlign(Ke.textAlign||(Ke.textAlign=l.textAlign)),yn=F+A+mt;let ln=P.x,vi=P.y;f.setWidth(this.width),be?ut>0&&ln+yn+w>this.right&&(vi=P.y+=Ge,P.line++,ln=P.x=ps(o,this.left+w,this.right-i[P.line])):ut>0&&vi+Ge>this.bottom&&(ln=P.x=ln+e[P.line].width+w,P.line++,vi=P.y=ps(o,this.top+Se+w,this.bottom-e[P.line].height)),function(Ke,ut,mt){if(isNaN(F)||F<=0||isNaN(Z)||Z<0)return;r.save();const $t=an(mt.lineWidth,1);if(r.fillStyle=an(mt.fillStyle,d),r.lineCap=an(mt.lineCap,"butt"),r.lineDashOffset=an(mt.lineDashOffset,0),r.lineJoin=an(mt.lineJoin,"miter"),r.lineWidth=$t,r.strokeStyle=an(mt.strokeStyle,d),r.setLineDash(an(mt.lineDash,[])),l.usePointStyle){const yn={radius:Z*Math.SQRT2/2,pointStyle:mt.pointStyle,rotation:mt.rotation,borderWidth:$t},ln=f.xPlus(Ke,F/2);qk(r,yn,ln,ut+A,l.pointStyleWidth&&F)}else{const yn=ut+Math.max((D-Z)/2,0),ln=f.leftForLtr(Ke,F),vi=ep(mt.borderRadius);r.beginPath(),Object.values(vi).some(er=>0!==er)?nb(r,{x:ln,y:yn,w:F,h:Z,radius:vi}):r.rect(ln,yn,F,Z),r.fill(),0!==$t&&r.stroke()}r.restore()}(f.x(ln),vi,Ke),ln=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)($t,ln+F+A,be?ln+yn:this.right,t.rtl),function(Ke,ut,mt){Xf(r,mt.text,Ke,ut+Y/2,g,{strikethrough:mt.hidden,textAlign:f.textAlign(mt.textAlign)})}(f.x(ln),vi,Ke),be?P.x+=yn+w:P.y+=Ge}),cO(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ir(e.font),r=gs(e.padding);if(!e.display)return;const o=xm(t.rtl,this.left,this.width),l=this.ctx,d=e.position,g=r.top+i.size/2;let v,w=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),v=this.top+g,w=ps(t.align,w,this.right-D);else{const P=this.columnSizes.reduce((F,Z)=>Math.max(F,Z.height),0);v=g+ps(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}const A=ps(d,w,w+D);l.textAlign=o.textAlign($A(d)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Xf(l,e.text,A,v,i)}_computeTitleHeight(){const t=this.options.title,e=Ir(t.font),i=gs(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(yu(t,this.left,this.right)&&yu(e,this.top,this.bottom))for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],yu(t,r.left,r.left+r.width)&&yu(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function VB(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!o&&yi(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&yi(e.onHover,[t,i,this],this)}else i&&yi(e.onClick,[t,i,this],this)}}var BB={id:"legend",_element:_1,start(n,t,e){const i=n.legend=new _1({ctx:n.ctx,options:e,chart:n});ms.configure(n,i,e),ms.addBox(n,i)},stop(n){ms.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ms.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const d=l.controller.getStyle(e?0:void 0),f=gs(d.borderWidth);return{text:t[l.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:0,datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class bx extends ul{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=_i(i.text)?i.text.length:1;this._padding=gs(i.padding);const o=r*Ir(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,d=l.align;let g,v,w,f=0;return this.isHorizontal()?(v=ps(d,i,o),w=e+t,g=o-i):("left"===l.position?(v=i+t,w=ps(d,r,e),f=-.5*Ri):(v=o-t,w=ps(d,e,r),f=.5*Ri),g=r-e),{titleX:v,titleY:w,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ir(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:g}=this._drawArgs(o);Xf(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:$A(e.align),textBaseline:"middle",translation:[l,d]})}}var jB={id:"title",_element:bx,start(n,t,e){!function HB(n,t){const e=new bx({ctx:n.ctx,options:t,chart:n});ms.configure(n,e,t),ms.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){ms.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ms.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const XE=new WeakMap;var $B={id:"subtitle",start(n,t,e){const i=new bx({ctx:n.ctx,options:e,chart:n});ms.configure(n,i,e),ms.addBox(n,i),XE.set(n,i)},stop(n){ms.removeBox(n,XE.get(n)),XE.delete(n)},beforeUpdate(n,t,e){const i=XE.get(n);ms.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fb={average(n){if(!n.length)return!1;let t,e,i=0,r=0,o=0;for(t=0,e=n.length;t<e;++t){const l=n[t].element;if(l&&l.hasValue()){const d=l.tooltipPosition();i+=d.x,r+=d.y,++o}}return{x:i/o,y:r/o}},nearest(n,t){if(!n.length)return!1;let o,l,d,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const v=HA(t,f.getCenterPoint());v<r&&(r=v,d=f)}}if(d){const f=d.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function dc(n,t){return t&&(_i(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cu(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function zB(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:d}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function y1(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:d}=t,f=Ir(t.bodyFont),g=Ir(t.titleFont),v=Ir(t.footerFont),w=o.length,D=r.length,A=i.length,P=gs(t.padding);let F=P.height,Z=0,Y=i.reduce((be,Se)=>be+Se.before.length+Se.lines.length+Se.after.length,0);Y+=n.beforeBody.length+n.afterBody.length,w&&(F+=w*g.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),Y&&(F+=A*(t.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(Y-A)*f.lineHeight+(Y-1)*t.bodySpacing),D&&(F+=t.footerMarginTop+D*v.lineHeight+(D-1)*t.footerSpacing);let se=0;const xe=function(be){Z=Math.max(Z,e.measureText(be).width+se)};return e.save(),e.font=g.string,ti(n.title,xe),e.font=f.string,ti(n.beforeBody.concat(n.afterBody),xe),se=t.displayColors?l+2+t.boxPadding:0,ti(i,be=>{ti(be.before,xe),ti(be.lines,xe),ti(be.after,xe)}),se=0,e.font=v.string,ti(n.footer,xe),e.restore(),Z+=P.width,{width:Z,height:F}}function GB(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:d,right:f}}=n;let g="center";return"center"===i?g=r<=(d+f)/2?"left":"right":r<=o/2?g="left":r>=l-o/2&&(g="right"),function ZB(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if("left"===n&&r+o+l>t.width||"right"===n&&r-o-l<0)return!0}(g,n,t,e)&&(g="center"),g}function v1(n,t,e){const i=e.yAlign||t.yAlign||function WB(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||GB(n,t,e,i),yAlign:i}}function b1(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:d,yAlign:f}=e,g=r+o,{topLeft:v,topRight:w,bottomLeft:D,bottomRight:A}=ep(l);let P=function qB(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,d);const F=function KB(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,f,g);return"center"===f?"left"===d?P+=g:"right"===d&&(P-=g):"left"===d?P-=Math.max(v,D)+r:"right"===d&&(P+=Math.max(w,A)+r),{x:Br(P,0,i.width-t.width),y:Br(F,0,i.height-t.height)}}function eT(n,t,e){const i=gs(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function w1(n){return dc([],Cu(n))}function C1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let E1=(()=>{class n extends ul{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,l=new _O(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=function YB(n,t,e){return oh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,o=r.beforeTitle.apply(this,[e]),l=r.title.apply(this,[e]),d=r.afterTitle.apply(this,[e]);let f=[];return f=dc(f,Cu(o)),f=dc(f,Cu(l)),f=dc(f,Cu(d)),f}getBeforeBody(e,i){return w1(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:r}=i,o=[];return ti(e,l=>{const d={before:[],lines:[],after:[]},f=C1(r,l);dc(d.before,Cu(f.beforeLabel.call(this,l))),dc(d.lines,f.label.call(this,l)),dc(d.after,Cu(f.afterLabel.call(this,l))),o.push(d)}),o}getAfterBody(e,i){return w1(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:r}=i,o=r.beforeFooter.apply(this,[e]),l=r.footer.apply(this,[e]),d=r.afterFooter.apply(this,[e]);let f=[];return f=dc(f,Cu(o)),f=dc(f,Cu(l)),f=dc(f,Cu(d)),f}_createItems(e){const i=this._active,r=this.chart.data,o=[],l=[],d=[];let g,v,f=[];for(g=0,v=i.length;g<v;++g)f.push(zB(this.chart,i[g]));return e.filter&&(f=f.filter((w,D,A)=>e.filter(w,D,A,r))),e.itemSort&&(f=f.sort((w,D)=>e.itemSort(w,D,r))),ti(f,w=>{const D=C1(e.callbacks,w);o.push(D.labelColor.call(this,w)),l.push(D.labelPointStyle.call(this,w)),d.push(D.labelTextColor.call(this,w))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=d,this.dataPoints=f,f}update(e,i){const r=this.options.setContext(this.getContext()),o=this._active;let l,d=[];if(o.length){const f=fb[r.position].call(this,o,this._eventPosition);d=this._createItems(r),this.title=this.getTitle(d,r),this.beforeBody=this.getBeforeBody(d,r),this.body=this.getBody(d,r),this.afterBody=this.getAfterBody(d,r),this.footer=this.getFooter(d,r);const g=this._size=y1(this,r),v=Object.assign({},f,g),w=v1(this.chart,r,v),D=b1(r,v,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,l={opacity:1,x:D.x,y:D.y,width:g.width,height:g.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(l={opacity:0});this._tooltipItems=d,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){const l=this.getCaretPosition(e,r,o);i.lineTo(l.x1,l.y1),i.lineTo(l.x2,l.y2),i.lineTo(l.x3,l.y3)}getCaretPosition(e,i,r){const{xAlign:o,yAlign:l}=this,{caretSize:d,cornerRadius:f}=r,{topLeft:g,topRight:v,bottomLeft:w,bottomRight:D}=ep(f),{x:A,y:P}=e,{width:F,height:Z}=i;let Y,se,xe,be,Se,Ge;return"center"===l?(Se=P+Z/2,"left"===o?(Y=A,se=Y-d,be=Se+d,Ge=Se-d):(Y=A+F,se=Y+d,be=Se-d,Ge=Se+d),xe=Y):(se="left"===o?A+Math.max(g,w)+d:"right"===o?A+F-Math.max(v,D)-d:this.caretX,"top"===l?(be=P,Se=be-d,Y=se-d,xe=se+d):(be=P+Z,Se=be+d,Y=se+d,xe=se-d),Ge=be),{x1:Y,x2:se,x3:xe,y1:be,y2:Se,y3:Ge}}drawTitle(e,i,r){const o=this.title,l=o.length;let d,f,g;if(l){const v=xm(r.rtl,this.x,this.width);for(e.x=eT(this,r.titleAlign,r),i.textAlign=v.textAlign(r.titleAlign),i.textBaseline="middle",d=Ir(r.titleFont),f=r.titleSpacing,i.fillStyle=r.titleColor,i.font=d.string,g=0;g<l;++g)i.fillText(o[g],v.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+f,g+1===l&&(e.y+=r.titleMarginBottom-f)}}_drawColorBox(e,i,r,o,l){const d=this.labelColors[r],f=this.labelPointStyles[r],{boxHeight:g,boxWidth:v,boxPadding:w}=l,D=Ir(l.bodyFont),A=eT(this,"left",l),P=o.x(A),Z=i.y+(g<D.lineHeight?(D.lineHeight-g)/2:0);if(l.usePointStyle){const Y={radius:Math.min(v,g)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},se=o.leftForLtr(P,v)+v/2,xe=Z+g/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,JA(e,Y,se,xe),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,JA(e,Y,se,xe)}else{e.lineWidth=Sn(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const Y=o.leftForLtr(P,v-w),se=o.leftForLtr(o.xPlus(P,1),v-w-2),xe=ep(d.borderRadius);Object.values(xe).some(be=>0!==be)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,nb(e,{x:Y,y:Z,w:v,h:g,radius:xe}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),nb(e,{x:se,y:Z+1,w:v-2,h:g-2,radius:xe}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(Y,Z,v,g),e.strokeRect(Y,Z,v,g),e.fillStyle=d.backgroundColor,e.fillRect(se,Z+1,v-2,g-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:o}=this,{bodySpacing:l,bodyAlign:d,displayColors:f,boxHeight:g,boxWidth:v,boxPadding:w}=r,D=Ir(r.bodyFont);let A=D.lineHeight,P=0;const F=xm(r.rtl,this.x,this.width),Z=function(mt){i.fillText(mt,F.x(e.x+P),e.y+A/2),e.y+=A+l},Y=F.textAlign(d);let se,xe,be,Se,Ge,Ke,ut;for(i.textAlign=d,i.textBaseline="middle",i.font=D.string,e.x=eT(this,Y,r),i.fillStyle=r.bodyColor,ti(this.beforeBody,Z),P=f&&"right"!==Y?"center"===d?v/2+w:v+2+w:0,Se=0,Ke=o.length;Se<Ke;++Se){for(se=o[Se],xe=this.labelTextColors[Se],i.fillStyle=xe,ti(se.before,Z),be=se.lines,f&&be.length&&(this._drawColorBox(i,e,Se,F,r),A=Math.max(D.lineHeight,g)),Ge=0,ut=be.length;Ge<ut;++Ge)Z(be[Ge]),A=D.lineHeight;ti(se.after,Z)}P=0,A=D.lineHeight,ti(this.afterBody,Z),e.y-=l}drawFooter(e,i,r){const o=this.footer,l=o.length;let d,f;if(l){const g=xm(r.rtl,this.x,this.width);for(e.x=eT(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=g.textAlign(r.footerAlign),i.textBaseline="middle",d=Ir(r.footerFont),i.fillStyle=r.footerColor,i.font=d.string,f=0;f<l;++f)i.fillText(o[f],g.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){const{xAlign:l,yAlign:d}=this,{x:f,y:g}=e,{width:v,height:w}=r,{topLeft:D,topRight:A,bottomLeft:P,bottomRight:F}=ep(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(f+D,g),"top"===d&&this.drawCaret(e,i,r,o),i.lineTo(f+v-A,g),i.quadraticCurveTo(f+v,g,f+v,g+A),"center"===d&&"right"===l&&this.drawCaret(e,i,r,o),i.lineTo(f+v,g+w-F),i.quadraticCurveTo(f+v,g+w,f+v-F,g+w),"bottom"===d&&this.drawCaret(e,i,r,o),i.lineTo(f+P,g+w),i.quadraticCurveTo(f,g+w,f,g+w-P),"center"===d&&"left"===l&&this.drawCaret(e,i,r,o),i.lineTo(f,g+D),i.quadraticCurveTo(f,g,f+D,g),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,o=r&&r.x,l=r&&r.y;if(o||l){const d=fb[e.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=y1(this,e),g=Object.assign({},d,this._size),v=v1(i,e,g),w=b1(e,g,v,i);(o._to!==w.x||l._to!==w.y)&&(this.xAlign=v.xAlign,this.yAlign=v.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const d=gs(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(l,e,o,i),lO(e,i.textDirection),l.y+=d.top,this.drawTitle(l,e,i),this.drawBody(l,e,i),this.drawFooter(l,e,i),cO(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,o=e.map(({datasetIndex:f,index:g})=>{const v=this.chart.getDatasetMeta(f);if(!v)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:v.data[g],index:g}}),l=!AE(r,o),d=this._positionChanged(o,i);(l||d)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],d=this._getActiveElements(e,l,i,r),f=this._positionChanged(d,e),g=i||!AE(d,l)||f;return g&&(this._active=d,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),g}_getActiveElements(e,i,r,o){const l=this.options;if("mouseout"===e.type)return[];if(!o)return i;const d=this.chart.getElementsAtEventForMode(e,l.mode,l,r);return l.reverse&&d.reverse(),d}_positionChanged(e,i){const{caretX:r,caretY:o,options:l}=this,d=fb[l.position].call(this,e,i);return!1!==d&&(r!==d.x||o!==d.y)}}return n.positioners=fb,n})();var JB=Object.freeze({__proto__:null,Decimation:_B,Filler:FB,Legend:BB,SubTitle:$B,Title:jB,Tooltip:{id:"tooltip",_element:E1,positioners:fb,afterInit(n,t,e){e&&(n.tooltip=new E1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:_u,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:_u,beforeBody:_u,beforeLabel:_u,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Fn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:_u,afterBody:_u,beforeFooter:_u,footer:_u,afterFooter:_u}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class tT extends rp{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Fn(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:Br(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function eH(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,an(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=0===t&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function T1(n,t,{horizontal:e,minRotation:i}){const r=cl(i),o=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/o,.75*t*(""+n).length)}tT.id="category",tT.defaults={ticks:{callback:tT.prototype.getLabelForValue}};class nT extends rp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Fn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=f=>r=e?r:f,d=f=>o=i?o:f;if(t){const f=lc(r),g=lc(o);f<0&&g<0?d(0):f>0&&g>0&&l(0)}if(r===o){let f=1;(o>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(.05*o)),d(o+f),t||l(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const l=function nH(n,t){const e=[],{bounds:r,step:o,min:l,max:d,precision:f,count:g,maxTicks:v,maxDigits:w,includeBounds:D}=n,A=o||1,P=v-1,{min:F,max:Z}=t,Y=!Fn(l),se=!Fn(d),xe=!Fn(g),be=(Z-F)/(w+1);let Ge,Ke,ut,mt,Se=Tk((Z-F)/P/A)*A;if(Se<1e-14&&!Y&&!se)return[{value:F},{value:Z}];mt=Math.ceil(Z/Se)-Math.floor(F/Se),mt>P&&(Se=Tk(mt*Se/P/A)*A),Fn(f)||(Ge=Math.pow(10,f),Se=Math.ceil(Se*Ge)/Ge),"ticks"===r?(Ke=Math.floor(F/Se)*Se,ut=Math.ceil(Z/Se)*Se):(Ke=F,ut=Z),Y&&se&&o&&function NF(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((d-l)/o,Se/1e3)?(mt=Math.round(Math.min((d-l)/Se,v)),Se=(d-l)/mt,Ke=l,ut=d):xe?(Ke=Y?l:Ke,ut=se?d:ut,mt=g-1,Se=(ut-Ke)/mt):(mt=(ut-Ke)/Se,mt=Kv(mt,Math.round(mt),Se/1e3)?Math.round(mt):Math.ceil(mt));const $t=Math.max(Ik(Se),Ik(Ke));Ge=Math.pow(10,Fn(f)?$t:f),Ke=Math.round(Ke*Ge)/Ge,ut=Math.round(ut*Ge)/Ge;let yn=0;for(Y&&(D&&Ke!==l?(e.push({value:l}),Ke<l&&yn++,Kv(Math.round((Ke+yn*Se)*Ge)/Ge,l,T1(l,be,n))&&yn++):Ke<l&&yn++);yn<mt;++yn)e.push({value:Math.round((Ke+yn*Se)*Ge)/Ge});return se&&D&&ut!==d?e.length&&Kv(e[e.length-1].value,d,T1(d,be,n))?e[e.length-1].value=d:e.push({value:d}):(!se||ut===d)&&e.push({value:ut}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Sk(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return rb(t,this.chart.options.locale,this.options.ticks.format)}}class wx extends nT{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=cr(t)?t:0,this.max=cr(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=cl(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function S1(n){return n/Math.pow(10,Math.floor(Ia(n)))==1}wx.id="linear",wx.defaults={ticks:{callback:jE.formatters.numeric}};class Cx extends rp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=nT.prototype.parse.apply(this,[t,e]);if(0!==i)return cr(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=cr(t)?Math.max(0,t):null,this.max=cr(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=f=>i=t?i:f,l=f=>r=e?r:f,d=(f,g)=>Math.pow(10,Math.floor(Ia(f))+g);i===r&&(i<=0?(o(1),l(10)):(o(d(i,-1)),l(d(r,1)))),i<=0&&o(d(r,-1)),r<=0&&l(d(i,1)),this._zero&&this.min!==this._suggestedMin&&i===d(this.min,0)&&o(d(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function iH(n,t){const e=Math.floor(Ia(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let o=Ta(n.min,Math.pow(10,Math.floor(Ia(t.min)))),l=Math.floor(Ia(o)),d=Math.floor(o/Math.pow(10,l)),f=l<0?Math.pow(10,Math.abs(l)):1;do{r.push({value:o,major:S1(o)}),++d,10===d&&(d=1,++l,f=l>=0?1:f),o=Math.round(d*Math.pow(10,l)*f)/f}while(l<e||l===e&&d<i);const g=Ta(n.max,o);return r.push({value:g,major:S1(o)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Sk(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":rb(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ia(t),this._valueRange=Ia(this.max)-Ia(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ia(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Ex(n){const t=n.ticks;if(t.display&&n.display){const e=gs(t.backdropPadding);return an(t.font&&t.font.size,Mn.font.size)+e.height}return 0}function rH(n,t,e){return e=_i(e)?e:[e],{w:f2(n,t.string,e),h:e.length*t.lineHeight}}function I1(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function oH(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let d=0,f=0;i.start<t.l?(d=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-d)):i.end>t.r&&(d=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+d)),r.start<t.t?(f=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function lH(n){return 0===n||180===n?"center":n<180?"left":"right"}function cH(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function uH(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function D1(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,si);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}Cx.id="logarithmic",Cx.defaults={ticks:{callback:jE.formatters.logarithmic,major:{enabled:!0}}};class pb extends nT{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=gs(Ex(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=cr(t)&&!isNaN(t)?t:0,this.max=cr(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ex(this.options))}generateTickLabels(t){nT.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=yi(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function sH(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,d=l.centerPointLabels?Ri/o:0;for(let f=0;f<o;f++){const g=l.setContext(n.getPointLabelContext(f));r[f]=g.padding;const v=n.getPointPosition(f,n.drawingArea+r[f],d),w=Ir(g.font),D=rH(n.ctx,w,n._pointLabels[f]);i[f]=D;const A=xo(n.getIndexAngle(f)+d),P=Math.round(BA(A));oH(e,t,A,I1(P,v.x,D.w,0,180),I1(P,v.y,D.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function aH(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,l=Ex(o)/2,d=n.drawingArea,f=o.pointLabels.centerPointLabels?Ri/r:0;for(let g=0;g<r;g++){const v=n.getPointPosition(g,d+l+e[g],f),w=Math.round(BA(xo(v.angle+Xi))),D=t[g],A=uH(v.y,D.h,w),P=lH(w),F=cH(v.x,D.w,P);i.push({x:v.x,y:A,textAlign:P,left:F,top:A,right:F+D.w,bottom:A+D.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return xo(t*(si/(this._pointLabels.length||1))+cl(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Fn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Fn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function fH(n,t,e){return oh(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Xi+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),D1(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,o=this._pointLabels.length;let l,d,f;if(e.pointLabels.display&&function dH(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=i.setContext(n.getPointLabelContext(r)),l=Ir(o.font),{x:d,y:f,textAlign:g,left:v,top:w,right:D,bottom:A}=n._pointLabelItems[r],{backdropColor:P}=o;if(!Fn(P)){const F=ep(o.borderRadius),Z=gs(o.backdropPadding);e.fillStyle=P;const Y=v-Z.left,se=w-Z.top,xe=D-v+Z.width,be=A-w+Z.height;Object.values(F).some(Se=>0!==Se)?(e.beginPath(),nb(e,{x:Y,y:se,w:xe,h:be,radius:F}),e.fill()):e.fillRect(Y,se,xe,be)}Xf(e,n._pointLabels[r],d,f+l.lineHeight/2,l,{color:o.color,textAlign:g,textBaseline:"middle"})}}(this,o),r.display&&this.ticks.forEach((g,v)=>{0!==v&&(d=this.getDistanceFromCenterForValue(g.value),function hH(n,t,e,i){const r=n.ctx,o=t.circular,{color:l,lineWidth:d}=t;!o&&!i||!l||!d||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=d,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),D1(n,e,o,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(v-1)),d,o))}),i.display){for(t.save(),l=o-1;l>=0;l--){const g=i.setContext(this.getPointLabelContext(l)),{color:v,lineWidth:w}=g;!w||!v||(t.lineWidth=w,t.strokeStyle=v,t.setLineDash(g.borderDash),t.lineDashOffset=g.borderDashOffset,d=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),f=this.getPointPosition(l,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,f)=>{if(0===f&&!e.reverse)return;const g=i.setContext(this.getContext(f)),v=Ir(g.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=v.string,l=t.measureText(d.label).width,t.fillStyle=g.backdropColor;const w=gs(g.backdropPadding);t.fillRect(-l/2-w.left,-o-v.size/2-w.top,l+w.width,v.size+w.height)}Xf(t,d.label,0,-o,v,{color:g.color})}),t.restore()}drawTitle(){}}pb.id="radialLinear",pb.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:jE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},pb.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},pb.descriptors={angleLines:{_fallback:"grid"}};const iT={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ks=Object.keys(iT);function pH(n,t){return n-t}function A1(n,t){if(Fn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return"function"==typeof i&&(l=i(l)),cr(l)||(l="string"==typeof i?e.parse(l,i):e.parse(l)),null===l?null:(r&&(l="week"!==r||!Sm(o)&&!0!==o?e.startOf(l,r):e.startOf(l,"isoWeek",o)),+l)}function x1(n,t,e,i){const r=Ks.length;for(let o=Ks.indexOf(n);o<r-1;++o){const l=iT[Ks[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(d*l.size))<=i)return Ks[o]}return Ks[r-1]}function M1(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=jA(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function P1(n,t,e){const i=[],r={},o=t.length;let l,d;for(l=0;l<o;++l)d=t[l],r[d]=l,i.push({value:d,major:!1});return 0!==o&&e?function _H(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let d,f;for(d=o;d<=l;d=+r.add(d,1,i))f=e[d],f>=0&&(t[f].major=!0);return t}(n,i,r,e):i}let Tx=(()=>{class n extends rp{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const r=e.time||(e.time={}),o=this._adapter=new nV._date(e.adapters.date);o.init(i),Gv(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:A1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:o,max:l,minDefined:d,maxDefined:f}=this.getUserBounds();function g(v){!d&&!isNaN(v.min)&&(o=Math.min(o,v.min)),!f&&!isNaN(v.max)&&(l=Math.max(l,v.max))}(!d||!f)&&(g(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&g(this.getMinMax(!1))),o=cr(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),l=cr(l)&&!isNaN(l)?l:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,o="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,f=function VF(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(o,l,this.max);return this._unit=i.unit||(r.autoSkip?x1(i.minUnit,this.min,this.max,this._getLabelCapacity(l)):function gH(n,t,e,i,r){for(let o=Ks.length-1;o>=Ks.indexOf(e);o--){const l=Ks[o];if(iT[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Ks[e?Ks.indexOf(e):0]}(this,f.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function mH(n){for(let t=Ks.indexOf(n)+1,e=Ks.length;t<e;++t)if(iT[Ks[t]].common)return Ks[t]}(this._unit):void 0,this.initOffsets(o),e.reverse&&f.reverse(),P1(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let o,l,i=0,r=0;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),i=1===e.length?1-o:(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),r=1===e.length?l:(l-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;i=Br(i,0,d),r=Br(r,0,d),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,o=this.options,l=o.time,d=l.unit||x1(l.minUnit,i,r,this._getLabelCapacity(i)),f=an(l.stepSize,1),g="week"===d&&l.isoWeekday,v=Sm(g)||!0===g,w={};let A,P,D=i;if(v&&(D=+e.startOf(D,"isoWeek",g)),D=+e.startOf(D,v?"day":d),e.diff(r,i,d)>1e5*f)throw new Error(i+" and "+r+" are too far apart with stepSize of "+f+" "+d);const F="data"===o.ticks.source&&this.getDataTimestamps();for(A=D,P=0;A<r;A=+e.add(A,f,d),P++)M1(w,A,F);return(A===r||"ticks"===o.bounds||1===P)&&M1(w,A,F),Object.keys(w).sort((Z,Y)=>Z-Y).map(Z=>+Z)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,i,r,o){const l=this.options,d=l.time.displayFormats,f=this._unit,g=this._majorUnit,w=g&&d[g],D=r[i],P=this._adapter.format(e,o||(g&&w&&D&&D.major?w:f&&d[f])),F=l.ticks.callback;return F?yi(F,[P,i,r],this):P}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,o=cl(this.isHorizontal()?i.maxRotation:i.minRotation),l=Math.cos(o),d=Math.sin(o),f=this._resolveTickFontOptions(0).size;return{w:r*l+f*d,h:r*d+f*l}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,l=this._tickFormatFunction(e,0,P1(this,[e],this._majorUnit),o),d=this._getLabelSize(l),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(A1(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mk(e.sort(pH))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function rT(n,t,e){let o,l,d,f,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=vu(n,"pos",t)),({pos:o,time:d}=n[i]),({pos:l,time:f}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=vu(n,"time",t)),({time:o,pos:d}=n[i]),({time:l,pos:f}=n[r]));const g=l-o;return g?d+(f-d)*(t-o)/g:d}class Sx extends Tx{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rT(e,this.min),this._tableRange=rT(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,d,f,g,v;for(l=0,d=t.length;l<d;++l)g=t[l],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,d=r.length;l<d;++l)v=r[l+1],f=r[l-1],g=r[l],Math.round((v+f)/2)!==g&&o.push({time:g,pos:l/(d-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(rT(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return rT(this._table,i*this._tableRange+this._minPos,!0)}}Sx.id="timeseries",Sx.defaults=Tx.defaults;const k1=[tV,fB,JB,Object.freeze({__proto__:null,CategoryScale:tT,LinearScale:wx,LogarithmicScale:Cx,RadialLinearScale:pb,TimeScale:Tx,TimeSeriesScale:Sx})];class vH{constructor(t,e){this.name=t,this.time=e}}let bH=(()=>{class n{constructor(e){this.db=e,this.dbPath="/points",this.pointsRef=e.list(this.dbPath)}postPoint(e){return this.pointsRef.push(e)}getPoints(){return this.pointsRef.valueChanges()}undo(){this.pointsRef.query.limitToLast(1).get().then(e=>{e.forEach(i=>{new Date(i.val().time).toDateString()==(new Date).toDateString()&&i.ref.remove()})})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Nv))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wH(n,t){1&n&&(u.O4$(),u.TgZ(0,"svg",29),u._UZ(1,"path",30),u.qZA())}function CH(n,t){if(1&n&&(u.TgZ(0,"div",24),u.YNc(1,wH,2,0,"svg",28),u.qZA()),2&n){const e=t.$implicit,i=u.oxw(2);u.xp6(1),u.Q6J("ngIf",e.name==i.users[0].name)}}function EH(n,t){1&n&&(u.O4$(),u.TgZ(0,"svg",29),u._UZ(1,"path",30),u.qZA())}function TH(n,t){if(1&n&&(u.TgZ(0,"div",26),u.YNc(1,EH,2,0,"svg",28),u.qZA()),2&n){const e=t.$implicit,i=u.oxw(2);u.xp6(1),u.Q6J("ngIf",e.name==i.users[1].name)}}function SH(n,t){if(1&n&&(u.O4$(),u.kcU(),u.TgZ(0,"div",23)(1,"div",24),u._uU(2,"Micha\u0142"),u.qZA(),u.YNc(3,CH,2,1,"div",25),u.TgZ(4,"div",26),u._uU(5,"Sebastian"),u.qZA(),u.YNc(6,TH,2,1,"div",27),u.qZA()),2&n){const e=u.oxw();u.xp6(3),u.Q6J("ngForOf",e.pointsToday),u.xp6(3),u.Q6J("ngForOf",e.pointsToday)}}function IH(n,t){if(1&n&&(u.TgZ(0,"div",31),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e," ")}}function DH(n,t){if(1&n&&(u.TgZ(0,"div",32),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.value," ")}}function AH(n,t){if(1&n&&(u.TgZ(0,"div",33),u._uU(1),u.qZA()),2&n){const e=t.$implicit;u.xp6(1),u.hij(" ",e.value," ")}}let xH=(()=>{class n{constructor(e,i){this.pointsService=e,this.auth=i,this.title="pong",this.pointsToday=[],this.allPoints=[],this.chart=null,this.cumulativeChart=null,this.daysPlayed=[],this.users=[{name:"Micha\u0142",borderColor:"rgba(66, 135, 245, 1)",backgroundColor:"rgba(66, 135, 245, 0.5)",points:0,pointsByDay:[]},{name:"Sebastian",borderColor:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(255, 255, 255, 0.5)",points:0,pointsByDay:[]}],ah.register(...k1)}ngOnInit(){var e=this;return(0,po.Z)(function*(){const i=document.getElementById("chart"),r=document.getElementById("cumulativeChart");e.pointsService.getPoints().subscribe(o=>{var l,d;e.pointsToday=o.filter(v=>new Date(v.time).toDateString()===(new Date).toDateString()),e.users.forEach(v=>{v.points=e.pointsToday.filter(w=>w.name==v.name).length}),e.allPoints=o.filter(v=>new Date(v.time).getFullYear()===(new Date).getFullYear());var f=[],g=[];e.users.forEach(v=>{var w={fill:!1,label:v.name,backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:2,data:[]},D={fill:!1,label:v.name,backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:2,data:[]},A={};for(var P in e.allPoints.filter(F=>F.name==v.name).forEach(F=>{var Z=A[new Date(F.time).toDateString()];A[new Date(F.time).toDateString()]=Z?Z+1:1}),v.pointsByDay=[],A)v.pointsByDay.push({date:P,value:A[P]}),w.data.push({x:P,y:A[P]}),D.data.push({x:P,y:A[P]+(0==D.data.length?0:D.data[D.data.length-1].y)});f.push(w),g.push(D)}),null===(l=e.chart)||void 0===l||l.destroy(),e.chart=new ah(i,{type:"line",data:{datasets:f},options:{maintainAspectRatio:!1,parsing:{xAxisKey:"x",yAxisKey:"y"},scales:{y:{min:0,ticks:{color:"#bbb"}},x:{ticks:{color:"#bbb"}}},plugins:{legend:{title:{display:!1},labels:{color:"#bbb",font:{size:15}}}}}}),null===(d=e.cumulativeChart)||void 0===d||d.destroy(),e.cumulativeChart=new ah(r,{type:"line",data:{datasets:g},options:{maintainAspectRatio:!1,parsing:{xAxisKey:"x",yAxisKey:"y"},scales:{y:{min:0,ticks:{color:"#bbb"}},x:{ticks:{color:"#bbb"}}},plugins:{legend:{title:{display:!1},labels:{color:"#bbb",font:{size:15}}}}}}),e.daysPlayed=e.users[0].pointsByDay.map(v=>new Date(v.date).getDate()+"."+(new Date(v.date).getMonth()+1)+"."+new Date(v.date).getFullYear()),e.users[1].pointsByDay.length>e.daysPlayed.length&&(e.daysPlayed=e.users[1].pointsByDay.map(v=>new Date(v.date)))})})()}newPoint(e){var i=this;return(0,po.Z)(function*(){i.auth.user$.pipe(Oi()).subscribe(r=>{null==r?i.auth.login():i.pointsService.postPoint(new vH(e,(new Date).toISOString())).then(o=>console.log(o))})})()}undo(){var e=this;return(0,po.Z)(function*(){e.auth.user$.pipe(Oi()).subscribe(i=>{null==i?e.auth.login():e.pointsService.undo()})})()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(bH),u.Y36(uA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-points-tracker"]],decls:36,vars:10,consts:[[1,"main-content"],[1,"button-first",3,"click"],[1,"button-inside","button-inside-first"],[1,"name"],[1,"point-count"],[1,"button-second",3,"click"],[1,"button-inside","button-inside-second"],[1,"button-undo",3,"click"],["width","70px","height","70px","viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg"],["d","M240,424V328c116.4,0,159.39,33.76,208,96,0-119.23-39.57-240-208-240V88L64,256Z",1,"icon-undo"],["class","serves-table",4,"ngIf"],[1,"charts"],[1,"chart-content"],[1,"chart-container"],["id","chart"],["id","cumulativeChart"],[1,"points-table"],[1,"points-first-column","points-table-header"],[1,"points-second-column","points-table-header"],[1,"points-third-column","points-table-header"],["class","points-first-column",4,"ngFor","ngForOf"],["class","points-second-column",4,"ngFor","ngForOf"],["class","points-third-column",4,"ngFor","ngForOf"],[1,"serves-table"],[1,"serves-table-first-row"],["class","serves-table-first-row",4,"ngFor","ngForOf"],[1,"serves-table-second-row"],["class","serves-table-second-row",4,"ngFor","ngForOf"],["width","24px","height","24px","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","24px","height","24px","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","d","M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z",1,"icon-cross"],[1,"points-first-column"],[1,"points-second-column"],[1,"points-third-column"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(){return i.newPoint(i.users[0].name)}),u.TgZ(2,"div",2)(3,"div",3),u._uU(4),u.qZA(),u.TgZ(5,"div",4),u._uU(6),u.qZA()()(),u.TgZ(7,"button",5),u.NdJ("click",function(){return i.newPoint(i.users[1].name)}),u.TgZ(8,"div",6)(9,"div",3),u._uU(10),u.qZA(),u.TgZ(11,"div",4),u._uU(12),u.qZA()()(),u.TgZ(13,"button",7),u.NdJ("click",function(){return i.undo()}),u.O4$(),u.TgZ(14,"svg",8)(15,"title"),u._uU(16,"ionicons-v5-b"),u.qZA(),u._UZ(17,"path",9),u.qZA()()(),u.YNc(18,SH,7,2,"div",10),u.kcU(),u.TgZ(19,"div",11)(20,"div",12)(21,"div",13),u._UZ(22,"canvas",14),u.qZA()(),u.TgZ(23,"div",12)(24,"div",13),u._UZ(25,"canvas",15),u.qZA()()(),u.TgZ(26,"div",16)(27,"div",17),u._uU(28,"Date"),u.qZA(),u.TgZ(29,"div",18),u._uU(30),u.qZA(),u.TgZ(31,"div",19),u._uU(32),u.qZA(),u.YNc(33,IH,2,1,"div",20),u.YNc(34,DH,2,1,"div",21),u.YNc(35,AH,2,1,"div",22),u.qZA()),2&e&&(u.xp6(4),u.hij(" ",i.users[0].name," "),u.xp6(2),u.hij(" ",i.users[0].points," "),u.xp6(4),u.hij(" ",i.users[1].name," "),u.xp6(2),u.hij(" ",i.users[1].points," "),u.xp6(6),u.Q6J("ngIf",i.pointsToday.length>0),u.xp6(12),u.hij(" ",i.users[0].name," "),u.xp6(2),u.Oqu(i.users[1].name),u.xp6(1),u.Q6J("ngForOf",i.daysPlayed),u.xp6(1),u.Q6J("ngForOf",i.users[0].pointsByDay),u.xp6(1),u.Q6J("ngForOf",i.users[1].pointsByDay))},dependencies:[Pi,Mr],styles:[".points-table[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding:1rem;width:55rem;display:grid;grid-template-columns:1.5fr 1fr 1fr;flex-direction:column;grid-auto-flow:column;justify-content:center;margin-bottom:3rem;font-size:2.5rem;grid-gap:1rem;box-shadow:0 .5rem 1rem .1rem #eeeeee03}@media (max-width: 37.5em){.points-table[_ngcontent-%COMP%]{width:35rem;font-size:2rem}}.points-table-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(238,238,238,.1)}.points-first-column[_ngcontent-%COMP%]{grid-column:1}.points-second-column[_ngcontent-%COMP%]{grid-column:2}.points-third-column[_ngcontent-%COMP%]{grid-column:3}.serves-table[_ngcontent-%COMP%]{margin:0 5rem 5rem;display:grid;grid-template-rows:5rem 5rem;font-size:2rem}@media (max-width: 37.5em){.serves-table[_ngcontent-%COMP%]{overflow:scroll}}.serves-table-first-row[_ngcontent-%COMP%]{grid-row:1}.serves-table-second-row[_ngcontent-%COMP%]{grid-row:2}.charts[_ngcontent-%COMP%]{display:flex;align-items:stretch;flex-direction:row;margin-inline:max(2rem,50% - 50rem);flex-direction:column;max-width:100rem}@media (max-aspect-ratio: 1/1){.charts[_ngcontent-%COMP%]{flex-direction:column}}.chart-content[_ngcontent-%COMP%]{flex:1;height:50vh;margin-bottom:5rem}.chart-container[_ngcontent-%COMP%]{position:relative;height:50vh}.main-content[_ngcontent-%COMP%]{position:relative;height:100vh;width:100vw}.button-undo[_ngcontent-%COMP%]{transition:all .4s;position:absolute;right:4rem;top:2.5rem;background-color:transparent;border:none}.button-undo[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.button-first[_ngcontent-%COMP%]{transition:all .2s;color:inherit;background-color:transparent;border:none;width:50vw;height:100vh;background-color:#333;clip-path:polygon(5% 10%,90% 10%,100% 90%,5% 90%)}.button-first[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.button-first[_ngcontent-%COMP%]:active{transform:scale(1.04)}@media (max-aspect-ratio: 1/1){.button-first[_ngcontent-%COMP%]{width:100vw;height:45vh;clip-path:polygon(10% 10%,90% 10%,90% 90%,10% 100%)}}.button-second[_ngcontent-%COMP%]{transition:all .2s;color:inherit;background-color:transparent;border:none;width:50vw;height:100vh;background-color:#333;clip-path:polygon(0% 10%,95% 10%,95% 90%,10% 90%)}.button-second[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.button-second[_ngcontent-%COMP%]:active{transform:scale(1.04)}@media (max-aspect-ratio: 1/1){.button-second[_ngcontent-%COMP%]{width:100vw;height:45vh;clip-path:polygon(10% 10%,90% 0%,90% 90%,10% 90%)}}.name[_ngcontent-%COMP%]{font-size:3rem;font-weight:300;letter-spacing:-2px;margin-bottom:-3rem}.point-count[_ngcontent-%COMP%]{font-size:18rem;font-weight:300}.button-inside[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;align-items:center;justify-content:center}@media (max-aspect-ratio: 1/1){.button-inside-first[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-top:5rem}}.button-inside-first[_ngcontent-%COMP%]{clip-path:polygon(5% 10%,90% 10%,100% 90%,5% 90%)}@media (max-aspect-ratio: 1/1){.button-inside-first[_ngcontent-%COMP%]{width:100vw;height:45vh;clip-path:polygon(10% 10%,90% 10%,90% 90%,10% 100%)}}.button-inside-second[_ngcontent-%COMP%]{clip-path:polygon(0% 10%,95% 10%,95% 90%,10% 90%)}@media (max-aspect-ratio: 1/1){.button-inside-second[_ngcontent-%COMP%]{width:100vw;height:45vh;clip-path:polygon(10% 10%,90% 0%,90% 90%,10% 90%)}}.icon-undo[_ngcontent-%COMP%]{fill:none;stroke:#bbb;stroke-linejoin:round;stroke-width:32px}.icon-cross[_ngcontent-%COMP%]{stroke:#bbb;fill:#bbb}"]}),n})(),MH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo,js.hO.initializeApp(Tm.firebase),Ul.forChild([{path:"pong",component:xH}])]}),n})();const PH=[];let kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ul.forRoot(PH),Ul]}),n})();function OH(n,t){1&n&&(u.TgZ(0,"button",17),u._uU(1," Recipes "),u.qZA())}function RH(n,t){1&n&&(u.TgZ(0,"button",18),u._uU(1," Italian "),u.qZA())}function NH(n,t){1&n&&(u.TgZ(0,"button",19),u._uU(1," Notes "),u.qZA())}function LH(n,t){1&n&&(u.TgZ(0,"button",20),u._uU(1," Strava "),u.qZA())}function FH(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li",15)(1,"button",21),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.toggleMenu())}),u._uU(2," Italian "),u.qZA()()}}function UH(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li",15)(1,"button",22),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.toggleMenu())}),u._uU(2," Recipes "),u.qZA()()}}function VH(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li",15)(1,"button",23),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.toggleMenu())}),u._uU(2," Notes "),u.qZA()()}}function BH(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"li",15)(1,"button",24),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.toggleMenu())}),u._uU(2," Strava "),u.qZA()()}}let HH=(()=>{class n{constructor(e){this.title="ciszyn-github-io",this.menuActive=!1,this.user$=e.user$}toggleMenu(){this.menuActive=!this.menuActive}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(uA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:32,vars:25,consts:[["rel","shortcut icon","href","android-chrome-512x512.png"],[1,"page"],[1,"main-nav"],["routerLink","",1,"button","button--main"],[1,"other-options"],["class","button button--others","routerLink","recipes",4,"ngIf"],["class","button button--others","routerLink","notes/dictionary",4,"ngIf"],["routerLink","pong",1,"button","button--others"],["class","button button--others","routerLink","randomNotes",4,"ngIf"],["class","button button--others","routerLink","strava",4,"ngIf"],[1,"menu-button",3,"click"],[1,"menu-icon"],[1,"navigation"],[1,"navigation-list"],["class","navigation-item",4,"ngIf"],[1,"navigation-item"],["routerLink","pong",1,"button","button--others",3,"click"],["routerLink","recipes",1,"button","button--others"],["routerLink","notes/dictionary",1,"button","button--others"],["routerLink","randomNotes",1,"button","button--others"],["routerLink","strava",1,"button","button--others"],["routerLink","notes/dictionary",1,"button","button--others",3,"click"],["routerLink","recipes",1,"button","button--others",3,"click"],["routerLink","randomNotes",1,"button","button--others",3,"click"],["routerLink","strava",1,"button","button--others",3,"click"]],template:function(e,i){if(1&e&&(u._UZ(0,"link",0),u.TgZ(1,"div",1)(2,"nav",2)(3,"button",3),u._uU(4,"Micha\u0142 Ciszy\u0144ski"),u.qZA(),u.TgZ(5,"div",4),u.YNc(6,OH,2,0,"button",5),u.ALo(7,"async"),u.YNc(8,RH,2,0,"button",6),u.ALo(9,"async"),u.TgZ(10,"button",7),u._uU(11,"Ping pong"),u.qZA(),u.YNc(12,NH,2,0,"button",8),u.ALo(13,"async"),u.YNc(14,LH,2,0,"button",9),u.ALo(15,"async"),u.TgZ(16,"div",10),u.NdJ("click",function(){return i.toggleMenu()}),u._UZ(17,"div",11),u.qZA(),u.TgZ(18,"nav",12)(19,"ul",13),u.YNc(20,FH,3,0,"li",14),u.ALo(21,"async"),u.YNc(22,UH,3,0,"li",14),u.ALo(23,"async"),u.TgZ(24,"li",15)(25,"button",16),u.NdJ("click",function(){return i.toggleMenu()}),u._uU(26," Ping pong "),u.qZA()(),u.YNc(27,VH,3,0,"li",14),u.ALo(28,"async"),u.YNc(29,BH,3,0,"li",14),u.ALo(30,"async"),u.qZA()()()(),u._UZ(31,"router-outlet"),u.qZA()),2&e){let r,o,l,d,f,g,v,w;u.xp6(6),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(r=u.lcZ(7,9,i.user$))?null:r.uid)),u.xp6(2),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(o=u.lcZ(9,11,i.user$))?null:o.uid)),u.xp6(4),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(l=u.lcZ(13,13,i.user$))?null:l.uid)),u.xp6(2),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(d=u.lcZ(15,15,i.user$))?null:d.uid)),u.xp6(4),u.Q6J("@menuTriggered",i.menuActive?"opened":"closed"),u.xp6(2),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(f=u.lcZ(21,17,i.user$))?null:f.uid)),u.xp6(2),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(g=u.lcZ(23,19,i.user$))?null:g.uid)),u.xp6(5),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(v=u.lcZ(28,21,i.user$))?null:v.uid)),u.xp6(2),u.Q6J("ngIf","3dX5m7yG4RStAqweGMXyABECgpI3"==(null==(w=u.lcZ(30,23,i.user$))?null:w.uid))}},dependencies:[Mr,e_,Vp,Wt],styles:['.menu-button[_ngcontent-%COMP%]{z-index:2000;height:3rem;width:3rem;cursor:pointer;overflow:visible;display:none}@media only screen and (max-width: 56.25em){.menu-button[_ngcontent-%COMP%]{display:block}}.menu-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.menu-button[_ngcontent-%COMP%]:focus, .menu-button[_ngcontent-%COMP%]:active{background-color:#333}.menu-icon[_ngcontent-%COMP%]{position:relative}.menu-icon[_ngcontent-%COMP%], .menu-icon[_ngcontent-%COMP%]:before, .menu-icon[_ngcontent-%COMP%]:after{width:3rem;height:2px;background-color:#bbb;display:inline-block}.menu-icon[_ngcontent-%COMP%]:before, .menu-icon[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;transition:all .2s}.menu-icon[_ngcontent-%COMP%]:before{top:-.9rem}.menu-icon[_ngcontent-%COMP%]:after{top:.9rem}.navigation[_ngcontent-%COMP%]{height:100vh;width:100vw;position:absolute;top:0;z-index:1500;background-color:#222;background-image:linear-gradient(45deg,#222,#333)}.navigation-list[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);list-style:none;text-align:center;width:100%}.navigation-item[_ngcontent-%COMP%]{padding:5rem}.navigation-item[_ngcontent-%COMP%]:hover{text-decoration:underline}.page[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-nav[_ngcontent-%COMP%]{padding:1rem 3rem 1rem 2rem;font-size:2rem;border-bottom:1px solid #777;display:flex;flex-direction:row;justify-content:space-between}.button[_ngcontent-%COMP%]{background-color:transparent;font-size:2rem;border-style:none;color:inherit}.button[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.button--others[_ngcontent-%COMP%]:not(:last-child){margin-right:3rem}@media only screen and (max-width: 56.25em){.button--others[_ngcontent-%COMP%]:not(:last-child){display:none}}.other-options[_ngcontent-%COMP%]{display:flex}'],data:{animation:[fN("menuTriggered",[PP("opened",uE({left:0})),PP("closed",uE({right:"100vw"})),kP("opened => closed",[xP(".3s")]),kP("closed => opened",[xP(".3s")])])]}}),n})();var jH=V(8554);class Ix{constructor(t){return t}}class R1{constructor(){return(0,di.vb)("auth")}}const Dx=new u.OlP("angularfire2.auth-instances");function zH(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Ix(i)}}const WH={provide:R1,deps:[[new u.FiY,Dx]]},ZH={provide:Ix,useFactory:function $H(n,t){const e=(0,di.JM)("auth",n,t);return e&&new Ix(e)},deps:[[new u.FiY,Dx],gu]};let GH=(()=>{class n{constructor(){(0,pu.KN)("angularfire",di.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ZH,WH]}),n})();function qH(n,...t){return{ngModule:GH,providers:[{provide:Dx,useFactory:zH(n),multi:!0,deps:[u.R0b,u.zs3,di.HU,fv,[new u.FiY,jf],...t]}]}}const KH=(0,di.u3)(jH.n,!0);class Ax{constructor(t){return t}}const N1="database",xx=new u.OlP("angularfire2.database-instances");function JH(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Ax(i)}}const XH={provide:class YH{constructor(){return(0,di.vb)(N1)}},deps:[[new u.FiY,xx]]},ej={provide:Ax,useFactory:function QH(n,t){const e=(0,di.JM)(N1,n,t);return e&&new Ax(e)},deps:[[new u.FiY,xx],gu]};let tj=(()=>{class n{constructor(){(0,pu.KN)("angularfire",di.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[ej,XH]}),n})();function nj(n,...t){return{ngModule:tj,providers:[{provide:xx,useFactory:JH(n),multi:!0,deps:[u.R0b,u.zs3,di.HU,fv,[new u.FiY,R1],[new u.FiY,jf],...t]}]}}const ij=(0,di.u3)(lv,!0);var rj=V(5386);let sj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-homepage"]],decls:30,vars:0,consts:[[1,"container"],[1,"background"],[1,"description"],[1,"name"],["href","https://github.com/ciszyn",1,"link"],["height","32","width","32","aria-hidden","true","viewBox","0 0 16 16","version","1.1","width","32","data-view-component","true",1,"logo"],["fill-rule","evenodd","fill","currentColor","d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"],[1,"sitename"],["href","mailto:michal.ciszyn@gmail.com",1,"link"],["version","1.1","width","32","height","32","id","Capa_2","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 2327.7 1652.7",0,"xml","space","preserve",1,"logo",2,"enable-background","new 0 0 2327.7 1652.7"],["type","text/css"],["d","M2136.3,294v161.5l-453.8,346.8V224.6c43-32.6,102.9-77.5,149.3-112.2c68.3-51.2,164.4-49.2,227.6,8.1\n           C2106.6,163.4,2136.3,225.2,2136.3,294z",1,"st0"],["d","M2136.3,455.5v984c0,75.2-61,136.2-136.2,136.2h-317.7V802.3L2136.3,455.5z",1,"st1"],["points","1682.4,224.6 1682.4,802.3 1138.1,1218.1 593.7,802.3 593.7,224.6 1138.1,637.4 \t",1,"st2"],["d","M593.7,224.6v577.7L139.8,455.5V294c0-68.8,29.7-130.6,76.9-173.6C280,63.2,376,61.2,444.4,112.4\n           C490.7,147,550.6,192,593.7,224.6z",1,"st3"],["d","M593.7,802.3v773.3H276c-75.2,0-136.2-61-136.2-136.2v-984L593.7,802.3z",1,"st4"],["href","https://www.linkedin.com/in/ciszyn/",1,"link"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","data-supported-dps","24x24","fill","currentColor","width","32","height","32","focusable","false",1,"logo"],["d","M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u._uU(4," Micha\u0142 Ciszy\u0144ski "),u.qZA(),u.TgZ(5,"div")(6,"a",4),u.O4$(),u.TgZ(7,"svg",5),u._UZ(8,"path",6),u.qZA(),u.kcU(),u.TgZ(9,"span",7),u._uU(10," Github "),u.qZA()()(),u.TgZ(11,"div")(12,"a",8),u.O4$(),u.TgZ(13,"svg",9)(14,"style",10),u._uU(15," .st0{fill:currentColor;} .st1{fill:currentColor;} .st2{fill:currentColor;} .st3{fill:currentColor;} .st4{fill:currentColor;} "),u.qZA(),u.TgZ(16,"g"),u._UZ(17,"path",11)(18,"path",12)(19,"polygon",13)(20,"path",14)(21,"path",15),u.qZA()(),u.kcU(),u.TgZ(22,"span",7),u._uU(23," Gmail "),u.qZA()()(),u.TgZ(24,"div")(25,"a",16),u.O4$(),u.TgZ(26,"svg",17),u._UZ(27,"path",18),u.qZA(),u.kcU(),u.TgZ(28,"span",7),u._uU(29," LinkedIn "),u.qZA()()()()()())},styles:[".container[_ngcontent-%COMP%]{height:95vh}.background[_ngcontent-%COMP%]{height:100%;background-image:linear-gradient(to right bottom,rgba(51,51,51,.7),rgba(51,51,51,.7)),url(/assets/forest.jpg);background-size:cover;background-position:top;position:relative;overflow:hidden}.description[_ngcontent-%COMP%]{letter-spacing:3px;position:absolute;right:30rem;top:15rem;font-size:8rem}@media only screen and (max-width: 56.25em){.description[_ngcontent-%COMP%]{position:static;margin:10rem;font-size:5rem}}@media only screen and (max-width: 37.5em){.description[_ngcontent-%COMP%]{font-size:4rem;margin:5rem}}.name[_ngcontent-%COMP%]{margin-bottom:3rem}.logo[_ngcontent-%COMP%]{margin-right:2rem}.link[_ngcontent-%COMP%]{color:inherit;font:inherit;font-size:5rem;text-decoration:none;display:flex;align-items:center}.link[_ngcontent-%COMP%]   .sitename[_ngcontent-%COMP%]{border-bottom:transparent 3px solid}.link[_ngcontent-%COMP%]:hover   .sitename[_ngcontent-%COMP%]{border-bottom:#bbb 3px solid}@media only screen and (max-width: 37.5em){.link[_ngcontent-%COMP%]{font-size:3rem}}"]}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo,Ul.forChild([{path:"",component:sj}])]}),n})();class L1{}class F1{}class _s{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof _s?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new _s;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof _s?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(d=>-1===o.indexOf(d)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class aj{encodeKey(t){return U1(t)}encodeValue(t){return U1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const cj=/%(\d[a-f0-9])/gi,uj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U1(n){return encodeURIComponent(n).replace(cj,(t,e)=>{var i;return null!==(i=uj[e])&&void 0!==i?i:t})}function sT(n){return`${n}`}class Mo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new aj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lj(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,d]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],f=e.get(l)||[];f.push(d),e.set(l,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(sT):[sT(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Mo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(sT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(sT(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class dj{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function V1(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function B1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function H1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class gb{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function hj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new _s),this.context||(this.context=new dj),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+l}}else this.params=new Mo,this.urlWithParams=e}serializeBody(){return null===this.body?null:V1(this.body)||B1(this.body)||H1(this.body)||function fj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||H1(this.body)?null:B1(this.body)?this.body.type||null:V1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,v=t.params||this.params;const w=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((D,A)=>D.set(A,t.setHeaders[A]),g)),t.setParams&&(v=Object.keys(t.setParams).reduce((D,A)=>D.set(A,t.setParams[A]),v)),new gb(i,r,l,{params:v,headers:g,context:w,reportProgress:f,responseType:o,withCredentials:d})}}var mr=(()=>((mr=mr||{})[mr.Sent=0]="Sent",mr[mr.UploadProgress=1]="UploadProgress",mr[mr.ResponseHeader=2]="ResponseHeader",mr[mr.DownloadProgress=3]="DownloadProgress",mr[mr.Response=4]="Response",mr[mr.User=5]="User",mr))();class Mx{constructor(t,e=200,i="OK"){this.headers=t.headers||new _s,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Px extends Mx{constructor(t={}){super(t),this.type=mr.ResponseHeader}clone(t={}){return new Px({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class oT extends Mx{constructor(t={}){super(t),this.type=mr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new oT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class j1 extends Mx{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function kx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ox=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof gb)o=e;else{let f,g;f=r.headers instanceof _s?r.headers:new _s(r.headers),r.params&&(g=r.params instanceof Mo?r.params:new Mo({fromObject:r.params})),o=new gb(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=(0,at.of)(o).pipe(or(f=>this.handler.handle(f)));if(e instanceof gb||"events"===r.observe)return l;const d=l.pipe(k(f=>f instanceof oT));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,yt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,yt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,yt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,yt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Mo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,kx(r,i))}post(e,i,r={}){return this.request("POST",e,kx(r,i))}put(e,i,r={}){return this.request("PUT",e,kx(r,i))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(L1))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class $1{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Rx=new u.OlP("HTTP_INTERCEPTORS");let pj=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const gj=/^\)\]\}',?\n/;let z1=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qr.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((A,P)=>r.setRequestHeader(A,P.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const A=e.detectContentTypeHeader();null!==A&&r.setRequestHeader("Content-Type",A)}if(e.responseType){const A=e.responseType.toLowerCase();r.responseType="json"!==A?A:"text"}const o=e.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const A=r.statusText||"OK",P=new _s(r.getAllResponseHeaders()),F=function mj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return l=new Px({headers:P,status:r.status,statusText:A,url:F}),l},f=()=>{let{headers:A,status:P,statusText:F,url:Z}=d(),Y=null;204!==P&&(Y=void 0===r.response?r.responseText:r.response),0===P&&(P=Y?200:0);let se=P>=200&&P<300;if("json"===e.responseType&&"string"==typeof Y){const xe=Y;Y=Y.replace(gj,"");try{Y=""!==Y?JSON.parse(Y):null}catch(be){Y=xe,se&&(se=!1,Y={error:be,text:Y})}}se?(i.next(new oT({body:Y,headers:A,status:P,statusText:F,url:Z||void 0})),i.complete()):i.error(new j1({error:Y,headers:A,status:P,statusText:F,url:Z||void 0}))},g=A=>{const{url:P}=d(),F=new j1({error:A,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});i.error(F)};let v=!1;const w=A=>{v||(i.next(d()),v=!0);let P={type:mr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),"text"===e.responseType&&!!r.responseText&&(P.partialText=r.responseText),i.next(P)},D=A=>{let P={type:mr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(P.total=A.total),i.next(P)};return r.addEventListener("load",f),r.addEventListener("error",g),r.addEventListener("timeout",g),r.addEventListener("abort",g),e.reportProgress&&(r.addEventListener("progress",w),null!==o&&r.upload&&r.upload.addEventListener("progress",D)),r.send(o),i.next({type:mr.Sent}),()=>{r.removeEventListener("error",g),r.removeEventListener("abort",g),r.removeEventListener("load",f),r.removeEventListener("timeout",g),e.reportProgress&&(r.removeEventListener("progress",w),null!==o&&r.upload&&r.upload.removeEventListener("progress",D)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(no))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Nx=new u.OlP("XSRF_COOKIE_NAME"),Lx=new u.OlP("XSRF_HEADER_NAME");class W1{}let _j=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ir(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(we),u.LFG(u.Lbi),u.LFG(Nx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fx=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(W1),u.LFG(Lx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yj=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Rx,[]);this.chain=i.reduceRight((r,o)=>new $1(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(F1),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),vj=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Fx,useClass:pj}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Nx,useValue:e.cookieName}:[],e.headerName?{provide:Lx,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Fx,{provide:Rx,useExisting:Fx,multi:!0},{provide:W1,useClass:_j},{provide:Nx,useValue:"XSRF-TOKEN"},{provide:Lx,useValue:"X-XSRF-TOKEN"}]}),n})(),bj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Ox,{provide:L1,useClass:yj},z1,{provide:F1,useExisting:z1}],imports:[vj.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var mb=V(655);class Cj{call(t,e){return e.subscribe(new Ej(t))}}class Ej extends ta{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const o=na(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let r=0;r<this.subscriptions.length;r++)if(r!==i){let o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)}}class Sj{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Ij(t,this.dueTime,this.scheduler))}}class Ij extends Hi.L{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Dj,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Dj(n){n.debouncedNext()}function Z1(n){return n instanceof Date&&!isNaN(+n)}var G1=V(9312);function Ux(n,t=md.P){const i=Z1(n)?+n-t.now():Math.abs(n);return r=>r.lift(new Aj(i,t))}class Aj{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Vx(t,this.delay,this.scheduler))}}class Vx extends Hi.L{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,r=t.scheduler,o=t.destination;for(;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const l=Math.max(0,i[0].time-r.now());this.schedule(t,l)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Vx.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new xj(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(G1.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(G1.P.createComplete()),this.unsubscribe()}}class xj{constructor(t,e){this.time=t,this.notification=e}}const Mj=(()=>{function n(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return n.prototype=Object.create(Error.prototype),n})();class kj{constructor(t,e,i,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=i,this.scheduler=r}call(t,e){return e.subscribe(new Bx(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Bx extends Er.Ds{constructor(t,e,i,r,o){super(t),this.absoluteTimeout=e,this.waitFor=i,this.withObservable=r,this.scheduler=o,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add((0,Er.ft)(e,new Er.IY(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Bx.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}class q1{validateSignature(t){return Promise.resolve(null)}validateAtHash(t){return Promise.resolve(!0)}}class K1{}class Hx{}let Rj=(()=>{class n extends Hx{now(){return Date.now()}new(){return new Date}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Y1{}class jx{}let Nj=(()=>{class n{constructor(){this.data=new Map}getItem(e){return this.data.get(e)}removeItem(e){this.data.delete(e)}setItem(e,i){this.data.set(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class $x{constructor(t){this.type=t}}class Po extends $x{constructor(t,e=null){super(t),this.info=e}}class Eu extends $x{constructor(t,e=null){super(t),this.info=e}}class ur extends $x{constructor(t,e,i=null){super(t),this.reason=e,this.params=i}}function Q1(n){const t=n.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function zx(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class aT{constructor(t){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=e=>{location.href=e},t&&Object.assign(this,t)}}class _b{encodeKey(t){return encodeURIComponent(t)}encodeValue(t){return encodeURIComponent(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}class J1{}let X1=(()=>{class n{getHashFragmentParams(e){let i=e||window.location.hash;if(i=decodeURIComponent(i),0!==i.indexOf("#"))return{};const r=i.indexOf("?");return i=i.substr(r>-1?r+1:1),this.parseQueryString(i)}parseQueryString(e){const i={};let r,o,l,d,f,g,v;if(null===e)return i;r=e.split("&");for(let w=0;w<r.length;w++)o=r[w],l=o.indexOf("="),-1===l?(d=o,f=null):(d=o.substr(0,l),f=o.substr(l+1)),g=decodeURIComponent(d),v=decodeURIComponent(f),"/"===g.substr(0,1)&&(g=g.substr(1)),i[g]=v;return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Fj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Wx(n,t,e,i,r){let o,l,d,f,g,v,w,D,A,P,F,Z,Y;for(;r>=64;){for(o=t[0],l=t[1],d=t[2],f=t[3],g=t[4],v=t[5],w=t[6],D=t[7],P=0;P<16;P++)F=i+4*P,n[P]=(255&e[F])<<24|(255&e[F+1])<<16|(255&e[F+2])<<8|255&e[F+3];for(P=16;P<64;P++)A=n[P-2],Z=(A>>>17|A<<15)^(A>>>19|A<<13)^A>>>10,A=n[P-15],Y=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,n[P]=(Z+n[P-7]|0)+(Y+n[P-16]|0);for(P=0;P<64;P++)Z=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&v^~g&w)|0)+(D+(Fj[P]+n[P]|0)|0)|0,Y=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&l^o&d^l&d)|0,D=w,w=v,v=g,g=f+Z|0,f=d,d=l,l=o,o=Z+Y|0;t[0]+=o,t[1]+=l,t[2]+=d,t[3]+=f,t[4]+=g,t[5]+=v,t[6]+=w,t[7]+=D,i+=64,r-=64}return i}class lT{constructor(){this.digestLength=32,this.blockSize=64,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(let t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()}update(t,e=t.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let i=0;if(this.bytesHashed+=e,this.bufferLength>0){for(;this.bufferLength<64&&e>0;)this.buffer[this.bufferLength++]=t[i++],e--;64===this.bufferLength&&(Wx(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(e>=64&&(i=Wx(this.temp,this.state,t,i,e),e%=64);e>0;)this.buffer[this.bufferLength++]=t[i++],e--;return this}finish(t){if(!this.finished){const e=this.bytesHashed,i=this.bufferLength,r=e/536870912|0,o=e<<3,l=e%64<56?64:128;this.buffer[i]=128;for(let d=i+1;d<l-8;d++)this.buffer[d]=0;this.buffer[l-8]=r>>>24&255,this.buffer[l-7]=r>>>16&255,this.buffer[l-6]=r>>>8&255,this.buffer[l-5]=r>>>0&255,this.buffer[l-4]=o>>>24&255,this.buffer[l-3]=o>>>16&255,this.buffer[l-2]=o>>>8&255,this.buffer[l-1]=o>>>0&255,Wx(this.temp,this.state,this.buffer,0,l),this.finished=!0}for(let e=0;e<8;e++)t[4*e+0]=this.state[e]>>>24&255,t[4*e+1]=this.state[e]>>>16&255,t[4*e+2]=this.state[e]>>>8&255,t[4*e+3]=this.state[e]>>>0&255;return this}digest(){const t=new Uint8Array(this.digestLength);return this.finish(t),t}_saveState(t){for(let e=0;e<this.state.length;e++)t[e]=this.state[e]}_restoreState(t,e){for(let i=0;i<this.state.length;i++)this.state[i]=t[i];this.bytesHashed=e,this.finished=!1,this.bufferLength=0}}new Uint8Array(32);class tR{}let zj=(()=>{class n{calcHash(e,i){return(0,mb.mG)(this,void 0,void 0,function*(){return function $j(n){var t,e=[];for(t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}(function Uj(n){const t=(new lT).update(n),e=t.digest();return t.clean(),e}(function jj(n){if("string"!=typeof n)throw new TypeError("expected string");var t,e=n,i=new Uint8Array(e.length);for(t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}(e)))})}toHashString2(e){let i="";for(let r of e)i+=String.fromCharCode(r);return i}toHashString(e){const i=new Uint8Array(e);let r="";for(let o of i)r+=String.fromCharCode(o);return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),cT=(()=>{class n extends aT{constructor(e,i,r,o,l,d,f,g,v,w){var D;super(),this.ngZone=e,this.http=i,this.config=l,this.urlHelper=d,this.logger=f,this.crypto=g,this.dateTimeService=w,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new wr.xQ,this.discoveryDocumentLoadedSubject=new wr.xQ,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=v,l||(l={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),l&&this.configure(l);try{r?this.setStorage(r):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(A){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",A)}if(this.checkLocalStorageAccessable()){const A=null===(D=null==window?void 0:window.navigator)||void 0===D?void 0:D.userAgent;((null==A?void 0:A.includes("MSIE "))||(null==A?void 0:A.includes("Trident")))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if("undefined"==typeof window)return!1;const e="test";try{return void 0!==window.localStorage&&(localStorage.setItem(e,e),localStorage.removeItem(e),!0)}catch(i){return!1}}configure(e){Object.assign(this,new aT,e),this.config=Object.assign({},new aT,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(k(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},i,r=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe((0,Ln.b)(l=>{"token_received"===l.type?o=!0:"logout"===l.type&&(o=!1)}),k(l=>"token_expires"===l.type&&(null==i||"any"===i||l.info===i)),function Tj(n,t=md.P){return e=>e.lift(new Sj(n,t))}(1e3)).subscribe(l=>{o&&this.refreshInternal(e,r).catch(d=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,i){return this.useSilentRefresh||"code"!==this.responseType?this.silentRefresh(e,i):this.refreshToken()}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(i=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e=e||{}).then(i=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initLoginFlow("string"==typeof e.state?e.state:""),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(this.logger,e)}validateUrlFromDiscoveryDocument(e){const i=[],r=this.validateUrlForHttps(e),o=this.validateUrlAgainstIssuer(e);return r||i.push("https for all urls required. Also for urls received by discovery."),o||i.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),i}validateUrlForHttps(e){if(!e)return!0;const i=e.toLowerCase();return!(!1!==this.requireHttps&&(!i.match(/^http:\/\/localhost($|[:\/])/)&&!i.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps))||i.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(e,i){if(!e)throw new Error(`'${i}' should not be null`);if(!this.validateUrlForHttps(e))throw new Error(`'${i}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?((this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(k(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),i=this.getAccessTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=(0,at.of)(new Eu("token_expires","access_token")).pipe(Ux(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),i=this.getIdTokenStoredAt(),r=this.calcTimeout(i,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=(0,at.of)(new Eu("token_expires","id_token")).pipe(Ux(r)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(e,i){const r=this.dateTimeService.now(),l=Math.max(0,(i-e)*this.timeoutFactor-(r-e)),d=2147483647;return l>d?d:l}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((i,r)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(o=>{if(!this.validateDiscoveryDocument(o))return this.eventsSubject.next(new ur("discovery_document_validation_error",null)),void r("discovery_document_validation_error");this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(l=>{const f=new Po("discovery_document_loaded",{discoveryDocument:o,jwks:l});this.eventsSubject.next(f),i(f)}).catch(l=>{this.eventsSubject.next(new ur("discovery_document_load_error",l)),r(l)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new ur("discovery_document_load_error",o)),r(o)}):r("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).")})}loadJwks(){return new Promise((e,i)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(r=>{this.jwks=r,e(r)},r=>{this.logger.error("error loading jwks",r),this.eventsSubject.next(new ur("jwks_load_error",r)),i(r)}):e(null)})}validateDiscoveryDocument(e){let i;return this.skipIssuerCheck||e.issuer===this.issuer?(i=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),i.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),i.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.token_endpoint),i.length>0&&this.logger.error("error validating token_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.revocation_endpoint),i.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",i),i=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),i.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",i),!1):(i=this.validateUrlFromDiscoveryDocument(e.jwks_uri),i.length>0?(this.logger.error("error validating jwks_uri in discovery document",i),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,i,r=new _s){return this.fetchTokenUsingPasswordFlow(e,i,r).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((e,i)=>{const r=(new _s).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:r,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let l=JSON.parse(o.body);const d=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!d.sub||l.sub!==d.sub))return void i("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false");l=Object.assign({},d,l),this._storage.setItem("id_token_claims_obj",JSON.stringify(l)),this.eventsSubject.next(new Po("user_profile_loaded")),e({info:l})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Po("user_profile_loaded")),e(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new ur("user_profile_load_error",o)),i(o)})})}fetchTokenUsingPasswordFlow(e,i,r=new _s){return this.fetchTokenUsingGrant("password",{username:e,password:i},r)}fetchTokenUsingGrant(e,i,r=new _s){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Mo({encoder:new _b}).set("grant_type",e).set("scope",this.scope);if(this.useHttpBasicAuth){const l=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const l of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(l,this.customQueryParams[l]);for(const l of Object.keys(i))o=o.set(l,i[l]);return r=r.set("Content-Type","application/x-www-form-urlencoded"),new Promise((l,d)=>{this.http.post(this.tokenEndpoint,o,{headers:r}).subscribe(f=>{this.debug("tokenResponse",f),this.storeAccessTokenResponse(f.access_token,f.refresh_token,f.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f.scope,this.extractRecognizedCustomParameters(f)),this.oidc&&f.id_token&&this.processIdToken(f.id_token,f.access_token).then(g=>{this.storeIdToken(g),l(f)}),this.eventsSubject.next(new Po("token_received")),l(f)},f=>{this.logger.error("Error performing ${grantType} flow",f),this.eventsSubject.next(new ur("token_error",f)),d(f)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((e,i)=>{let r=new Mo({encoder:new _b}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=(new _s).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const l=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const l of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(l,this.customQueryParams[l]);this.http.post(this.tokenEndpoint,r,{headers:o}).pipe(xn(l=>this.oidc&&l.id_token?(0,Hn.D)(this.processIdToken(l.id_token,l.access_token,!0)).pipe((0,Ln.b)(d=>this.storeIdToken(d)),(0,yt.U)(d=>l)):(0,at.of)(l))).subscribe(l=>{this.debug("refresh tokenResponse",l),this.storeAccessTokenResponse(l.access_token,l.refresh_token,l.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l.scope,this.extractRecognizedCustomParameters(l)),this.eventsSubject.next(new Po("token_received")),this.eventsSubject.next(new Po("token_refreshed")),e(l)},l=>{this.logger.error("Error refreshing token",l),this.eventsSubject.next(new ur("token_refresh_error",l)),i(l)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const i=this.processMessageEventMessage(e);this.checkOrigin&&e.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:i,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(r=>this.debug("tryLogin during silent refresh failed",r))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},i=!0){const r=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(void 0===this.document)throw new Error("silent refresh is not supported on this platform");const o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=r.sub;const l=this.document.createElement("iframe");return l.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,i,e).then(w=>{l.setAttribute("src",w),this.silentRefreshShowIFrame||(l.style.display="none"),this.document.body.appendChild(l)}),function wj(...n){if(1===n.length){if(!(0,ns.k)(n[0]))return n[0];n=n[0]}return(0,qi.n)(n,void 0).lift(new Cj)}([this.events.pipe(k(w=>w instanceof ur),Oi()),this.events.pipe(k(w=>"token_received"===w.type),Oi()),(0,at.of)(new ur("silent_refresh_timeout",null)).pipe(Ux(this.silentRefreshTimeout))]).pipe((0,yt.U)(w=>{if(w instanceof ur)throw"silent_refresh_timeout"===w.type||(w=new ur("silent_refresh_error",w)),this.eventsSubject.next(w),w;return"token_received"===w.type&&(w=new Po("silently_refreshed"),this.eventsSubject.next(w)),w})).toPromise()}initImplicitFlowInPopup(e){return this.initLoginFlowInPopup(e)}initLoginFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(i=>new Promise((r,o)=>{let f,d=null;e.windowRef?e.windowRef&&!e.windowRef.closed&&(d=e.windowRef,d.location.href=i):d=window.open(i,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(e));const g=P=>{this.tryLogin({customHashFragment:P,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{w(),r(!0)},F=>{w(),o(F)})};d?f=window.setInterval(()=>{(!d||d.closed)&&(w(),o(new ur("popup_closed",{})))},500):o(new ur("popup_blocked",{}));const w=()=>{window.clearInterval(f),window.removeEventListener("storage",A),window.removeEventListener("message",D),null!==d&&d.close(),d=null},D=P=>{const F=this.processMessageEventMessage(P);F&&null!==F?(window.removeEventListener("storage",A),g(F)):console.log("false event firing")},A=P=>{"auth_hash"===P.key&&(window.removeEventListener("message",D),g(P.newValue))};window.addEventListener("message",D),window.addEventListener("storage",A)}))}calculatePopupFeatures(e){const i=e.height||470,r=e.width||500,o=window.screenLeft+(window.outerWidth-r)/2;return`location=no,toolbar=no,width=${r},height=${i},top=${window.screenTop+(window.outerHeight-i)/2},left=${o}`}processMessageEventMessage(e){let i="#";if(this.silentRefreshMessagePrefix&&(i+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const r=e.data;return r.startsWith(i)?"#"+r.substr(i.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?void 0!==this.document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const i=e.origin.toLowerCase(),r=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),r.startsWith(i)){switch(e.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)}else this.debug("sessionCheckEventListener","wrong origin",i,"expected",r,"event",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Eu("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Eu("session_changed")),this.stopSessionCheckTimer(),this.useSilentRefresh||"code"!==this.responseType?this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Eu("session_terminated")),this.logOut(!0)):this.refreshToken().then(e=>{this.debug("token refresh after session change worked")}).catch(e=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Eu("session_terminated")),this.logOut(!0)})}waitForSilentRefreshAfterSessionChange(){this.events.pipe(k(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),Oi()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Eu("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Eu("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=this.document.getElementById(this.sessionCheckIFrameName);e&&this.document.body.removeChild(e);const i=this.document.createElement("iframe");i.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),i.setAttribute("src",this.sessionCheckIFrameUrl),i.style.display="none",this.document.body.appendChild(i),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=this.document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const i=this.getSessionState();i||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+i,this.issuer)}createLoginUrl(e="",i="",r="",o=!1,l={}){return(0,mb.mG)(this,void 0,void 0,function*(){const d=this;let f;f=r||this.redirectUri;const g=yield this.createAndSaveNonce();if(e=e?g+this.config.nonceStateSeparator+encodeURIComponent(e):g,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const v=d.loginUrl.indexOf("?")>-1?"&":"?";let w=d.scope;this.oidc&&!w.match(/(^|\s)openid($|\s)/)&&(w="openid "+w);let D=d.loginUrl+v+"response_type="+encodeURIComponent(d.responseType)+"&client_id="+encodeURIComponent(d.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(f)+"&scope="+encodeURIComponent(w);if(this.responseType.includes("code")&&!this.disablePKCE){const[A,P]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("PKCE_verifier",P):this._storage.setItem("PKCE_verifier",P),D+="&code_challenge="+A,D+="&code_challenge_method=S256"}i&&(D+="&login_hint="+encodeURIComponent(i)),d.resource&&(D+="&resource="+encodeURIComponent(d.resource)),d.oidc&&(D+="&nonce="+encodeURIComponent(g)),o&&(D+="&prompt=none");for(const A of Object.keys(l))D+="&"+encodeURIComponent(A)+"="+encodeURIComponent(l[A]);if(this.customQueryParams)for(const A of Object.getOwnPropertyNames(this.customQueryParams))D+="&"+A+"="+encodeURIComponent(this.customQueryParams[A]);return D})}initImplicitFlowInternal(e="",i=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(l=>{console.error("Error in initImplicitFlow",l),this.inImplicitFlow=!1})}initImplicitFlow(e="",i=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,i):this.events.pipe(k(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initImplicitFlowInternal(e,i))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const i=this;if(e.onTokenReceived){const r={idClaims:i.getIdentityClaims(),idToken:i.getIdToken(),accessToken:i.getAccessToken(),state:i.state};e.onTokenReceived(r)}}storeAccessTokenResponse(e,i,r,o,l){if(this._storage.setItem("access_token",e),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),r){const d=1e3*r,g=this.dateTimeService.new().getTime()+d;this._storage.setItem("expires_at",""+g)}i&&this._storage.setItem("refresh_token",i),l&&l.forEach((d,f)=>{this._storage.setItem(f,d)})}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow(e).then(i=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(e=null){return(0,mb.mG)(this,void 0,void 0,function*(){const i=(e=e||{}).customHashFragment?e.customHashFragment.substring(1):window.location.search,r=this.getCodePartsFromUrl(i),o=r.code,l=r.state,d=r.session_state;if(!e.preventClearHashAfterLogin){const v=location.origin+location.pathname+location.search.replace(/code=[^&\$]*/,"").replace(/scope=[^&\$]*/,"").replace(/state=[^&\$]*/,"").replace(/session_state=[^&\$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,v)}let[f,g]=this.parseState(l);if(this.state=g,r.error){this.debug("error trying to login"),this.handleLoginError(e,r);const v=new ur("code_error",{},r);return this.eventsSubject.next(v),Promise.reject(v)}if(!e.disableNonceCheck){if(!f)return this.saveRequestedRoute(),Promise.resolve();if(!e.disableOAuth2StateCheck&&!this.validateNonce(f)){const w=new ur("invalid_nonce_in_state",null);return this.eventsSubject.next(w),Promise.reject(w)}}return this.storeSessionState(d),o&&(yield this.getTokenFromCode(o,e),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){const e=this._storage.getItem("requested_route");e&&history.replaceState(null,"",window.location.origin+e)}getCodePartsFromUrl(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):this.urlHelper.getHashFragmentParams()}getTokenFromCode(e,i){let r=new Mo({encoder:new _b}).set("grant_type","authorization_code").set("code",e).set("redirect_uri",i.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;o=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("PKCE_verifier"):this._storage.getItem("PKCE_verifier"),o?r=r.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(r,i)}fetchAndProcessToken(e,i){i=i||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let r=(new _s).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const o=btoa(`${this.clientId}:${this.dummyClientSecret}`);r=r.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((o,l)=>{if(this.customQueryParams)for(let d of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(d,this.customQueryParams[d]);this.http.post(this.tokenEndpoint,e,{headers:r}).subscribe(d=>{this.debug("refresh tokenResponse",d),this.storeAccessTokenResponse(d.access_token,d.refresh_token,d.expires_in||this.fallbackAccessTokenExpirationTimeInSec,d.scope,this.extractRecognizedCustomParameters(d)),this.oidc&&d.id_token?this.processIdToken(d.id_token,d.access_token,i.disableNonceCheck).then(f=>{this.storeIdToken(f),this.eventsSubject.next(new Po("token_received")),this.eventsSubject.next(new Po("token_refreshed")),o(d)}).catch(f=>{this.eventsSubject.next(new ur("token_validation_error",f)),console.error("Error validating tokens"),console.error(f),l(f)}):(this.eventsSubject.next(new Po("token_received")),this.eventsSubject.next(new Po("token_refreshed")),o(d))},d=>{console.error("Error getting token",d),this.eventsSubject.next(new ur("token_refresh_error",d)),l(d)})})}tryLoginImplicitFlow(e=null){let i;i=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",i);const r=i.state;let[o,l]=this.parseState(r);if(this.state=l,i.error){this.debug("error trying to login"),this.handleLoginError(e,i);const w=new ur("token_error",{},i);return this.eventsSubject.next(w),Promise.reject(w)}const d=i.access_token,f=i.id_token,g=i.session_state,v=i.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!d||this.requestAccessToken&&!e.disableOAuth2StateCheck&&!r||this.oidc&&!f)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!g&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableNonceCheck&&!this.validateNonce(o)){const D=new ur("invalid_nonce_in_state",null);return this.eventsSubject.next(D),Promise.reject(D)}return this.requestAccessToken&&this.storeAccessTokenResponse(d,null,i.expires_in||this.fallbackAccessTokenExpirationTimeInSec,v),this.oidc?this.processIdToken(f,d,e.disableNonceCheck).then(w=>e.validationHandler?e.validationHandler({accessToken:d,idClaims:w.idTokenClaims,idToken:w.idToken,state:r}).then(D=>w):w).then(w=>(this.storeIdToken(w),this.storeSessionState(g),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Po("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(w=>(this.eventsSubject.next(new ur("token_validation_error",w)),this.logger.error("Error validating tokens"),this.logger.error(w),Promise.reject(w))):(this.eventsSubject.next(new Po("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let i=e,r="";if(e){const o=e.indexOf(this.config.nonceStateSeparator);o>-1&&(i=e.substr(0,o),r=e.substr(o+this.config.nonceStateSeparator.length))}return[i,r]}validateNonce(e){let i;return i=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),i===e||(console.error("Validating access_token failed, wrong state/nonce.",i,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,i){e.onLoginError&&e.onLoginError(i),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(e=6e5){return this.clockSkewInSec||0===this.clockSkewInSec?1e3*this.clockSkewInSec:e}processIdToken(e,i,r=!1){const o=e.split("."),d=Q1(this.padBase64(o[0])),f=JSON.parse(d),v=Q1(this.padBase64(o[1])),w=JSON.parse(v);let D;if(D=this.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.getItem("nonce"):this._storage.getItem("nonce"),Array.isArray(w.aud)){if(w.aud.every(se=>se!==this.clientId)){const se="Wrong audience: "+w.aud.join(",");return this.logger.warn(se),Promise.reject(se)}}else if(w.aud!==this.clientId){const se="Wrong audience: "+w.aud;return this.logger.warn(se),Promise.reject(se)}if(!w.sub){const se="No sub claim in id_token";return this.logger.warn(se),Promise.reject(se)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==w.sub){const se=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${w.sub}`;return this.logger.warn(se),Promise.reject(se)}if(!w.iat){const se="No iat claim in id_token";return this.logger.warn(se),Promise.reject(se)}if(!this.skipIssuerCheck&&w.iss!==this.issuer){const se="Wrong issuer: "+w.iss;return this.logger.warn(se),Promise.reject(se)}if(!r&&w.nonce!==D){const se="Wrong nonce: "+w.nonce;return this.logger.warn(se),Promise.reject(se)}if(this.hasOwnProperty("responseType")&&("code"===this.responseType||"id_token"===this.responseType)&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!w.at_hash){const se="An at_hash is needed!";return this.logger.warn(se),Promise.reject(se)}const A=this.dateTimeService.now(),P=1e3*w.iat,F=1e3*w.exp,Z=this.getClockSkewInMsec();if(P-Z>=A||F+Z-this.decreaseExpirationBySec<=A){const se="Token has expired";return console.error(se),console.error({now:A,issuedAtMSec:P,expiresAtMSec:F}),Promise.reject(se)}const Y={accessToken:i,idToken:e,jwks:this.jwks,idTokenClaims:w,idTokenHeader:f,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(Y).then(se=>({idToken:e,idTokenClaims:w,idTokenClaimsJson:v,idTokenHeader:f,idTokenHeaderJson:d,idTokenExpiresAt:F})):this.checkAtHash(Y).then(se=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!se){const xe="Wrong at_hash";return this.logger.warn(xe),Promise.reject(xe)}return this.checkSignature(Y).then(xe=>{const Se={idToken:e,idTokenClaims:w,idTokenClaimsJson:v,idTokenHeader:f,idTokenHeaderJson:d,idTokenExpiresAt:F};return this.disableAtHashCheck?Se:this.checkAtHash(Y).then(Ge=>{if(this.requestAccessToken&&!Ge){const Ke="Wrong at_hash";return this.logger.warn(Ke),Promise.reject(Ke)}return Se})})})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),i=this.dateTimeService.new();return!(e&&parseInt(e,10)-this.decreaseExpirationBySec<i.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(e){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(e)>=0&&null!==this._storage.getItem(e)?JSON.parse(this._storage.getItem(e)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e={},i=""){let r=!1;"boolean"==typeof e&&(r=e,e={});const o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(d=>this._storage.removeItem(d)),this.silentRefreshSubject=null,this.eventsSubject.next(new Eu("logout")),!this.logoutUrl||r)return;let l;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)l=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let d=new Mo({encoder:new _b});o&&(d=d.set("id_token_hint",o));const f=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";f&&(d=d.set("post_logout_redirect_uri",f),i&&(d=d.set("state",i)));for(let g in e)d=d.set(g,e[g]);l=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+d.toString()}this.config.openUri(l)}createAndSaveNonce(){const e=this;return this.createNonce().then(function(i){return e.saveNoncesInLocalStorage&&void 0!==window.localStorage?localStorage.setItem("nonce",i):e._storage.setItem("nonce",i),i})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();const e=this.document.getElementById(this.silentRefreshIFrameName);e&&e.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();const i=this.document.getElementById(this.sessionCheckIFrameName);i&&i.remove()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";let r=45,o="";const l="undefined"==typeof self?null:self.crypto||self.msCrypto;if(l){let d=new Uint8Array(r);l.getRandomValues(d),d.map||(d.map=Array.prototype.map),d=d.map(f=>i.charCodeAt(f%i.length)),o=String.fromCharCode.apply(null,d)}else for(;0<r--;)o+=i[Math.random()*i.length|0];e(zx(o))})}checkAtHash(e){return(0,mb.mG)(this,void 0,void 0,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",i={}){return"code"===this.responseType?this.initCodeFlow(e,i):this.initImplicitFlow(e,i)}initCodeFlow(e="",i={}){""!==this.loginUrl?this.initCodeFlowInternal(e,i):this.events.pipe(k(r=>"discovery_document_loaded"===r.type)).subscribe(r=>this.initCodeFlowInternal(e,i))}initCodeFlowInternal(e="",i={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let r={},o=null;"string"==typeof i?o=i:"object"==typeof i&&(r=i),this.createLoginUrl(e,o,null,!1,r).then(this.config.openUri).catch(l=>{console.error("Error in initAuthorizationCodeFlow"),console.error(l)})}createChallangeVerifierPairForPKCE(){return(0,mb.mG)(this,void 0,void 0,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const e=yield this.createNonce();return[zx(yield this.crypto.calcHash(e,"sha-256")),e]})}extractRecognizedCustomParameters(e){let i=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(r=>{e[r]&&i.set(r,JSON.stringify(e[r]))}),i}revokeTokenAndLogout(e={},i=!1){let r=this.revocationEndpoint,o=this.getAccessToken(),l=this.getRefreshToken();if(!o)return Promise.resolve();let d=new Mo({encoder:new _b}),f=(new _s).set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){const g=btoa(`${this.clientId}:${this.dummyClientSecret}`);f=f.set("Authorization","Basic "+g)}if(this.useHttpBasicAuth||(d=d.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(d=d.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const g of Object.getOwnPropertyNames(this.customQueryParams))d=d.set(g,this.customQueryParams[g]);return new Promise((g,v)=>{let w,D;if(o){let A=d.set("token",o).set("token_type_hint","access_token");w=this.http.post(r,A,{headers:f})}else w=(0,at.of)(null);if(l){let A=d.set("token",l).set("token_type_hint","refresh_token");D=this.http.post(r,A,{headers:f})}else D=(0,at.of)(null);i&&(w=w.pipe(Ki(A=>0===A.status?(0,at.of)(null):(0,Cr._)(A))),D=D.pipe(Ki(A=>0===A.status?(0,at.of)(null):(0,Cr._)(A)))),Rr([w,D]).subscribe(A=>{this.logOut(e),g(A),this.logger.info("Token successfully revoked")},A=>{this.logger.error("Error revoking token",A),this.eventsSubject.next(new ur("token_revoke_error",A)),v(A)})})}clearLocationHash(){""!=location.hash&&(location.hash="")}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.R0b),u.LFG(Ox),u.LFG(jx,8),u.LFG(J1,8),u.LFG(aT,8),u.LFG(X1),u.LFG(Y1),u.LFG(tR,8),u.LFG(we),u.LFG(Hx))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class nR{}class Wj{handleError(t){return(0,Cr._)(t)}}let Zj=(()=>{class n{constructor(e,i,r){this.oAuthService=e,this.errorHandler=i,this.moduleConfig=r}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(i=>e.toLowerCase().startsWith(i.toLowerCase()))}intercept(e,i){const r=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer&&this.checkUrl(r)?this.moduleConfig.resourceServer.sendAccessToken?(0,D_.T)((0,at.of)(this.oAuthService.getAccessToken()).pipe(k(l=>!!l)),this.oAuthService.events.pipe(k(l=>"token_received"===l.type),function Oj(n,t=md.P){return function Pj(n,t,e=md.P){return i=>{let r=Z1(n),o=r?+n-e.now():Math.abs(n);return i.lift(new kj(o,r,t,e))}}(n,(0,Cr._)(new Mj),t)}(this.oAuthService.waitForTokenInMsec||0),Ki(l=>(0,at.of)(null)),(0,yt.U)(l=>this.oAuthService.getAccessToken()))).pipe(Vs(1),(0,ye.zg)(l=>{if(l){const f=e.headers.set("Authorization","Bearer "+l);e=e.clone({headers:f})}return i.handle(e).pipe(Ki(d=>this.errorHandler.handleError(d)))})):i.handle(e).pipe(Ki(l=>this.errorHandler.handleError(l))):i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(cT),u.LFG(nR),u.LFG(K1,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Gj(){return console}function qj(){return"undefined"!=typeof sessionStorage?sessionStorage:new Nj}function Kj(n=null,t=q1){return[cT,X1,{provide:Y1,useFactory:Gj},{provide:jx,useFactory:qj},{provide:J1,useClass:t},{provide:tR,useClass:zj},{provide:nR,useClass:Wj},{provide:K1,useValue:n},{provide:Rx,useClass:Zj,multi:!0},{provide:Hx,useClass:Rj}]}let Yj=(()=>{class n{static forRoot(e=null,i=q1){return{ngModule:n,providers:[Kj(e,i)]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[eo]}),n})();function Jj(n,t){1&n&&(u.TgZ(0,"div",11),u._UZ(1,"spinner",12),u.qZA())}function Xj(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){u.CHM(e);const r=u.oxw();return u.KtG(r.logout())}),u._uU(1," Log out "),u.qZA()}}function e3(n,t){1&n&&(u.TgZ(0,"span"),u._uU(1,"0"),u.qZA())}function t3(n,t){1&n&&(u.TgZ(0,"span"),u._uU(1,"0"),u.qZA())}function n3(n,t){if(1&n&&(u.TgZ(0,"div",14)(1,"span",15),u._uU(2),u.YNc(3,e3,2,0,"span",16),u._uU(4),u.qZA(),u.TgZ(5,"span",17),u._uU(6),u.YNc(7,t3,2,0,"span",16),u._uU(8),u.qZA()()),2&n){const e=u.oxw();u.xp6(2),u.hij(" Mean: ",e.mean-e.mean%1,":"),u.xp6(1),u.Q6J("ngIf",e.mean%1*60<10),u.xp6(1),u.hij("",e.mean%1*60-e.mean%1*60%1," /km "),u.xp6(2),u.hij(" SD: ",e.std-e.std%1,":"),u.xp6(1),u.Q6J("ngIf",e.std%1*60<10),u.xp6(1),u.hij("",e.std%1*60-e.std%1*60%1," /km ")}}function i3(n,t){1&n&&(u.TgZ(0,"span"),u._uU(1,"0"),u.qZA())}function r3(n,t){if(1&n&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&n){const e=u.oxw().$implicit;u.xp6(1),u.hij(" ",e.elapsed_time/3600-e.elapsed_time/3600%1,"h ")}}function s3(n,t){1&n&&(u.TgZ(0,"div",30),u._UZ(1,"spinner",12),u.qZA())}function o3(n,t){if(1&n&&(u.TgZ(0,"div",26),u.YNc(1,s3,2,0,"div",27),u.TgZ(2,"div",28),u._UZ(3,"canvas",29),u.qZA()()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",e.loading_chart),u.xp6(1),u.Q6J("hidden",e.loading_chart)}}function a3(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",18),u.NdJ("click",function(){const o=u.CHM(e).$implicit,l=u.oxw();return u.KtG(l.onClick(o))}),u.TgZ(1,"div",19)(2,"div",20),u._uU(3),u.ALo(4,"date"),u.qZA()(),u.TgZ(5,"div",21)(6,"div",22),u._uU(7," Average Speed "),u.qZA(),u.TgZ(8,"div",20),u._uU(9),u.YNc(10,i3,2,0,"span",16),u._uU(11),u.qZA()(),u.TgZ(12,"div",23)(13,"div",22),u._uU(14," Distance "),u.qZA(),u.TgZ(15,"div",20),u._uU(16),u.qZA()(),u.TgZ(17,"div",24)(18,"div",22),u._uU(19," Duration "),u.qZA(),u.TgZ(20,"div",20),u.YNc(21,r3,2,1,"span",16),u._uU(22),u.qZA()(),u.YNc(23,o3,4,2,"div",25),u.qZA()}if(2&n){const e=t.$implicit,i=u.oxw();u.xp6(3),u.hij(" ",u.xi3(4,9,e.start_date,"hh:mm dd.MM.yyyy")," "),u.xp6(6),u.hij(" ",1/e.average_speed*1e3/60-1/e.average_speed*1e3/60%1,":"),u.xp6(1),u.Q6J("ngIf",1/e.average_speed*1e3/60%1*60<10),u.xp6(1),u.hij("",1/e.average_speed*1e3/60%1*60-1/e.average_speed*1e3/60%1*60%1," /km "),u.xp6(5),u.hij(" ",(e.distance/1e3).toFixed(2)," km "),u.xp6(5),u.Q6J("ngIf",e.elapsed_time>3600),u.xp6(1),u.AsE(" ",e.elapsed_time/60%60-e.elapsed_time/60%60%1,"m ",e.elapsed_time%60,"s "),u.xp6(1),u.Q6J("ngIf",i.selected_activity_id==e.id)}}function l3(n,t){1&n&&(u.TgZ(0,"div",31),u._UZ(1,"spinner",12),u.qZA())}new u.OlP("AUTH_CONFIG");let iR=(()=>{class n{constructor(e,i,r){this.oauthService=e,this.http=i,this.router=r,this.activities=[],this.selected_activity_id=-1,this.loading=!1,this.page_number=1,this.page_size=30,this.all_loaded=!1,this.chart=null,this.histogramChart=null,this.mean=0,this.std=0,this.loading_chart=!1,this.loading_page=!1,this.oauthService.getAccessToken()||(this.oauthService.configure(Tm.strava),this.oauthService.initCodeFlow()),ah.register(...k1)}ngOnInit(){this.loading_page=!0,this.http.get("https://www.strava.com/api/v3/athlete/activities").toPromise().then(e=>{this.activities=e;var i=this.activities.map(v=>1/v.average_speed*1e3/60);i.sort();var r=i[0],o=i[i.length-1],d=(o-r)/8,f=0,g=Array(8).fill(0);i.forEach(v=>{for(;v>r+(f+1)*d;)f++;g[f]++}),this.mean=i.reduce((v,w)=>v+w)/i.length,this.std=Math.sqrt(i.reduce((v,w)=>v+(w-this.mean)^2)/i.length),this.createHistogram(g,r,o),this.loading_page=!1})}ngOnDestroy(){var e;null===(e=this.chart)||void 0===e||e.destroy()}onScroll(e){e.target.offsetHeight+e.target.scrollTop>=.9*e.target.scrollHeight&&!this.loading&&!this.all_loaded&&(this.loading=!0,this.http.get("https://www.strava.com/api/v3/athlete/activities",{params:{page:++this.page_number}}).toPromise().then(i=>{0==i.length&&(this.all_loaded=!0),this.activities=this.activities.concat(i),this.loading=!1}))}onClick(e){var i;if(this.selected_activity_id==e.id)return this.selected_activity_id=-1,void(null===(i=this.chart)||void 0===i||i.destroy());this.selected_activity_id=e.id,this.loading_chart=!0,this.http.get("https://www.strava.com/api/v3/activities/"+e.id).toPromise().then(r=>{this.createChart(e=r),this.loading_chart=!1})}createChart(e){var i,r=0,o=0;e.splits_metric.forEach(f=>{o+=f.elapsed_time,f.cumulative_distance=r+=f.distance,f.cumulative_time=o});var l={fill:!1,label:"data",borderColor:"#bbb",borderWidth:2,data:e.splits_metric.map(f=>1/f.average_speed*100/6),tension:.3},d=document.getElementById("speed-chart");null===(i=this.chart)||void 0===i||i.destroy(),this.chart=new ah(d,{type:"line",data:{labels:e.splits_metric.map(f=>f.cumulative_time),datasets:[l]},options:{elements:{point:{radius:0}},maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{xAxes:{type:"linear",display:!1},y:{ticks:{callback:(f,g,v)=>{var w=parseFloat(f.toString()),D=w-w%1,A=60*(w-D);return(A-=A%1)<10?D+":0"+A:D+":"+A},color:"#bbb",font:{size:15}}}}}})}createHistogram(e,i,r){var o={fill:!1,label:"data",borderColor:"#bbb",backgroundColor:"#bbb",borderWidth:2,data:e,tension:.3,barPercentage:1,categoryPercentage:1},l=Array(e.length+1).fill(0).map((f,g)=>i+(g+.5)*(r-i)/e.length),d=document.getElementById("histogram-chart");this.histogramChart=new ah(d,{type:"line",data:{labels:l,datasets:[o]},options:{elements:{point:{radius:0}},maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{min:0,ticks:{color:"#bbb"}},x:{type:"linear",offset:!1,grid:{offset:!1},ticks:{stepSize:(r-i)/e.length,callback:(f,g,v)=>{var w=parseFloat(f.toString()),D=w-w%1,A=60*(w-D);return(A-=A%1)<10?D+":0"+A:D+":"+A},color:"#bbb"}}}}})}logout(){this.oauthService.logOut(),this.router.navigate(["/"])}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(cT),u.Y36(Ox),u.Y36(Ji))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-strava-viewer"]],decls:11,vars:5,consts:[["class","spinner-container main-spinner",4,"ngIf"],[1,"button-section"],["class","logout-button",3,"click",4,"ngIf"],[1,"scroller",3,"scroll"],[1,"scroller-inside"],[1,"histogram-chart-content"],["class","statistics",4,"ngIf"],[1,"histogram-chart-container"],["id","histogram-chart"],["class","activity",3,"click",4,"ngFor","ngForOf"],["class","spinner-container spinner-bottom",4,"ngIf"],[1,"spinner-container","main-spinner"],[1,"chart-spinner"],[1,"logout-button",3,"click"],[1,"statistics"],[1,"mean"],[4,"ngIf"],[1,"std"],[1,"activity",3,"click"],[1,"label","date"],[1,"value"],[1,"label","speed"],[1,"name"],[1,"label","distance"],[1,"label","duration"],["class","chart-content",4,"ngIf"],[1,"chart-content"],["class","spinner-container",4,"ngIf"],[1,"chart-container",3,"hidden"],["id","speed-chart"],[1,"spinner-container"],[1,"spinner-container","spinner-bottom"]],template:function(e,i){1&e&&(u.YNc(0,Jj,2,0,"div",0),u.TgZ(1,"div",1),u.YNc(2,Xj,2,0,"button",2),u.qZA(),u.TgZ(3,"div",3),u.NdJ("scroll",function(o){return i.onScroll(o)}),u.TgZ(4,"div",4)(5,"div",5),u.YNc(6,n3,9,6,"div",6),u.TgZ(7,"div",7),u._UZ(8,"canvas",8),u.qZA()(),u.YNc(9,a3,24,12,"div",9),u.YNc(10,l3,2,0,"div",10),u.qZA()()),2&e&&(u.Q6J("ngIf",i.loading_page),u.xp6(2),u.Q6J("ngIf",!i.loading_page),u.xp6(4),u.Q6J("ngIf",!i.loading_page),u.xp6(3),u.Q6J("ngForOf",i.activities),u.xp6(1),u.Q6J("ngIf",i.loading))},dependencies:[Pi,Mr,UA,fc],styles:[".activity[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;justify-items:center;padding:1rem 3rem 4rem;margin:2rem 5rem;background-color:#444;border-radius:1rem;font-size:3rem;grid-row-gap:1rem;transition:all .2s}.activity[_ngcontent-%COMP%]:hover{transform:scaleY(1.05) scaleX(1.01);cursor:pointer}@media only screen and (max-width: 37.5em){.activity[_ngcontent-%COMP%]{grid-template-columns:1fr;margin:2rem 1rem}}.scroller[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 9.4rem)}.scroller-inside[_ngcontent-%COMP%]{max-width:100rem;margin:0 auto}.chart-content[_ngcontent-%COMP%]{grid-column:1/4;width:100%;justify-self:stretch;margin-top:2rem;margin-bottom:2rem;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center}@media only screen and (max-width: 37.5em){.chart-content[_ngcontent-%COMP%]{grid-column:1/2}}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.spinner-bottom[_ngcontent-%COMP%]{margin-bottom:2rem}.chart-spinner[_ngcontent-%COMP%]{margin:0 auto}.main-spinner[_ngcontent-%COMP%]{margin-top:5rem}.label[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.label[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1.5rem;color:#aaa}.date[_ngcontent-%COMP%]{grid-column:1/4;justify-self:end;color:#aaa;font-size:1.2rem;margin-bottom:1rem}@media only screen and (max-width: 37.5em){.date[_ngcontent-%COMP%]{grid-column:1/2}}[_ngcontent-%COMP%]::-webkit-scrollbar{height:0}.histogram-chart-container[_ngcontent-%COMP%]{height:30vh}.histogram-chart-content[_ngcontent-%COMP%]{margin-bottom:5rem;position:relative}.statistics[_ngcontent-%COMP%]{position:absolute;font-size:3rem;right:5rem;top:1rem;display:flex;flex-direction:column;align-items:flex-end}@media only screen and (max-width: 37.5em){.statistics[_ngcontent-%COMP%]{font-size:2rem}}.button-section[_ngcontent-%COMP%]{text-align:right}.logout-button[_ngcontent-%COMP%]{background-color:transparent;font-size:2rem;border-style:none;color:inherit;cursor:pointer;padding:1rem 2rem;margin-right:4rem}@media only screen and (max-width: 37.5em){.logout-button[_ngcontent-%COMP%]{margin-right:1rem}}.logout-button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),c3=(()=>{class n{constructor(e,i){this.oauthService=e,this.oauthService.configure(Tm.strava),this.oauthService.tryLogin().then(r=>i.navigate(["strava"]))}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(cT),u.Y36(Ji))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-strava-login"]],decls:2,vars:0,consts:[[1,"spinner-container"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"spinner"),u.qZA())},dependencies:[UA],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;margin-top:5rem;justify-content:center}"]}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[iR]}),n.\u0275inj=u.cJS({providers:[{provide:jx,useValue:localStorage}],imports:[eo,bj,yk,Yj.forRoot({resourceServer:{allowedUrls:["https://www.strava.com/api/v3/"],sendAccessToken:!0}}),Ul.forChild([{path:"strava",component:iR,canActivate:[Gf]},{path:"strava-login",component:c3,canActivate:[Gf]}])]}),n})();class d3 extends Eh{constructor(){super(...arguments),this.options={inputClass:rj.TouchInput}}}let h3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[HH]}),n.\u0275inj=u.cJS({providers:[{provide:Zu,useClass:d3}],imports:[cA,Ss,kH,oj,MH,TF,hF,u3,FA,Om,CM(()=>bC(Tm.firebase)),qH(()=>KH()),nj(()=>ij())]}),n})();Tm.production&&(0,u.G48)(),Ga().bootstrapModule(h3).catch(n=>console.error(n))},5867:(ot,Ae,V)=>{"use strict";V.d(Ae,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=V(9681);(0,u.registerVersion)("firebase","9.9.4","app")},127:(ot,Ae,V)=>{"use strict";V.d(Ae,{Z:()=>u.Z});var u=V(3942);u.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(ot,Ae,V)=>{"use strict";V.r(Ae);var u=V(5861),z=V(3942),L=V(8554),fe=V(2090),we=(V(9681),V(1877),V(4859));function oe(){return window}function W(){return(W=(0,u.Z)(function*(pe,K,X){var De;const{BuildInfo:Je}=oe();(0,L.aq)(K.sessionId,"AuthEvent did not contain a session ID");const bt=yield Me(K.sessionId),Ot={};return(0,L.ar)()?Ot.ibi=Je.packageName:(0,L.as)()?Ot.apn=Je.packageName:(0,L.at)(pe,"operation-not-supported-in-this-environment"),Je.displayName&&(Ot.appDisplayName=Je.displayName),Ot.sessionId=bt,(0,L.au)(pe,X,K.type,void 0,null!==(De=K.eventId)&&void 0!==De?De:void 0,Ot)})).apply(this,arguments)}function Ce(){return(Ce=(0,u.Z)(function*(pe){const{BuildInfo:K}=oe(),X={};(0,L.ar)()?X.iosBundleId=K.packageName:(0,L.as)()?X.androidPackageName=K.packageName:(0,L.at)(pe,"operation-not-supported-in-this-environment"),yield(0,L.av)(pe,X)})).apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(pe,K,X){const{cordova:De}=oe();let Je=()=>{};try{yield new Promise((bt,Ot)=>{let Yt=null;function dn(){var Tt;bt();const hr=null===(Tt=De.plugins.browsertab)||void 0===Tt?void 0:Tt.close;"function"==typeof hr&&hr(),"function"==typeof(null==X?void 0:X.close)&&X.close()}function wi(){Yt||(Yt=window.setTimeout(()=>{Ot((0,L.aw)(pe,"redirect-cancelled-by-user"))},2e3))}function Ci(){"visible"===(null==document?void 0:document.visibilityState)&&wi()}K.addPassiveListener(dn),document.addEventListener("resume",wi,!1),(0,L.as)()&&document.addEventListener("visibilitychange",Ci,!1),Je=()=>{K.removePassiveListener(dn),document.removeEventListener("resume",wi,!1),document.removeEventListener("visibilitychange",Ci,!1),Yt&&window.clearTimeout(Yt)}})}finally{Je()}})).apply(this,arguments)}function Me(pe){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(pe){const K=Ve(pe),X=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(X)).map(Je=>Je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ve(pe){if((0,L.aq)(/[0-9a-zA-Z]+/.test(pe),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(pe);const K=new ArrayBuffer(pe.length),X=new Uint8Array(K);for(let De=0;De<pe.length;De++)X[De]=pe.charCodeAt(De);return X}class _t extends L.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(X=>X(K)),super.onEvent(K)}initialized(){var K=this;return(0,u.Z)(function*(){yield K.initPromise})()}}function Ie(pe){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(function*(pe){const K=yield he()._get(Te(pe));return K&&(yield he()._remove(Te(pe))),K})).apply(this,arguments)}function ae(){const pe=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let X=0;X<20;X++){const De=Math.floor(Math.random()*K.length);pe.push(K.charAt(De))}return pe.join("")}function he(){return(0,L.ay)(L.b)}function Te(pe){return(0,L.az)("authEvent",pe.config.apiKey,pe.name)}function Ze(pe){if(null==pe||!pe.includes("?"))return{};const[K,...X]=pe.split("?");return(0,fe.zd)(X.join("?"))}function Xe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.aw)("no-auth-event")}}function jt(){var pe;return(null===(pe=null==self?void 0:self.location)||void 0===pe?void 0:pe.protocol)||null}function vn(pe=(0,fe.z$)()){return!("file:"!==jt()&&"ionic:"!==jt()&&"capacitor:"!==jt()||!pe.toLowerCase().match(/iphone|ipad|ipod|android/))}function ji(){try{const pe=self.localStorage,K=L.aI();if(pe)return pe.setItem(K,"1"),pe.removeItem(K),!function dr(pe=(0,fe.z$)()){return function Xt(){return(0,fe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Kt(pe=(0,fe.z$)()){return/Edge\/\d+/.test(pe)}(pe)}()||(0,fe.hl)()}catch(pe){return bi()&&(0,fe.hl)()}return!1}function bi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function Ut(){return"http:"===jt()||"https:"===jt()}()||(0,fe.ru)()||vn())&&!function tr(){return(0,fe.b$)()||(0,fe.UG)()}()&&ji()&&!bi()}function Ni(){return vn()&&"undefined"!=typeof document}function et(){return(et=(0,u.Z)(function*(){return!!Ni()&&new Promise(pe=>{const K=setTimeout(()=>{pe(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),pe(!0)})})})).apply(this,arguments)}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},pn=L.ax,Tn="persistence";function On(pe){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(pe){yield pe._initializationPromise;const K=ft(),X=L.az(Tn,pe.config.apiKey,pe.name);K&&K.setItem(X,pe._getPersistence())})).apply(this,arguments)}function ft(){var pe;try{return(null===(pe=function pi(){return"undefined"!=typeof window?window:null}())||void 0===pe?void 0:pe.sessionStorage)||null}catch(K){return null}}const pt=L.ax;class kt{constructor(){this.browserResolver=L.ay(L.k),this.cordovaResolver=L.ay(class nn{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(K){var X=this;return(0,u.Z)(function*(){const De=K._key();let Je=X.eventManagers.get(De);return Je||(Je=new _t(K),X.eventManagers.set(De,Je),X.attachCallbackListeners(K,Je)),Je})()}_openPopup(K){(0,L.at)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,X,De,Je){var bt=this;return(0,u.Z)(function*(){!function Ee(pe){var K,X,De,Je,bt,Ot,Yt,dn,wi,Ci;const Tt=oe();(0,L.ax)("function"==typeof(null===(K=null==Tt?void 0:Tt.universalLinks)||void 0===K?void 0:K.subscribe),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.ax)(void 0!==(null===(X=null==Tt?void 0:Tt.BuildInfo)||void 0===X?void 0:X.packageName),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.ax)("function"==typeof(null===(bt=null===(Je=null===(De=null==Tt?void 0:Tt.cordova)||void 0===De?void 0:De.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===bt?void 0:bt.openUrl),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(dn=null===(Yt=null===(Ot=null==Tt?void 0:Tt.cordova)||void 0===Ot?void 0:Ot.plugins)||void 0===Yt?void 0:Yt.browsertab)||void 0===dn?void 0:dn.isAvailable),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.ax)("function"==typeof(null===(Ci=null===(wi=null==Tt?void 0:Tt.cordova)||void 0===wi?void 0:wi.InAppBrowser)||void 0===Ci?void 0:Ci.open),pe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const Ot=yield bt._initialize(K);yield Ot.initialized(),Ot.resetRedirect(),(0,L.aD)(),yield bt._originValidation(K);const Yt=function Ct(pe,K,X=null){return{type:K,eventId:X,urlResponse:null,sessionId:ae(),postBody:null,tenantId:pe.tenantId,error:(0,L.aw)(pe,"no-auth-event")}}(K,De,Je);yield function Qt(pe,K){return he()._set(Te(pe),K)}(K,Yt);const dn=yield function H(pe,K,X){return W.apply(this,arguments)}(K,Yt,X),wi=yield function Le(pe){const{cordova:K}=oe();return new Promise(X=>{K.plugins.browsertab.isAvailable(De=>{let Je=null;De?K.plugins.browsertab.openUrl(pe):Je=K.InAppBrowser.open(pe,(0,L.ap)()?"_blank":"_system","location=yes"),X(Je)})})}(dn);return function Be(pe,K,X){return Fe.apply(this,arguments)}(K,Ot,wi)})()}_isIframeWebStorageSupported(K,X){throw new Error("Method not implemented.")}_originValidation(K){const X=K._key();return this.originValidationPromises[X]||(this.originValidationPromises[X]=function Q(pe){return Ce.apply(this,arguments)}(K)),this.originValidationPromises[X]}attachCallbackListeners(K,X){const{universalLinks:De,handleOpenURL:Je,BuildInfo:bt}=oe(),Ot=setTimeout((0,u.Z)(function*(){yield Ie(K),X.onEvent(Xe())}),500),Yt=function(){var Ci=(0,u.Z)(function*(Tt){clearTimeout(Ot);const hr=yield Ie(K);let Ui=null;hr&&(null==Tt?void 0:Tt.url)&&(Ui=function ke(pe,K){var X,De;const Je=function ze(pe){const K=Ze(pe),X=K.link?decodeURIComponent(K.link):void 0,De=Ze(X).link,Je=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return Ze(Je).link||Je||De||X||pe}(K);if(Je.includes("/__/auth/callback")){const bt=Ze(Je),Ot=bt.firebaseError?function _e(pe){try{return JSON.parse(pe)}catch(K){return null}}(decodeURIComponent(bt.firebaseError)):null,Yt=null===(De=null===(X=null==Ot?void 0:Ot.code)||void 0===X?void 0:X.split("auth/"))||void 0===De?void 0:De[1],dn=Yt?(0,L.aw)(Yt):null;return dn?{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:pe.type,eventId:pe.eventId,tenantId:pe.tenantId,sessionId:pe.sessionId,urlResponse:Je,postBody:null}}return null}(hr,Tt.url)),X.onEvent(Ui||Xe())});return function(hr){return Ci.apply(this,arguments)}}();void 0!==De&&"function"==typeof De.subscribe&&De.subscribe(null,Yt);const dn=Je,wi=`${bt.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Ci=(0,u.Z)(function*(Tt){if(Tt.toLowerCase().startsWith(wi)&&Yt({url:Tt}),"function"==typeof dn)try{dn(Tt)}catch(hr){console.error(hr)}});return function(Tt){return Ci.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aB,this._overrideRedirectResult=L.aC}_initialize(K){var X=this;return(0,u.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,X,De,Je){var bt=this;return(0,u.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(K,X,De,Je)})()}_openRedirect(K,X,De,Je){var bt=this;return(0,u.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(K,X,De,Je)})()}_isIframeWebStorageSupported(K,X){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,X)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return Ni()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,u.Z)(function*(){if(K.underlyingResolver)return;const X=yield function oi(){return et.apply(this,arguments)}();K.underlyingResolver=X?K.cordovaResolver:K.browserResolver})()}}function Li(pe){return pe.unwrap()}function ai(pe){return Fi(pe)}function Fi(pe){const{_tokenResponse:K}=pe instanceof fe.ZR?pe.customData:pe;if(!K)return null;if(!(pe instanceof fe.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return L.P.credentialFromResult(pe);const X=K.providerId;if(!X||X===L.o.PASSWORD)return null;let De;switch(X){case L.o.GOOGLE:De=L.Q;break;case L.o.FACEBOOK:De=L.N;break;case L.o.GITHUB:De=L.T;break;case L.o.TWITTER:De=L.W;break;default:const{oauthIdToken:Je,oauthAccessToken:bt,oauthTokenSecret:Ot,pendingToken:Yt,nonce:dn}=K;return bt||Ot||Je||Yt?Yt?X.startsWith("saml.")?L.aL._create(X,Yt):L.J._fromParams({providerId:X,signInMethod:X,pendingToken:Yt,idToken:Je,accessToken:bt}):new L.U(X).credential({idToken:Je,accessToken:bt,rawNonce:dn}):null}return pe instanceof fe.ZR?De.credentialFromError(pe):De.credentialFromResult(pe)}function Rt(pe,K){return K.catch(X=>{throw X instanceof fe.ZR&&function St(pe,K){var X,De;const Je=null===(X=K.customData)||void 0===X?void 0:X._tokenResponse;if("auth/multi-factor-auth-required"===(null===(De=K)||void 0===De?void 0:De.code))K.resolver=new re(pe,L.an(pe,K));else if(Je){const bt=Fi(K),Ot=K;bt&&(Ot.credential=bt,Ot.tenantId=Je.tenantId||void 0,Ot.email=Je.email||void 0,Ot.phoneNumber=Je.phoneNumber||void 0)}}(pe,X),X}).then(X=>{const Je=X.user;return{operationType:X.operationType,credential:ai(X),additionalUserInfo:L.al(X),user:J.getOrCreate(Je)}})}function nr(pe,K){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(pe,K){const X=yield K;return{verificationId:X.verificationId,confirm:De=>Rt(pe,X.confirm(De))}})).apply(this,arguments)}class re{constructor(K,X){this.resolver=X,this.auth=function gi(pe){return pe.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Rt(Li(this.auth),this.resolver.resolveSignIn(K))}}class J{constructor(K){this._delegate=K,this.multiFactor=L.ao(K)}static getOrCreate(K){return J.USER_MAP.has(K)||J.USER_MAP.set(K,new J(K)),J.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var X=this;return(0,u.Z)(function*(){return Rt(X.auth,L.Z(X._delegate,K))})()}linkWithPhoneNumber(K,X){var De=this;return(0,u.Z)(function*(){return nr(De.auth,L.l(De._delegate,K,X))})()}linkWithPopup(K){var X=this;return(0,u.Z)(function*(){return Rt(X.auth,L.d(X._delegate,K,kt))})()}linkWithRedirect(K){var X=this;return(0,u.Z)(function*(){return yield On(L.aE(X.auth)),L.g(X._delegate,K,kt)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var X=this;return(0,u.Z)(function*(){return Rt(X.auth,L._(X._delegate,K))})()}reauthenticateWithPhoneNumber(K,X){return nr(this.auth,L.r(this._delegate,K,X))}reauthenticateWithPopup(K){return Rt(this.auth,L.e(this._delegate,K,kt))}reauthenticateWithRedirect(K){var X=this;return(0,u.Z)(function*(){return yield On(L.aE(X.auth)),L.h(X._delegate,K,kt)})()}sendEmailVerification(K){return L.ab(this._delegate,K)}unlink(K){var X=this;return(0,u.Z)(function*(){return yield L.ak(X._delegate,K),X})()}updateEmail(K){return L.ag(this._delegate,K)}updatePassword(K){return L.ah(this._delegate,K)}updatePhoneNumber(K){return L.u(this._delegate,K)}updateProfile(K){return L.af(this._delegate,K)}verifyBeforeUpdateEmail(K,X){return L.ac(this._delegate,K,X)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const q=L.ax;let te=(()=>{class pe{constructor(X,De){if(this.app=X,De.isInitialized())return this._delegate=De.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Je}=X.options;q(Je,"invalid-api-key",{appName:X.name}),q(Je,"invalid-api-key",{appName:X.name});const bt="undefined"!=typeof window?kt:void 0;this._delegate=De.initialize({options:{persistence:Re(Je,X.name),popupRedirectResolver:bt}}),this._delegate._updateErrorMap(L.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(X){this._delegate.languageCode=X}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(X){this._delegate.tenantId=X}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(X,De){L.G(this._delegate,X,De)}applyActionCode(X){return L.a2(this._delegate,X)}checkActionCode(X){return L.a3(this._delegate,X)}confirmPasswordReset(X,De){return L.a1(this._delegate,X,De)}createUserWithEmailAndPassword(X,De){var Je=this;return(0,u.Z)(function*(){return Rt(Je._delegate,L.a5(Je._delegate,X,De))})()}fetchProvidersForEmail(X){return this.fetchSignInMethodsForEmail(X)}fetchSignInMethodsForEmail(X){return L.aa(this._delegate,X)}isSignInWithEmailLink(X){return L.a8(this._delegate,X)}getRedirectResult(){var X=this;return(0,u.Z)(function*(){q(kn(),X._delegate,"operation-not-supported-in-this-environment");const De=yield L.j(X._delegate,kt);return De?Rt(X._delegate,Promise.resolve(De)):{credential:null,user:null}})()}addFrameworkForLogging(X){!function In(pe,K){(0,L.aE)(pe)._logFramework(K)}(this._delegate,X)}onAuthStateChanged(X,De,Je){const{next:bt,error:Ot,complete:Yt}=ne(X,De,Je);return this._delegate.onAuthStateChanged(bt,Ot,Yt)}onIdTokenChanged(X,De,Je){const{next:bt,error:Ot,complete:Yt}=ne(X,De,Je);return this._delegate.onIdTokenChanged(bt,Ot,Yt)}sendSignInLinkToEmail(X,De){return L.a7(this._delegate,X,De)}sendPasswordResetEmail(X,De){return L.a0(this._delegate,X,De||void 0)}setPersistence(X){var De=this;return(0,u.Z)(function*(){let Je;switch(function Dr(pe,K){pn(Object.values(Wn).includes(K),pe,"invalid-persistence-type"),(0,fe.b$)()?pn(K!==Wn.SESSION,pe,"unsupported-persistence-type"):(0,fe.UG)()?pn(K===Wn.NONE,pe,"unsupported-persistence-type"):bi()?pn(K===Wn.NONE||K===Wn.LOCAL&&(0,fe.hl)(),pe,"unsupported-persistence-type"):pn(K===Wn.NONE||ji(),pe,"unsupported-persistence-type")}(De._delegate,X),X){case Wn.SESSION:Je=L.a;break;case Wn.LOCAL:Je=(yield L.ay(L.i)._isAvailable())?L.i:L.b;break;case Wn.NONE:Je=L.L;break;default:return L.at("argument-error",{appName:De._delegate.name})}return De._delegate.setPersistence(Je)})()}signInAndRetrieveDataWithCredential(X){return this.signInWithCredential(X)}signInAnonymously(){return Rt(this._delegate,L.X(this._delegate))}signInWithCredential(X){return Rt(this._delegate,L.Y(this._delegate,X))}signInWithCustomToken(X){return Rt(this._delegate,L.$(this._delegate,X))}signInWithEmailAndPassword(X,De){return Rt(this._delegate,L.a6(this._delegate,X,De))}signInWithEmailLink(X,De){return Rt(this._delegate,L.a9(this._delegate,X,De))}signInWithPhoneNumber(X,De){return nr(this._delegate,L.s(this._delegate,X,De))}signInWithPopup(X){var De=this;return(0,u.Z)(function*(){return q(kn(),De._delegate,"operation-not-supported-in-this-environment"),Rt(De._delegate,L.c(De._delegate,X,kt))})()}signInWithRedirect(X){var De=this;return(0,u.Z)(function*(){return q(kn(),De._delegate,"operation-not-supported-in-this-environment"),yield On(De._delegate),L.f(De._delegate,X,kt)})()}updateCurrentUser(X){return this._delegate.updateCurrentUser(X)}verifyPasswordResetCode(X){return L.a4(this._delegate,X)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return pe.Persistence=Wn,pe})();function ne(pe,K,X){let De=pe;"function"!=typeof pe&&({next:De,error:K,complete:X}=pe);const Je=De;return{next:Ot=>Je(Ot&&J.getOrCreate(Ot)),error:K,complete:X}}function Re(pe,K){const X=function Dn(pe,K){const X=ft();if(!X)return[];const De=L.az(Tn,pe,K);switch(X.getItem(De)){case Wn.NONE:return[L.L];case Wn.LOCAL:return[L.i,L.a];case Wn.SESSION:return[L.a];default:return[]}}(pe,K);if("undefined"!=typeof self&&!X.includes(L.i)&&X.push(L.i),"undefined"!=typeof window)for(const De of[L.b,L.a])X.includes(De)||X.push(De);return X.includes(L.L)||X.push(L.L),X}class Ye{constructor(){this.providerId="phone",this._delegate=new L.P(Li(z.Z.auth()))}static credential(K,X){return L.P.credential(K,X)}verifyPhoneNumber(K,X){return this._delegate.verifyPhoneNumber(K,X)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=L.P.PROVIDER_ID;const Et=L.ax;class bn{constructor(K,X,De=z.Z.app()){var Je;Et(null===(Je=De.options)||void 0===Je?void 0:Je.apiKey,"invalid-api-key",{appName:De.name}),this._delegate=new L.R(K,X,De.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ii(pe){pe.INTERNAL.registerComponent(new we.wA("auth-compat",K=>{const X=K.getProvider("app-compat").getImmediate(),De=K.getProvider("auth");return new te(X,De)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.M,FacebookAuthProvider:L.N,GithubAuthProvider:L.T,GoogleAuthProvider:L.Q,OAuthProvider:L.U,SAMLAuthProvider:L.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:bn,TwitterAuthProvider:L.W,Auth:te,AuthCredential:L.H,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),pe.registerVersion("@firebase/auth-compat","0.2.19")}(z.Z)},5386:(ot,Ae,V)=>{var u;!function(z,L,fe,ce){"use strict";var Fe,le=["","webkit","Moz","MS","ms","o"],we=L.createElement("div"),ue=Math.round,H=Math.abs,W=Date.now;function Q(N,U,ee){return setTimeout(Ve(N,ee),U)}function Ce(N,U,ee){return!!Array.isArray(N)&&(Le(N,ee[U],ee),!0)}function Le(N,U,ee){var ve;if(N)if(N.forEach)N.forEach(U,ee);else if(N.length!==ce)for(ve=0;ve<N.length;)U.call(ee,N[ve],ve,N),ve++;else for(ve in N)N.hasOwnProperty(ve)&&U.call(ee,N[ve],ve,N)}function Be(N,U,ee){var ve="DEPRECATED METHOD: "+U+"\n"+ee+" AT \n";return function(){var We=new Error("get-stack-trace"),lt=We&&We.stack?We.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Wt=z.console&&(z.console.warn||z.console.log);return Wt&&Wt.call(z.console,ve,lt),N.apply(this,arguments)}}Fe="function"!=typeof Object.assign?function(U){if(U===ce||null===U)throw new TypeError("Cannot convert undefined or null to object");for(var ee=Object(U),ve=1;ve<arguments.length;ve++){var We=arguments[ve];if(We!==ce&&null!==We)for(var lt in We)We.hasOwnProperty(lt)&&(ee[lt]=We[lt])}return ee}:Object.assign;var Ee=Be(function(U,ee,ve){for(var We=Object.keys(ee),lt=0;lt<We.length;)(!ve||ve&&U[We[lt]]===ce)&&(U[We[lt]]=ee[We[lt]]),lt++;return U},"extend","Use `assign`."),Me=Be(function(U,ee){return Ee(U,ee,!0)},"merge","Use `assign`.");function $e(N,U,ee){var We,ve=U.prototype;(We=N.prototype=Object.create(ve)).constructor=N,We._super=ve,ee&&Fe(We,ee)}function Ve(N,U){return function(){return N.apply(U,arguments)}}function Qe(N,U){return"function"==typeof N?N.apply(U&&U[0]||ce,U):N}function _t(N,U){return N===ce?U:N}function Ct(N,U,ee){Le(ke(U),function(ve){N.addEventListener(ve,ee,!1)})}function Qt(N,U,ee){Le(ke(U),function(ve){N.removeEventListener(ve,ee,!1)})}function Ie(N,U){for(;N;){if(N==U)return!0;N=N.parentNode}return!1}function Pe(N,U){return N.indexOf(U)>-1}function ke(N){return N.trim().split(/\s+/g)}function ae(N,U,ee){if(N.indexOf&&!ee)return N.indexOf(U);for(var ve=0;ve<N.length;){if(ee&&N[ve][ee]==U||!ee&&N[ve]===U)return ve;ve++}return-1}function he(N){return Array.prototype.slice.call(N,0)}function Te(N,U,ee){for(var ve=[],We=[],lt=0;lt<N.length;){var Wt=U?N[lt][U]:N[lt];ae(We,Wt)<0&&ve.push(N[lt]),We[lt]=Wt,lt++}return ee&&(ve=U?ve.sort(function(Gn,ki){return Gn[U]>ki[U]}):ve.sort()),ve}function _e(N,U){for(var ee,ve,We=U[0].toUpperCase()+U.slice(1),lt=0;lt<le.length;){if((ve=(ee=le[lt])?ee+We:U)in N)return ve;lt++}return ce}var ze=1;function vt(N){var U=N.ownerDocument||N;return U.defaultView||U.parentWindow||z}var Vt="ontouchstart"in z,Xe=_e(z,"PointerEvent")!==ce,In=Vt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Pn="touch",Jt="mouse",Wn=["x","y"],pn=["clientX","clientY"];function Tn(N,U){var ee=this;this.manager=N,this.callback=U,this.element=N.element,this.target=N.options.inputTarget,this.domHandler=function(ve){Qe(N.options.enable,[N])&&ee.handler(ve)},this.init()}function On(N,U,ee){var ve=ee.pointers.length,We=ee.changedPointers.length,lt=1&U&&ve-We==0,Wt=12&U&&ve-We==0;ee.isFirst=!!lt,ee.isFinal=!!Wt,lt&&(N.session={}),ee.eventType=U,function Rn(N,U){var ee=N.session,ve=U.pointers,We=ve.length;ee.firstInput||(ee.firstInput=pt(U)),We>1&&!ee.firstMultiple?ee.firstMultiple=pt(U):1===We&&(ee.firstMultiple=!1);var lt=ee.firstInput,Wt=ee.firstMultiple,Zn=Wt?Wt.center:lt.center,Gn=U.center=kt(ve);U.timeStamp=W(),U.deltaTime=U.timeStamp-lt.timeStamp,U.angle=St(Zn,Gn),U.distance=ai(Zn,Gn),function Dn(N,U){var ee=U.center,ve=N.offsetDelta||{},We=N.prevDelta||{},lt=N.prevInput||{};(1===U.eventType||4===lt.eventType)&&(We=N.prevDelta={x:lt.deltaX||0,y:lt.deltaY||0},ve=N.offsetDelta={x:ee.x,y:ee.y}),U.deltaX=We.x+(ee.x-ve.x),U.deltaY=We.y+(ee.y-ve.y)}(ee,U),U.offsetDirection=gi(U.deltaX,U.deltaY);var ki=Li(U.deltaTime,U.deltaX,U.deltaY);U.overallVelocityX=ki.x,U.overallVelocityY=ki.y,U.overallVelocity=H(ki.x)>H(ki.y)?ki.x:ki.y,U.scale=Wt?function Rt(N,U){return ai(U[0],U[1],pn)/ai(N[0],N[1],pn)}(Wt.pointers,ve):1,U.rotation=Wt?function Fi(N,U){return St(U[1],U[0],pn)+St(N[1],N[0],pn)}(Wt.pointers,ve):0,U.maxPointers=ee.prevInput?U.pointers.length>ee.prevInput.maxPointers?U.pointers.length:ee.prevInput.maxPointers:U.pointers.length,function ft(N,U){var We,lt,Wt,Zn,ee=N.lastInterval||U,ve=U.timeStamp-ee.timeStamp;if(8!=U.eventType&&(ve>25||ee.velocity===ce)){var Gn=U.deltaX-ee.deltaX,ki=U.deltaY-ee.deltaY,zr=Li(ve,Gn,ki);lt=zr.x,Wt=zr.y,We=H(zr.x)>H(zr.y)?zr.x:zr.y,Zn=gi(Gn,ki),N.lastInterval=U}else We=ee.velocity,lt=ee.velocityX,Wt=ee.velocityY,Zn=ee.direction;U.velocity=We,U.velocityX=lt,U.velocityY=Wt,U.direction=Zn}(ee,U);var zr=N.element;Ie(U.srcEvent.target,zr)&&(zr=U.srcEvent.target),U.target=zr}(N,ee),N.emit("hammer.input",ee),N.recognize(ee),N.session.prevInput=ee}function pt(N){for(var U=[],ee=0;ee<N.pointers.length;)U[ee]={clientX:ue(N.pointers[ee].clientX),clientY:ue(N.pointers[ee].clientY)},ee++;return{timeStamp:W(),pointers:U,center:kt(U),deltaX:N.deltaX,deltaY:N.deltaY}}function kt(N){var U=N.length;if(1===U)return{x:ue(N[0].clientX),y:ue(N[0].clientY)};for(var ee=0,ve=0,We=0;We<U;)ee+=N[We].clientX,ve+=N[We].clientY,We++;return{x:ue(ee/U),y:ue(ve/U)}}function Li(N,U,ee){return{x:U/N||0,y:ee/N||0}}function gi(N,U){return N===U?1:H(N)>=H(U)?N<0?2:4:U<0?8:16}function ai(N,U,ee){ee||(ee=Wn);var ve=U[ee[0]]-N[ee[0]],We=U[ee[1]]-N[ee[1]];return Math.sqrt(ve*ve+We*We)}function St(N,U,ee){return ee||(ee=Wn),180*Math.atan2(U[ee[1]]-N[ee[1]],U[ee[0]]-N[ee[0]])/Math.PI}Tn.prototype={handler:function(){},init:function(){this.evEl&&Ct(this.element,this.evEl,this.domHandler),this.evTarget&&Ct(this.target,this.evTarget,this.domHandler),this.evWin&&Ct(vt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Qt(this.element,this.evEl,this.domHandler),this.evTarget&&Qt(this.target,this.evTarget,this.domHandler),this.evWin&&Qt(vt(this.element),this.evWin,this.domHandler)}};var nr={mousedown:1,mousemove:2,mouseup:4},zt="mousedown",re="mousemove mouseup";function J(){this.evEl=zt,this.evWin=re,this.pressed=!1,Tn.apply(this,arguments)}$e(J,Tn,{handler:function(U){var ee=nr[U.type];1&ee&&0===U.button&&(this.pressed=!0),2&ee&&1!==U.which&&(ee=4),this.pressed&&(4&ee&&(this.pressed=!1),this.callback(this.manager,ee,{pointers:[U],changedPointers:[U],pointerType:Jt,srcEvent:U}))}});var q={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},te={2:Pn,3:"pen",4:Jt,5:"kinect"},ne="pointerdown",Re="pointermove pointerup pointercancel";function Ye(){this.evEl=ne,this.evWin=Re,Tn.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}z.MSPointerEvent&&!z.PointerEvent&&(ne="MSPointerDown",Re="MSPointerMove MSPointerUp MSPointerCancel"),$e(Ye,Tn,{handler:function(U){var ee=this.store,ve=!1,We=U.type.toLowerCase().replace("ms",""),lt=q[We],Wt=te[U.pointerType]||U.pointerType,Zn=Wt==Pn,Gn=ae(ee,U.pointerId,"pointerId");1&lt&&(0===U.button||Zn)?Gn<0&&(ee.push(U),Gn=ee.length-1):12&lt&&(ve=!0),!(Gn<0)&&(ee[Gn]=U,this.callback(this.manager,lt,{pointers:ee,changedPointers:[U],pointerType:Wt,srcEvent:U}),ve&&ee.splice(Gn,1))}});var Et={touchstart:1,touchmove:2,touchend:4,touchcancel:8},bn="touchstart",gn="touchstart touchmove touchend touchcancel";function ii(){this.evTarget=bn,this.evWin=gn,this.started=!1,Tn.apply(this,arguments)}function pe(N,U){var ee=he(N.touches),ve=he(N.changedTouches);return 12&U&&(ee=Te(ee.concat(ve),"identifier",!0)),[ee,ve]}$e(ii,Tn,{handler:function(U){var ee=Et[U.type];if(1===ee&&(this.started=!0),this.started){var ve=pe.call(this,U,ee);12&ee&&ve[0].length-ve[1].length==0&&(this.started=!1),this.callback(this.manager,ee,{pointers:ve[0],changedPointers:ve[1],pointerType:Pn,srcEvent:U})}}});var K={touchstart:1,touchmove:2,touchend:4,touchcancel:8},X="touchstart touchmove touchend touchcancel";function De(){this.evTarget=X,this.targetIds={},Tn.apply(this,arguments)}function Je(N,U){var ee=he(N.touches),ve=this.targetIds;if(3&U&&1===ee.length)return ve[ee[0].identifier]=!0,[ee,ee];var We,lt,Wt=he(N.changedTouches),Zn=[],Gn=this.target;if(lt=ee.filter(function(ki){return Ie(ki.target,Gn)}),1===U)for(We=0;We<lt.length;)ve[lt[We].identifier]=!0,We++;for(We=0;We<Wt.length;)ve[Wt[We].identifier]&&Zn.push(Wt[We]),12&U&&delete ve[Wt[We].identifier],We++;return Zn.length?[Te(lt.concat(Zn),"identifier",!0),Zn]:void 0}function Yt(){Tn.apply(this,arguments);var N=Ve(this.handler,this);this.touch=new De(this.manager,N),this.mouse=new J(this.manager,N),this.primaryTouch=null,this.lastTouches=[]}function dn(N,U){1&N?(this.primaryTouch=U.changedPointers[0].identifier,wi.call(this,U)):12&N&&wi.call(this,U)}function wi(N){var U=N.changedPointers[0];if(U.identifier===this.primaryTouch){var ee={x:U.clientX,y:U.clientY};this.lastTouches.push(ee);var ve=this.lastTouches;setTimeout(function(){var lt=ve.indexOf(ee);lt>-1&&ve.splice(lt,1)},2500)}}function Ci(N){for(var U=N.srcEvent.clientX,ee=N.srcEvent.clientY,ve=0;ve<this.lastTouches.length;ve++){var We=this.lastTouches[ve],lt=Math.abs(U-We.x),Wt=Math.abs(ee-We.y);if(lt<=25&&Wt<=25)return!0}return!1}$e(De,Tn,{handler:function(U){var ee=K[U.type],ve=Je.call(this,U,ee);!ve||this.callback(this.manager,ee,{pointers:ve[0],changedPointers:ve[1],pointerType:Pn,srcEvent:U})}}),$e(Yt,Tn,{handler:function(U,ee,ve){var lt=ve.pointerType==Jt;if(!(lt&&ve.sourceCapabilities&&ve.sourceCapabilities.firesTouchEvents)){if(ve.pointerType==Pn)dn.call(this,ee,ve);else if(lt&&Ci.call(this,ve))return;this.callback(U,ee,ve)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Tt=_e(we.style,"touchAction"),hr=Tt!==ce,Ui="compute",Mt="manipulation",mn="none",hn="pan-x",$i="pan-y",Kn=function Hr(){if(!hr)return!1;var N={},U=z.CSS&&z.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(ee){N[ee]=!U||z.CSS.supports("touch-action",ee)}),N}();function Ar(N,U){this.manager=N,this.set(U)}function Ei(N){this.options=Fe({},this.defaults,N||{}),this.id=function Ze(){return ze++}(),this.manager=null,this.options.enable=_t(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Qr(N){return 16&N?"cancel":8&N?"end":4&N?"move":2&N?"start":""}function Mi(N){return 16==N?"down":8==N?"up":2==N?"left":4==N?"right":""}function Pi(N,U){var ee=U.manager;return ee?ee.get(N):N}function Vi(){Ei.apply(this,arguments)}function _n(){Vi.apply(this,arguments),this.pX=null,this.pY=null}function Mr(){Vi.apply(this,arguments)}function xa(){Ei.apply(this,arguments),this._timer=null,this._input=null}function Yn(){Vi.apply(this,arguments)}function zi(){Vi.apply(this,arguments)}function jr(){Ei.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $r(N,U){return(U=U||{}).recognizers=_t(U.recognizers,$r.defaults.preset),new Js(N,U)}function Js(N,U){this.options=Fe({},$r.defaults,U||{}),this.options.inputTarget=this.options.inputTarget||N,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=N,this.input=function Dr(N){return new(N.options.inputClass||(Xe?Ye:In?De:Vt?Yt:J))(N,On)}(this),this.touchAction=new Ar(this,this.options.touchAction),hc(this,!0),Le(this.options.recognizers,function(ee){var ve=this.add(new ee[0](ee[1]));ee[2]&&ve.recognizeWith(ee[2]),ee[3]&&ve.requireFailure(ee[3])},this)}function hc(N,U){var ve,ee=N.element;ee.style&&(Le(N.options.cssProps,function(We,lt){ve=_e(ee.style,lt),U?(N.oldCssProps[ve]=ee.style[ve],ee.style[ve]=We):ee.style[ve]=N.oldCssProps[ve]||""}),U||(N.oldCssProps={}))}Ar.prototype={set:function(N){N==Ui&&(N=this.compute()),hr&&this.manager.element.style&&Kn[N]&&(this.manager.element.style[Tt]=N),this.actions=N.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var N=[];return Le(this.manager.recognizers,function(U){Qe(U.options.enable,[U])&&(N=N.concat(U.getTouchAction()))}),function Vn(N){if(Pe(N,mn))return mn;var U=Pe(N,hn),ee=Pe(N,$i);return U&&ee?mn:U||ee?U?hn:$i:Pe(N,Mt)?Mt:"auto"}(N.join(" "))},preventDefaults:function(N){var U=N.srcEvent,ee=N.offsetDirection;if(!this.manager.session.prevented){var ve=this.actions,We=Pe(ve,mn)&&!Kn[mn],lt=Pe(ve,$i)&&!Kn[$i],Wt=Pe(ve,hn)&&!Kn[hn];if(We&&1===N.pointers.length&&N.distance<2&&N.deltaTime<250)return;return Wt&&lt||!(We||lt&&6&ee||Wt&&24&ee)?void 0:this.preventSrc(U)}U.preventDefault()},preventSrc:function(N){this.manager.session.prevented=!0,N.preventDefault()}},Ei.prototype={defaults:{},set:function(N){return Fe(this.options,N),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(N){if(Ce(N,"recognizeWith",this))return this;var U=this.simultaneous;return U[(N=Pi(N,this)).id]||(U[N.id]=N,N.recognizeWith(this)),this},dropRecognizeWith:function(N){return Ce(N,"dropRecognizeWith",this)||(N=Pi(N,this),delete this.simultaneous[N.id]),this},requireFailure:function(N){if(Ce(N,"requireFailure",this))return this;var U=this.requireFail;return-1===ae(U,N=Pi(N,this))&&(U.push(N),N.requireFailure(this)),this},dropRequireFailure:function(N){if(Ce(N,"dropRequireFailure",this))return this;N=Pi(N,this);var U=ae(this.requireFail,N);return U>-1&&this.requireFail.splice(U,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(N){return!!this.simultaneous[N.id]},emit:function(N){var U=this,ee=this.state;function ve(We){U.manager.emit(We,N)}ee<8&&ve(U.options.event+Qr(ee)),ve(U.options.event),N.additionalEvent&&ve(N.additionalEvent),ee>=8&&ve(U.options.event+Qr(ee))},tryEmit:function(N){if(this.canEmit())return this.emit(N);this.state=32},canEmit:function(){for(var N=0;N<this.requireFail.length;){if(!(33&this.requireFail[N].state))return!1;N++}return!0},recognize:function(N){var U=Fe({},N);if(!Qe(this.options.enable,[this,U]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(U),30&this.state&&this.tryEmit(U)},process:function(N){},getTouchAction:function(){},reset:function(){}},$e(Vi,Ei,{defaults:{pointers:1},attrTest:function(N){var U=this.options.pointers;return 0===U||N.pointers.length===U},process:function(N){var U=this.state,ee=N.eventType,ve=6&U,We=this.attrTest(N);return ve&&(8&ee||!We)?16|U:ve||We?4&ee?8|U:2&U?4|U:2:32}}),$e(_n,Vi,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var N=this.options.direction,U=[];return 6&N&&U.push($i),24&N&&U.push(hn),U},directionTest:function(N){var U=this.options,ee=!0,ve=N.distance,We=N.direction,lt=N.deltaX,Wt=N.deltaY;return We&U.direction||(6&U.direction?(We=0===lt?1:lt<0?2:4,ee=lt!=this.pX,ve=Math.abs(N.deltaX)):(We=0===Wt?1:Wt<0?8:16,ee=Wt!=this.pY,ve=Math.abs(N.deltaY))),N.direction=We,ee&&ve>U.threshold&&We&U.direction},attrTest:function(N){return Vi.prototype.attrTest.call(this,N)&&(2&this.state||!(2&this.state)&&this.directionTest(N))},emit:function(N){this.pX=N.deltaX,this.pY=N.deltaY;var U=Mi(N.direction);U&&(N.additionalEvent=this.options.event+U),this._super.emit.call(this,N)}}),$e(Mr,Vi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[mn]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.scale-1)>this.options.threshold||2&this.state)},emit:function(N){1!==N.scale&&(N.additionalEvent=this.options.event+(N.scale<1?"in":"out")),this._super.emit.call(this,N)}}),$e(xa,Ei,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(N){var U=this.options,ee=N.pointers.length===U.pointers,ve=N.distance<U.threshold,We=N.deltaTime>U.time;if(this._input=N,!ve||!ee||12&N.eventType&&!We)this.reset();else if(1&N.eventType)this.reset(),this._timer=Q(function(){this.state=8,this.tryEmit()},U.time,this);else if(4&N.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(N){8===this.state&&(N&&4&N.eventType?this.manager.emit(this.options.event+"up",N):(this._input.timeStamp=W(),this.manager.emit(this.options.event,this._input)))}}),$e(Yn,Vi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[mn]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.rotation)>this.options.threshold||2&this.state)}}),$e(zi,Vi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _n.prototype.getTouchAction.call(this)},attrTest:function(N){var ee,U=this.options.direction;return 30&U?ee=N.overallVelocity:6&U?ee=N.overallVelocityX:24&U&&(ee=N.overallVelocityY),this._super.attrTest.call(this,N)&&U&N.offsetDirection&&N.distance>this.options.threshold&&N.maxPointers==this.options.pointers&&H(ee)>this.options.velocity&&4&N.eventType},emit:function(N){var U=Mi(N.offsetDirection);U&&this.manager.emit(this.options.event+U,N),this.manager.emit(this.options.event,N)}}),$e(jr,Ei,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Mt]},process:function(N){var U=this.options,ee=N.pointers.length===U.pointers,ve=N.distance<U.threshold,We=N.deltaTime<U.time;if(this.reset(),1&N.eventType&&0===this.count)return this.failTimeout();if(ve&&We&&ee){if(4!=N.eventType)return this.failTimeout();var lt=!this.pTime||N.timeStamp-this.pTime<U.interval,Wt=!this.pCenter||ai(this.pCenter,N.center)<U.posThreshold;if(this.pTime=N.timeStamp,this.pCenter=N.center,Wt&&lt?this.count+=1:this.count=1,this._input=N,0==this.count%U.taps)return this.hasRequireFailures()?(this._timer=Q(function(){this.state=8,this.tryEmit()},U.interval,this),2):8}return 32},failTimeout:function(){return this._timer=Q(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$r.VERSION="2.0.7",$r.defaults={domEvents:!1,touchAction:Ui,enable:!0,inputTarget:null,inputClass:null,preset:[[Yn,{enable:!1}],[Mr,{enable:!1},["rotate"]],[zi,{direction:6}],[_n,{direction:6},["swipe"]],[jr],[jr,{event:"doubletap",taps:2},["tap"]],[xa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Js.prototype={set:function(N){return Fe(this.options,N),N.touchAction&&this.touchAction.update(),N.inputTarget&&(this.input.destroy(),this.input.target=N.inputTarget,this.input.init()),this},stop:function(N){this.session.stopped=N?2:1},recognize:function(N){var U=this.session;if(!U.stopped){this.touchAction.preventDefaults(N);var ee,ve=this.recognizers,We=U.curRecognizer;(!We||We&&8&We.state)&&(We=U.curRecognizer=null);for(var lt=0;lt<ve.length;)ee=ve[lt],2===U.stopped||We&&ee!=We&&!ee.canRecognizeWith(We)?ee.reset():ee.recognize(N),!We&&14&ee.state&&(We=U.curRecognizer=ee),lt++}},get:function(N){if(N instanceof Ei)return N;for(var U=this.recognizers,ee=0;ee<U.length;ee++)if(U[ee].options.event==N)return U[ee];return null},add:function(N){if(Ce(N,"add",this))return this;var U=this.get(N.options.event);return U&&this.remove(U),this.recognizers.push(N),N.manager=this,this.touchAction.update(),N},remove:function(N){if(Ce(N,"remove",this))return this;if(N=this.get(N)){var U=this.recognizers,ee=ae(U,N);-1!==ee&&(U.splice(ee,1),this.touchAction.update())}return this},on:function(N,U){if(N!==ce&&U!==ce){var ee=this.handlers;return Le(ke(N),function(ve){ee[ve]=ee[ve]||[],ee[ve].push(U)}),this}},off:function(N,U){if(N!==ce){var ee=this.handlers;return Le(ke(N),function(ve){U?ee[ve]&&ee[ve].splice(ae(ee[ve],U),1):delete ee[ve]}),this}},emit:function(N,U){this.options.domEvents&&function Ma(N,U){var ee=L.createEvent("Event");ee.initEvent(N,!0,!0),ee.gesture=U,U.target.dispatchEvent(ee)}(N,U);var ee=this.handlers[N]&&this.handlers[N].slice();if(ee&&ee.length){U.type=N,U.preventDefault=function(){U.srcEvent.preventDefault()};for(var ve=0;ve<ee.length;)ee[ve](U),ve++}},destroy:function(){this.element&&hc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Fe($r,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Js,Input:Tn,TouchAction:Ar,TouchInput:De,MouseInput:J,PointerEventInput:Ye,TouchMouseInput:Yt,SingleTouchInput:ii,Recognizer:Ei,AttrRecognizer:Vi,Tap:jr,Pan:_n,Swipe:zi,Pinch:Mr,Rotate:Yn,Press:xa,on:Ct,off:Qt,each:Le,merge:Me,extend:Ee,assign:Fe,inherit:$e,bindFn:Ve,prefixed:_e}),(void 0!==z?z:"undefined"!=typeof self?self:{}).Hammer=$r,(u=function(){return $r}.call(Ae,V,Ae,ot))!==ce&&(ot.exports=u)}(window,document)},9312:(ot,Ae,V)=>{"use strict";V.d(Ae,{P:()=>ce});var u=V(8896),z=V(1086),L=V(1737);class ce{constructor(we,oe,ue){this.kind=we,this.value=oe,this.error=ue,this.hasValue="N"===we}observe(we){switch(this.kind){case"N":return we.next&&we.next(this.value);case"E":return we.error&&we.error(this.error);case"C":return we.complete&&we.complete()}}do(we,oe,ue){switch(this.kind){case"N":return we&&we(this.value);case"E":return oe&&oe(this.error);case"C":return ue&&ue()}}accept(we,oe,ue){return we&&"function"==typeof we.next?this.observe(we):this.do(we,oe,ue)}toObservable(){switch(this.kind){case"N":return(0,z.of)(this.value);case"E":return(0,L._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(we){return void 0!==we?new ce("N",we):ce.undefinedValueNotification}static createError(we){return new ce("E",void 0,we)}static createComplete(){return ce.completeNotification}}ce.completeNotification=new ce("C"),ce.undefinedValueNotification=new ce("N",void 0)},6498:(ot,Ae,V)=>{"use strict";V.d(Ae,{y:()=>ue});var u=V(3489),L=V(7668),fe=V(3292),le=V(3821),we=V(4843),oe=V(2830);let ue=(()=>{class W{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const Le=new W;return Le.source=this,Le.operator=Ce,Le}subscribe(Ce,Le,Be){const{operator:Fe}=this,Ee=function ce(W,Q,Ce){if(W){if(W instanceof u.L)return W;if(W[L.b])return W[L.b]()}return W||Q||Ce?new u.L(W,Q,Ce):new u.L(fe.c)}(Ce,Le,Be);if(Ee.add(Fe?Fe.call(Ee,this.source):this.source||oe.v.useDeprecatedSynchronousErrorHandling&&!Ee.syncErrorThrowable?this._subscribe(Ee):this._trySubscribe(Ee)),oe.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable&&(Ee.syncErrorThrowable=!1,Ee.syncErrorThrown))throw Ee.syncErrorValue;return Ee}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Le){oe.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=Le),function z(W){for(;W;){const{closed:Q,destination:Ce,isStopped:Le}=W;if(Q||Le)return!1;W=Ce&&Ce instanceof u.L?Ce:null}return!0}(Ce)?Ce.error(Le):console.warn(Le)}}forEach(Ce,Le){return new(Le=H(Le))((Be,Fe)=>{let Ee;Ee=this.subscribe(Me=>{try{Ce(Me)}catch($e){Fe($e),Ee&&Ee.unsubscribe()}},Fe,Be)})}_subscribe(Ce){const{source:Le}=this;return Le&&Le.subscribe(Ce)}[le.L](){return this}pipe(...Ce){return 0===Ce.length?this:(0,we.U)(Ce)(this)}toPromise(Ce){return new(Ce=H(Ce))((Le,Be)=>{let Fe;this.subscribe(Ee=>Fe=Ee,Ee=>Be(Ee),()=>Le(Fe))})}}return W.create=Q=>new W(Q),W})();function H(W){if(W||(W=oe.v.Promise||Promise),!W)throw new Error("no Promise impl found");return W}},3292:(ot,Ae,V)=>{"use strict";V.d(Ae,{c:()=>L});var u=V(2830),z=V(2782);const L={closed:!0,next(fe){},error(fe){if(u.v.useDeprecatedSynchronousErrorHandling)throw fe;(0,z.z)(fe)},complete(){}}},8929:(ot,Ae,V)=>{"use strict";V.d(Ae,{Yc:()=>we,xQ:()=>oe});var u=V(6498),z=V(3489),L=V(2654),fe=V(5279),ce=V(5283),le=V(7668);class we extends z.L{constructor(W){super(W),this.destination=W}}let oe=(()=>{class H extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[le.b](){return new we(this)}lift(Q){const Ce=new ue(this,this);return Ce.operator=Q,Ce}next(Q){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:Ce}=this,Le=Ce.length,Be=Ce.slice();for(let Fe=0;Fe<Le;Fe++)Be[Fe].next(Q)}}error(Q){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:Ce}=this,Le=Ce.length,Be=Ce.slice();for(let Fe=0;Fe<Le;Fe++)Be[Fe].error(Q);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:Q}=this,Ce=Q.length,Le=Q.slice();for(let Be=0;Be<Ce;Be++)Le[Be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new fe.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new fe.N;return this.hasError?(Q.error(this.thrownError),L.w.EMPTY):this.isStopped?(Q.complete(),L.w.EMPTY):(this.observers.push(Q),new ce.W(this,Q))}asObservable(){const Q=new u.y;return Q.source=this,Q}}return H.create=(W,Q)=>new ue(W,Q),H})();class ue extends oe{constructor(W,Q){super(),this.destination=W,this.source=Q}next(W){const{destination:Q}=this;Q&&Q.next&&Q.next(W)}error(W){const{destination:Q}=this;Q&&Q.error&&this.destination.error(W)}complete(){const{destination:W}=this;W&&W.complete&&this.destination.complete()}_subscribe(W){const{source:Q}=this;return Q?this.source.subscribe(W):L.w.EMPTY}}},5283:(ot,Ae,V)=>{"use strict";V.d(Ae,{W:()=>z});var u=V(2654);class z extends u.w{constructor(fe,ce){super(),this.subject=fe,this.subscriber=ce,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const fe=this.subject,ce=fe.observers;if(this.subject=null,!ce||0===ce.length||fe.isStopped||fe.closed)return;const le=ce.indexOf(this.subscriber);-1!==le&&ce.splice(le,1)}}},3489:(ot,Ae,V)=>{"use strict";V.d(Ae,{L:()=>we});var u=V(7043),z=V(3292),L=V(2654),fe=V(7668),ce=V(2830),le=V(2782);class we extends L.w{constructor(H,W,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=z.c;break;case 1:if(!H){this.destination=z.c;break}if("object"==typeof H){H instanceof we?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,H,W,Q)}}[fe.b](){return this}static create(H,W,Q){const Ce=new we(H,W,Q);return Ce.syncErrorThrowable=!1,Ce}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class oe extends we{constructor(H,W,Q,Ce){super(),this._parentSubscriber=H;let Le,Be=this;(0,u.m)(W)?Le=W:W&&(Le=W.next,Q=W.error,Ce=W.complete,W!==z.c&&(Be=Object.create(W),(0,u.m)(Be.unsubscribe)&&this.add(Be.unsubscribe.bind(Be)),Be.unsubscribe=this.unsubscribe.bind(this))),this._context=Be,this._next=Le,this._error=Q,this._complete=Ce}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:W}=this;ce.v.useDeprecatedSynchronousErrorHandling&&W.syncErrorThrowable?this.__tryOrSetError(W,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:W}=this,{useDeprecatedSynchronousErrorHandling:Q}=ce.v;if(this._error)Q&&W.syncErrorThrowable?(this.__tryOrSetError(W,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(W.syncErrorThrowable)Q?(W.syncErrorValue=H,W.syncErrorThrown=!0):(0,le.z)(H),this.unsubscribe();else{if(this.unsubscribe(),Q)throw H;(0,le.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const W=()=>this._complete.call(this._context);ce.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,W),this.unsubscribe()):(this.__tryOrUnsub(W),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,W){try{H.call(this._context,W)}catch(Q){if(this.unsubscribe(),ce.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,le.z)(Q)}}__tryOrSetError(H,W,Q){if(!ce.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{W.call(this._context,Q)}catch(Ce){return ce.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=Ce,H.syncErrorThrown=!0,!0):((0,le.z)(Ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},2654:(ot,Ae,V)=>{"use strict";V.d(Ae,{w:()=>le});var u=V(6688),z=V(7830),L=V(7043);const ce=(()=>{function oe(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((H,W)=>`${W+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return oe.prototype=Object.create(Error.prototype),oe})();class le{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:W,_unsubscribe:Q,_subscriptions:Ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof le)H.remove(this);else if(null!==H)for(let Le=0;Le<H.length;++Le)H[Le].remove(this);if((0,L.m)(Q)){W&&(this._unsubscribe=void 0);try{Q.call(this)}catch(Le){ue=Le instanceof ce?we(Le.errors):[Le]}}if((0,u.k)(Ce)){let Le=-1,Be=Ce.length;for(;++Le<Be;){const Fe=Ce[Le];if((0,z.K)(Fe))try{Fe.unsubscribe()}catch(Ee){ue=ue||[],Ee instanceof ce?ue=ue.concat(we(Ee.errors)):ue.push(Ee)}}}if(ue)throw new ce(ue)}add(ue){let H=ue;if(!ue)return le.EMPTY;switch(typeof ue){case"function":H=new le(ue);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof le)){const Ce=H;H=new le,H._subscriptions=[Ce]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:W}=H;if(null===W)H._parentOrParents=this;else if(W instanceof le){if(W===this)return H;H._parentOrParents=[W,this]}else{if(-1!==W.indexOf(this))return H;W.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[H]:Q.push(H),H}remove(ue){const H=this._subscriptions;if(H){const W=H.indexOf(ue);-1!==W&&H.splice(W,1)}}}var oe;function we(oe){return oe.reduce((ue,H)=>ue.concat(H instanceof ce?H.errors:H),[])}le.EMPTY=((oe=new le).closed=!0,oe)},2830:(ot,Ae,V)=>{"use strict";V.d(Ae,{v:()=>z});let u=!1;const z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=L},get useDeprecatedSynchronousErrorHandling(){return u}}},1177:(ot,Ae,V)=>{"use strict";V.d(Ae,{Ds:()=>le,IY:()=>fe,ft:()=>oe});var u=V(3489),z=V(6498),L=V(9249);class fe extends u.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class le extends u.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function oe(ue,H){if(H.closed)return;if(ue instanceof z.y)return ue.subscribe(H);let W;try{W=(0,L.s)(ue)(H)}catch(Q){H.error(Q)}return W}},1762:(ot,Ae,V)=>{"use strict";V.d(Ae,{N:()=>le,c:()=>ce});var u=V(8929),z=V(6498),L=V(2654),fe=V(4327);class ce extends z.y{constructor(W,Q){super(),this.source=W,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(W){return this.getSubject().subscribe(W)}getSubject(){const W=this._subject;return(!W||W.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let W=this._connection;return W||(this._isComplete=!1,W=this._connection=new L.w,W.add(this.source.subscribe(new we(this.getSubject(),this))),W.closed&&(this._connection=null,W=L.w.EMPTY)),W}refCount(){return(0,fe.x)()(this)}}const le=(()=>{const H=ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class we extends u.Yc{constructor(W,Q){super(W),this.connectable=Q}_error(W){this._unsubscribe(),super._error(W)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const W=this.connectable;if(W){this.connectable=null;const Q=W._connection;W._refCount=0,W._subject=null,W._connection=null,Q&&Q.unsubscribe()}}}},8896:(ot,Ae,V)=>{"use strict";V.d(Ae,{E:()=>z,c:()=>L});var u=V(6498);const z=new u.y(ce=>ce.complete());function L(ce){return ce?function fe(ce){return new u.y(le=>ce.schedule(()=>le.complete()))}(ce):z}},5254:(ot,Ae,V)=>{"use strict";V.d(Ae,{D:()=>Be});var u=V(6498),z=V(9249),L=V(2654),fe=V(3821),we=V(6454),oe=V(5430),W=V(8955),Q=V(8515);function Be(Fe,Ee){return Ee?function Le(Fe,Ee){if(null!=Fe){if(function H(Fe){return Fe&&"function"==typeof Fe[fe.L]}(Fe))return function ce(Fe,Ee){return new u.y(Me=>{const $e=new L.w;return $e.add(Ee.schedule(()=>{const Ve=Fe[fe.L]();$e.add(Ve.subscribe({next(Qe){$e.add(Ee.schedule(()=>Me.next(Qe)))},error(Qe){$e.add(Ee.schedule(()=>Me.error(Qe)))},complete(){$e.add(Ee.schedule(()=>Me.complete()))}}))})),$e})}(Fe,Ee);if((0,W.t)(Fe))return function le(Fe,Ee){return new u.y(Me=>{const $e=new L.w;return $e.add(Ee.schedule(()=>Fe.then(Ve=>{$e.add(Ee.schedule(()=>{Me.next(Ve),$e.add(Ee.schedule(()=>Me.complete()))}))},Ve=>{$e.add(Ee.schedule(()=>Me.error(Ve)))}))),$e})}(Fe,Ee);if((0,Q.z)(Fe))return(0,we.r)(Fe,Ee);if(function Ce(Fe){return Fe&&"function"==typeof Fe[oe.hZ]}(Fe)||"string"==typeof Fe)return function ue(Fe,Ee){if(!Fe)throw new Error("Iterable cannot be null");return new u.y(Me=>{const $e=new L.w;let Ve;return $e.add(()=>{Ve&&"function"==typeof Ve.return&&Ve.return()}),$e.add(Ee.schedule(()=>{Ve=Fe[oe.hZ](),$e.add(Ee.schedule(function(){if(Me.closed)return;let Qe,_t;try{const Ct=Ve.next();Qe=Ct.value,_t=Ct.done}catch(Ct){return void Me.error(Ct)}_t?Me.complete():(Me.next(Qe),this.schedule())}))})),$e})}(Fe,Ee)}throw new TypeError((null!==Fe&&typeof Fe||Fe)+" is not observable")}(Fe,Ee):Fe instanceof u.y?Fe:new u.y((0,z.s)(Fe))}},3009:(ot,Ae,V)=>{"use strict";V.d(Ae,{n:()=>fe});var u=V(6498),z=V(3650),L=V(6454);function fe(ce,le){return le?(0,L.r)(ce,le):new u.y((0,z.V)(ce))}},6787:(ot,Ae,V)=>{"use strict";V.d(Ae,{T:()=>ce});var u=V(6498),z=V(2866),L=V(9146),fe=V(3009);function ce(...le){let we=Number.POSITIVE_INFINITY,oe=null,ue=le[le.length-1];return(0,z.K)(ue)?(oe=le.pop(),le.length>1&&"number"==typeof le[le.length-1]&&(we=le.pop())):"number"==typeof ue&&(we=le.pop()),null===oe&&1===le.length&&le[0]instanceof u.y?le[0]:(0,L.J)(we)((0,fe.n)(le,oe))}},1086:(ot,Ae,V)=>{"use strict";V.d(Ae,{of:()=>fe});var u=V(2866),z=V(3009),L=V(6454);function fe(...ce){let le=ce[ce.length-1];return(0,u.K)(le)?(ce.pop(),(0,L.r)(ce,le)):(0,z.n)(ce)}},1737:(ot,Ae,V)=>{"use strict";V.d(Ae,{_:()=>z});var u=V(6498);function z(fe,ce){return new u.y(ce?le=>ce.schedule(L,0,{error:fe,subscriber:le}):le=>le.error(fe))}function L({error:fe,subscriber:ce}){ce.error(fe)}},4850:(ot,Ae,V)=>{"use strict";V.d(Ae,{U:()=>z});var u=V(3489);function z(ce,le){return function(oe){if("function"!=typeof ce)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new L(ce,le))}}class L{constructor(le,we){this.project=le,this.thisArg=we}call(le,we){return we.subscribe(new fe(le,this.project,this.thisArg))}}class fe extends u.L{constructor(le,we,oe){super(le),this.project=we,this.count=0,this.thisArg=oe||this}_next(le){let we;try{we=this.project.call(this.thisArg,le,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(we)}}},9146:(ot,Ae,V)=>{"use strict";V.d(Ae,{J:()=>L});var u=V(1709),z=V(5379);function L(fe=Number.POSITIVE_INFINITY){return(0,u.zg)(z.y,fe)}},1709:(ot,Ae,V)=>{"use strict";V.d(Ae,{zg:()=>fe});var u=V(4850),z=V(5254),L=V(1177);function fe(oe,ue,H=Number.POSITIVE_INFINITY){return"function"==typeof ue?W=>W.pipe(fe((Q,Ce)=>(0,z.D)(oe(Q,Ce)).pipe((0,u.U)((Le,Be)=>ue(Q,Le,Ce,Be))),H)):("number"==typeof ue&&(H=ue),W=>W.lift(new ce(oe,H)))}class ce{constructor(ue,H=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=H}call(ue,H){return H.subscribe(new le(ue,this.project,this.concurrent))}}class le extends L.Ds{constructor(ue,H,W=Number.POSITIVE_INFINITY){super(ue),this.project=H,this.concurrent=W,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let H;const W=this.index++;try{H=this.project(ue,W)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(H)}_innerSub(ue){const H=new L.IY(this),W=this.destination;W.add(H);const Q=(0,L.ft)(ue,H);Q!==H&&W.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(ot,Ae,V)=>{"use strict";V.d(Ae,{QV:()=>L,ht:()=>ce});var u=V(3489),z=V(9312);function L(we,oe=0){return function(H){return H.lift(new fe(we,oe))}}class fe{constructor(oe,ue=0){this.scheduler=oe,this.delay=ue}call(oe,ue){return ue.subscribe(new ce(oe,this.scheduler,this.delay))}}class ce extends u.L{constructor(oe,ue,H=0){super(oe),this.scheduler=ue,this.delay=H}static dispatch(oe){const{notification:ue,destination:H}=oe;ue.observe(H),this.unsubscribe()}scheduleMessage(oe){this.destination.add(this.scheduler.schedule(ce.dispatch,this.delay,new le(oe,this.destination)))}_next(oe){this.scheduleMessage(z.P.createNext(oe))}_error(oe){this.scheduleMessage(z.P.createError(oe)),this.unsubscribe()}_complete(){this.scheduleMessage(z.P.createComplete()),this.unsubscribe()}}class le{constructor(oe,ue){this.notification=oe,this.destination=ue}}},4327:(ot,Ae,V)=>{"use strict";V.d(Ae,{x:()=>z});var u=V(3489);function z(){return function(le){return le.lift(new L(le))}}class L{constructor(le){this.connectable=le}call(le,we){const{connectable:oe}=this;oe._refCount++;const ue=new fe(le,oe),H=we.subscribe(ue);return ue.closed||(ue.connection=oe.connect()),H}}class fe extends u.L{constructor(le,we){super(le),this.connectable=we}_unsubscribe(){const{connectable:le}=this;if(!le)return void(this.connection=null);this.connectable=null;const we=le._refCount;if(we<=0)return void(this.connection=null);if(le._refCount=we-1,we>1)return void(this.connection=null);const{connection:oe}=this,ue=le._connection;this.connection=null,ue&&(!oe||ue===oe)&&ue.unsubscribe()}}},2474:(ot,Ae,V)=>{"use strict";V.d(Ae,{B:()=>we});var u=V(1762);class L{constructor(ue,H){this.subjectFactory=ue,this.selector=H}call(ue,H){const{selector:W}=this,Q=this.subjectFactory(),Ce=W(Q).subscribe(ue);return Ce.add(H.subscribe(Q)),Ce}}var fe=V(4327),ce=V(8929);function le(){return new ce.xQ}function we(){return oe=>(0,fe.x)()(function z(oe,ue){return function(W){let Q;if(Q="function"==typeof oe?oe:function(){return oe},"function"==typeof ue)return W.lift(new L(Q,ue));const Ce=Object.create(W,u.N);return Ce.source=W,Ce.subjectFactory=Q,Ce}}(le)(oe))}},8915:(ot,Ae,V)=>{"use strict";V.d(Ae,{R:()=>Ee});var u=V(6498);let z=1;const L=Promise.resolve(),fe={};function ce($e){return $e in fe&&(delete fe[$e],!0)}const le={setImmediate($e){const Ve=z++;return fe[Ve]=!0,L.then(()=>ce(Ve)&&$e()),Ve},clearImmediate($e){ce($e)}};var oe=V(6686),H=V(2268);const Ce=new class W extends H.v{flush(Ve){this.active=!0,this.scheduled=void 0;const{actions:Qe}=this;let _t,Ct=-1,Qt=Qe.length;Ve=Ve||Qe.shift();do{if(_t=Ve.execute(Ve.state,Ve.delay))break}while(++Ct<Qt&&(Ve=Qe.shift()));if(this.active=!1,_t){for(;++Ct<Qt&&(Ve=Qe.shift());)Ve.unsubscribe();throw _t}}}(class ue extends oe.o{constructor(Ve,Qe){super(Ve,Qe),this.scheduler=Ve,this.work=Qe}requestAsyncId(Ve,Qe,_t=0){return null!==_t&&_t>0?super.requestAsyncId(Ve,Qe,_t):(Ve.actions.push(this),Ve.scheduled||(Ve.scheduled=le.setImmediate(Ve.flush.bind(Ve,null))))}recycleAsyncId(Ve,Qe,_t=0){if(null!==_t&&_t>0||null===_t&&this.delay>0)return super.recycleAsyncId(Ve,Qe,_t);0===Ve.actions.length&&(le.clearImmediate(Qe),Ve.scheduled=void 0)}});var Le=V(6688);class Fe extends u.y{constructor(Ve,Qe=0,_t=Ce){super(),this.source=Ve,this.delayTime=Qe,this.scheduler=_t,(!function Be($e){return!(0,Le.k)($e)&&$e-parseFloat($e)+1>=0}(Qe)||Qe<0)&&(this.delayTime=0),(!_t||"function"!=typeof _t.schedule)&&(this.scheduler=Ce)}static create(Ve,Qe=0,_t=Ce){return new Fe(Ve,Qe,_t)}static dispatch(Ve){const{source:Qe,subscriber:_t}=Ve;return this.add(Qe.subscribe(_t))}_subscribe(Ve){return this.scheduler.schedule(Fe.dispatch,this.delayTime,{source:this.source,subscriber:Ve})}}function Ee($e,Ve=0){return function(_t){return _t.lift(new Me($e,Ve))}}class Me{constructor(Ve,Qe){this.scheduler=Ve,this.delay=Qe}call(Ve,Qe){return new Fe(Qe,this.delay,this.scheduler).subscribe(Ve)}}},2868:(ot,Ae,V)=>{"use strict";V.d(Ae,{b:()=>fe});var u=V(3489);function z(){}var L=V(7043);function fe(we,oe,ue){return function(W){return W.lift(new ce(we,oe,ue))}}class ce{constructor(oe,ue,H){this.nextOrObserver=oe,this.error=ue,this.complete=H}call(oe,ue){return ue.subscribe(new le(oe,this.nextOrObserver,this.error,this.complete))}}class le extends u.L{constructor(oe,ue,H,W){super(oe),this._tapNext=z,this._tapError=z,this._tapComplete=z,this._tapError=H||z,this._tapComplete=W||z,(0,L.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||z,this._tapError=ue.error||z,this._tapComplete=ue.complete||z)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(ue){return void this.destination.error(ue)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(ue){return void this.destination.error(ue)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},6454:(ot,Ae,V)=>{"use strict";V.d(Ae,{r:()=>L});var u=V(6498),z=V(2654);function L(fe,ce){return new u.y(le=>{const we=new z.w;let oe=0;return we.add(ce.schedule(function(){oe!==fe.length?(le.next(fe[oe++]),le.closed||we.add(this.schedule())):le.complete()})),we})}},6686:(ot,Ae,V)=>{"use strict";V.d(Ae,{o:()=>L});var u=V(2654);class z extends u.w{constructor(ce,le){super()}schedule(ce,le=0){return this}}class L extends z{constructor(ce,le){super(ce,le),this.scheduler=ce,this.work=le,this.pending=!1}schedule(ce,le=0){if(this.closed)return this;this.state=ce;const we=this.id,oe=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(oe,we,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(oe,this.id,le),this}requestAsyncId(ce,le,we=0){return setInterval(ce.flush.bind(ce,this),we)}recycleAsyncId(ce,le,we=0){if(null!==we&&this.delay===we&&!1===this.pending)return le;clearInterval(le)}execute(ce,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ce,le);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,le){let oe,we=!1;try{this.work(ce)}catch(ue){we=!0,oe=!!ue&&ue||new Error(ue)}if(we)return this.unsubscribe(),oe}_unsubscribe(){const ce=this.id,le=this.scheduler,we=le.actions,oe=we.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&we.splice(oe,1),null!=ce&&(this.id=this.recycleAsyncId(le,ce,null)),this.delay=null}}},2268:(ot,Ae,V)=>{"use strict";V.d(Ae,{v:()=>z});let u=(()=>{class L{constructor(ce,le=L.now){this.SchedulerAction=ce,this.now=le}schedule(ce,le=0,we){return new this.SchedulerAction(this,ce).schedule(we,le)}}return L.now=()=>Date.now(),L})();class z extends u{constructor(fe,ce=u.now){super(fe,()=>z.delegate&&z.delegate!==this?z.delegate.now():ce()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(fe,ce=0,le){return z.delegate&&z.delegate!==this?z.delegate.schedule(fe,ce,le):super.schedule(fe,ce,le)}flush(fe){const{actions:ce}=this;if(this.active)return void ce.push(fe);let le;this.active=!0;do{if(le=fe.execute(fe.state,fe.delay))break}while(fe=ce.shift());if(this.active=!1,le){for(;fe=ce.shift();)fe.unsubscribe();throw le}}}},353:(ot,Ae,V)=>{"use strict";V.d(Ae,{P:()=>fe,z:()=>L});var u=V(6686);const L=new(V(2268).v)(u.o),fe=L},341:(ot,Ae,V)=>{"use strict";V.d(Ae,{c:()=>le,N:()=>ce});var u=V(6686),L=V(2268);const ce=new class fe extends L.v{}(class z extends u.o{constructor(oe,ue){super(oe,ue),this.scheduler=oe,this.work=ue}schedule(oe,ue=0){return ue>0?super.schedule(oe,ue):(this.delay=ue,this.state=oe,this.scheduler.flush(this),this)}execute(oe,ue){return ue>0||this.closed?super.execute(oe,ue):this._execute(oe,ue)}requestAsyncId(oe,ue,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(oe,ue,H):oe.flush(this)}}),le=ce},5430:(ot,Ae,V)=>{"use strict";V.d(Ae,{hZ:()=>z});const z=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(ot,Ae,V)=>{"use strict";V.d(Ae,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(ot,Ae,V)=>{"use strict";V.d(Ae,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},5279:(ot,Ae,V)=>{"use strict";V.d(Ae,{N:()=>z});const z=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},2782:(ot,Ae,V)=>{"use strict";function u(z){setTimeout(()=>{throw z},0)}V.d(Ae,{z:()=>u})},5379:(ot,Ae,V)=>{"use strict";function u(z){return z}V.d(Ae,{y:()=>u})},6688:(ot,Ae,V)=>{"use strict";V.d(Ae,{k:()=>u});const u=Array.isArray||(z=>z&&"number"==typeof z.length)},8515:(ot,Ae,V)=>{"use strict";V.d(Ae,{z:()=>u});const u=z=>z&&"number"==typeof z.length&&"function"!=typeof z},7043:(ot,Ae,V)=>{"use strict";function u(z){return"function"==typeof z}V.d(Ae,{m:()=>u})},7830:(ot,Ae,V)=>{"use strict";function u(z){return null!==z&&"object"==typeof z}V.d(Ae,{K:()=>u})},8955:(ot,Ae,V)=>{"use strict";function u(z){return!!z&&"function"!=typeof z.subscribe&&"function"==typeof z.then}V.d(Ae,{t:()=>u})},2866:(ot,Ae,V)=>{"use strict";function u(z){return z&&"function"==typeof z.schedule}V.d(Ae,{K:()=>u})},4843:(ot,Ae,V)=>{"use strict";V.d(Ae,{U:()=>L,z:()=>z});var u=V(5379);function z(...fe){return L(fe)}function L(fe){return 0===fe.length?u.y:1===fe.length?fe[0]:function(le){return fe.reduce((we,oe)=>oe(we),le)}}},9249:(ot,Ae,V)=>{"use strict";V.d(Ae,{s:()=>W});var u=V(3650),z=V(2782),fe=V(5430),le=V(3821),oe=V(8515),ue=V(8955),H=V(7830);const W=Q=>{if(Q&&"function"==typeof Q[le.L])return(Q=>Ce=>{const Le=Q[le.L]();if("function"!=typeof Le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Le.subscribe(Ce)})(Q);if((0,oe.z)(Q))return(0,u.V)(Q);if((0,ue.t)(Q))return(Q=>Ce=>(Q.then(Le=>{Ce.closed||(Ce.next(Le),Ce.complete())},Le=>Ce.error(Le)).then(null,z.z),Ce))(Q);if(Q&&"function"==typeof Q[fe.hZ])return(Q=>Ce=>{const Le=Q[fe.hZ]();for(;;){let Be;try{Be=Le.next()}catch(Fe){return Ce.error(Fe),Ce}if(Be.done){Ce.complete();break}if(Ce.next(Be.value),Ce.closed)break}return"function"==typeof Le.return&&Ce.add(()=>{Le.return&&Le.return()}),Ce})(Q);{const Le=`You provided ${(0,H.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Le)}}},3650:(ot,Ae,V)=>{"use strict";V.d(Ae,{V:()=>u});const u=z=>L=>{for(let fe=0,ce=z.length;fe<ce&&!L.closed;fe++)L.next(z[fe]);L.complete()}},655:(ot,Ae,V)=>{"use strict";function fe(ae,he){var Te={};for(var _e in ae)Object.prototype.hasOwnProperty.call(ae,_e)&&he.indexOf(_e)<0&&(Te[_e]=ae[_e]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(_e=Object.getOwnPropertySymbols(ae);ze<_e.length;ze++)he.indexOf(_e[ze])<0&&Object.prototype.propertyIsEnumerable.call(ae,_e[ze])&&(Te[_e[ze]]=ae[_e[ze]])}return Te}function oe(ae,he,Te,_e){return new(Te||(Te=Promise))(function(Ze,vt){function nn(In){try{Xe(_e.next(In))}catch(Pn){vt(Pn)}}function Vt(In){try{Xe(_e.throw(In))}catch(Pn){vt(Pn)}}function Xe(In){In.done?Ze(In.value):function ze(Ze){return Ze instanceof Te?Ze:new Te(function(vt){vt(Ze)})}(In.value).then(nn,Vt)}Xe((_e=_e.apply(ae,he||[])).next())})}V.d(Ae,{_T:()=>fe,mG:()=>oe})},5e3:(ot,Ae,V)=>{"use strict";V.d(Ae,{$8M:()=>Sl,$Z:()=>A_,AFp:()=>AC,ALo:()=>aC,AaK:()=>oe,AsE:()=>hy,CHM:()=>dh,CRH:()=>pC,CZH:()=>em,CqO:()=>sw,D6c:()=>$D,EJc:()=>OC,EpF:()=>sy,F4k:()=>uf,FYo:()=>Fb,FiY:()=>wt,G48:()=>AD,GfV:()=>Jm,Gpc:()=>W,JOm:()=>fo,KtG:()=>Fo,LFG:()=>k,LSH:()=>Lc,Lbi:()=>MC,Lck:()=>nC,MMx:()=>zy,NdJ:()=>Od,O4$:()=>bc,OlP:()=>Bn,Oqu:()=>Mg,PXZ:()=>wD,Q6J:()=>iy,QGY:()=>_g,QP$:()=>Je,QbO:()=>dD,Qsj:()=>ET,R0b:()=>fs,RDi:()=>Oc,Rgc:()=>kf,SBq:()=>jc,Sil:()=>vv,Suo:()=>fC,TTD:()=>Ps,TgZ:()=>gg,X6Q:()=>RM,XFs:()=>et,Xpm:()=>te,Xts:()=>Fh,Y36:()=>Bl,YKP:()=>jy,YNc:()=>rw,Yjl:()=>pe,Yz7:()=>Jt,Z0I:()=>tr,ZZ4:()=>pm,_Bn:()=>du,_UZ:()=>af,_Vd:()=>Hc,_c5:()=>BM,_uU:()=>xg,aQg:()=>gm,c2e:()=>hD,cJS:()=>Ut,cg1:()=>Nd,dDg:()=>yD,dqk:()=>kt,eFA:()=>Iv,ekj:()=>Jl,eoX:()=>HC,f3M:()=>de,g9A:()=>Ff,h0i:()=>Vd,hGG:()=>jD,hij:()=>_f,iGM:()=>hC,ifc:()=>pt,ip1:()=>DC,jDz:()=>zg,kL8:()=>Nw,kcU:()=>Nu,lG2:()=>ii,lcZ:()=>lC,lqb:()=>Bc,lri:()=>VC,n5z:()=>Ls,oAB:()=>Et,oxw:()=>ay,q4F:()=>Xm,qLn:()=>Vh,qOj:()=>Id,qZA:()=>mg,rWj:()=>BC,s9C:()=>ls,sBO:()=>LM,sIi:()=>Dd,s_b:()=>Yg,soG:()=>Gd,tb:()=>PC,tp0:()=>mi,uIk:()=>vo,vHH:()=>Be,vpe:()=>va,wAp:()=>xt,xi3:()=>cC,xp6:()=>$p,z2F:()=>am,zSh:()=>Wm,zs3:()=>Gc});var u=V(8929),z=V(2654),L=V(6498),fe=V(6787),ce=V(2474);function le(s){for(let a in s)if(s[a]===le)return a;throw Error("Could not find renamed property on target object.")}function we(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function oe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(oe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ue(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const H=le({__forward_ref__:le});function W(s){return s.__forward_ref__=W,s.toString=function(){return oe(this())},s}function Q(s){return Ce(s)?s():s}function Ce(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===W}class Be extends Error{constructor(a,c){super(function Fe(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function Ee(s){return"string"==typeof s?s:null==s?"":String(s)}function _t(s,a){throw new Be(-201,!1)}function Vt(s,a){null==s&&function Xe(s,a,c,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function Jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ut(s){return{providers:s.providers||[],imports:s.imports||[]}}function vn(s){return Xt(s,bi)||Xt(s,Ni)}function tr(s){return null!==vn(s)}function Xt(s,a){return s.hasOwnProperty(a)?s[a]:null}function ji(s){return s&&(s.hasOwnProperty(kn)||s.hasOwnProperty(oi))?s[kn]:null}const bi=le({\u0275prov:le}),kn=le({\u0275inj:le}),Ni=le({ngInjectableDef:le}),oi=le({ngInjectorDef:le});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let pi;function pn(s){const a=pi;return pi=s,a}function Tn(s,a,c){const h=vn(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&et.Optional?null:void 0!==a?a:void _t(oe(s))}function On(s){return{toString:s}.toString()}var Rn=(()=>((Rn=Rn||{})[Rn.OnPush=0]="OnPush",Rn[Rn.Default=1]="Default",Rn))(),pt=(()=>{return(s=pt||(pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",pt;var s})();const kt=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),ai={},St=[],Fi=le({\u0275cmp:le}),Rt=le({\u0275dir:le}),nr=le({\u0275pipe:le}),zt=le({\u0275mod:le}),re=le({\u0275fac:le}),J=le({__NG_ELEMENT_ID__:le});let q=0;function te(s){return On(()=>{const c=!0===s.standalone,h={},p={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Rn.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||St,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||pt.Emulated,id:"c"+q++,styles:s.styles||St,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.dependencies,b=s.features;return p.inputs=gn(s.inputs,h),p.outputs=gn(s.outputs),b&&b.forEach(E=>E(p)),p.directiveDefs=m?()=>("function"==typeof m?m():m).map(Re).filter(Ye):null,p.pipeDefs=m?()=>("function"==typeof m?m():m).map(De).filter(Ye):null,p})}function Re(s){return K(s)||X(s)}function Ye(s){return null!==s}function Et(s){return On(()=>({type:s.type,bootstrap:s.bootstrap||St,declarations:s.declarations||St,imports:s.imports||St,exports:s.exports||St,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function gn(s,a){if(null==s)return ai;const c={};for(const h in s)if(s.hasOwnProperty(h)){let p=s[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),c[p]=h,a&&(a[p]=m)}return c}const ii=te;function pe(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function K(s){return s[Fi]||null}function X(s){return s[Rt]||null}function De(s){return s[nr]||null}function Je(s){const a=K(s)||X(s)||De(s);return null!==a&&a.standalone}function bt(s,a){const c=s[zt]||null;if(!c&&!0===a)throw new Error(`Type ${oe(s)} does not have '\u0275mod' property.`);return c}function Yn(s){return Array.isArray(s)&&"object"==typeof s[1]}function zi(s){return Array.isArray(s)&&!0===s[1]}function jr(s){return 0!=(8&s.flags)}function $r(s){return 2==(2&s.flags)}function Qs(s){return 1==(1&s.flags)}function Wi(s){return null!==s.template}function Js(s){return 0!=(256&s[2])}function Zi(s,a){return s.hasOwnProperty(re)?s[re]:null}class Ro{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ps(){return Iu}function Iu(s){return s.type.prototype.ngOnChanges&&(s.setInput=pc),hl}function hl(){const s=No(this),a=null==s?void 0:s.current;if(a){const c=s.previous;if(c===ai)s.previous=a;else for(let h in a)c[h]=a[h];s.current=null,this.ngOnChanges(a)}}function pc(s,a,c,h){const p=No(s)||function eo(s,a){return s[Du]=a}(s,{previous:ai,current:null}),m=p.current||(p.current={}),b=p.previous,E=this.declaredInputs[c],S=b[E];m[E]=new Ro(S&&S.currentValue,a,b===ai),s[h]=a}Ps.ngInherit=!0;const Du="__ngSimpleChanges__";function No(s){return s[Du]||null}function ri(s){for(;Array.isArray(s);)s=s[0];return s}function Zr(s,a){return ri(a[s])}function Gi(s,a){return ri(a[s.index])}function no(s,a){return s.data[a]}function Jr(s,a){return s[a]}function wn(s,a){const c=a[s];return Yn(c)?c:c[0]}function pl(s){return 4==(4&s[2])}function ks(s){return 64==(64&s[2])}function kr(s,a){return null==a?null:s[a]}function ka(s){s[18]=0}function li(s,a){s[5]+=a;let c=s,h=s[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const Nt={lFrame:ja(null),bindingsEnabled:!0};function io(){return Nt.bindingsEnabled}function He(){return Nt.lFrame.lView}function en(){return Nt.lFrame.tView}function dh(s){return Nt.lFrame.contextLView=s,s[8]}function Fo(s){return Nt.lFrame.contextLView=null,s}function Ti(){let s=Uo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Uo(){return Nt.lFrame.currentTNode}function fr(s,a){const c=Nt.lFrame;c.currentTNode=s,c.isParent=a}function ml(){return Nt.lFrame.isParent}function Si(){const s=Nt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Va(){return Nt.lFrame.bindingIndex++}function ws(s){const a=Nt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}function Pu(s,a){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Bo(a)}function Bo(s){Nt.lFrame.currentDirectiveIndex=s}function Ba(){return Nt.lFrame.currentQueryIndex}function vc(s){Nt.lFrame.currentQueryIndex=s}function Ha(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function ku(s,a,c){if(c&et.SkipSelf){let p=a,m=s;for(;!(p=p.parent,null!==p||c&et.Host||(p=Ha(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,s=m}const h=Nt.lFrame=ph();return h.currentTNode=a,h.lView=s,!0}function Ho(s){const a=ph(),c=s[1];Nt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function ph(){const s=Nt.lFrame,a=null===s?null:s.child;return null===a?ja(s):a}function ja(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function gh(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ou=gh;function Os(){const s=gh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qn(){return Nt.lFrame.selectedIndex}function Cs(s){Nt.lFrame.selectedIndex=s}function Jn(){const s=Nt.lFrame;return no(s.tView,s.selectedIndex)}function bc(){Nt.lFrame.currentNamespace="svg"}function Nu(){!function Cc(){Nt.lFrame.currentNamespace=null}()}function yl(s,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:R}=m;b&&(s.contentHooks||(s.contentHooks=[])).push(-c,b),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),S&&(s.viewHooks||(s.viewHooks=[])).push(-c,S),M&&((s.viewHooks||(s.viewHooks=[])).push(c,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,M)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(c,R)}}function jo(s,a,c){zo(s,a,3,c)}function $o(s,a,c,h){(3&s[2])===c&&zo(s,a,c,h)}function Fu(s,a){let c=s[2];(3&c)===a&&(c&=2047,c+=1,s[2]=c)}function zo(s,a,c,h){const m=null!=h?h:-1,b=a.length-1;let E=0;for(let S=void 0!==h?65535&s[18]:0;S<b;S++)if("number"==typeof a[S+1]){if(E=a[S],null!=h&&E>=h)break}else a[S]<0&&(s[18]+=65536),(E<m||-1==m)&&(Uu(s,c,a,S),s[18]=(4294901760&s[18])+S+2),S++}function Uu(s,a,c,h){const p=c[h]<0,m=c[h+1],E=s[p?-c[h]:c[h]];if(p){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Or{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function Es(s,a,c){let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const m=c[h++],b=c[h++],E=c[h++];s.setAttribute(a,b,E,m)}else{const m=p,b=c[++h];Tc(m)?s.setProperty(a,m,b):s.setAttribute(a,m,b),h++}}return h}function za(s){return 3===s||4===s||6===s}function Tc(s){return 64===s.charCodeAt(0)}function Wa(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?c=p:0===c||Bu(s,c,p,null,-1===c||2===c?a[++h]:null)}}return s}function Bu(s,a,c,h,p){let m=0,b=s.length;if(-1===a)b=-1;else for(;m<s.length;){const E=s[m++];if("number"==typeof E){if(E===a){b=-1;break}if(E>a){b=m-1;break}}}for(;m<s.length;){const E=s[m];if("number"==typeof E)break;if(E===c){if(null===h)return void(null!==p&&(s[m+1]=p));if(h===s[m+1])return void(s[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==b&&(s.splice(b,0,a),m=b+1),s.splice(m++,0,c),null!==h&&s.splice(m++,0,h),null!==p&&s.splice(m++,0,p)}function _h(s){return-1!==s}function Ii(s){return 32767&s}function Ns(s,a){let c=function yh(s){return s>>16}(s),h=a;for(;c>0;)h=h[15],c--;return h}let Sc=!0;function Za(s){const a=Sc;return Sc=s,a}let Hu=0;const br={};function Ts(s,a){const c=Cl(s,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(s.injectorIndex=a.length,Ic(h.data,s),Ic(a,null),Ic(h.blueprint,null));const p=Ga(s,a),m=s.injectorIndex;if(_h(p)){const b=Ii(p),E=Ns(p,a),S=E[1].data;for(let M=0;M<8;M++)a[m+M]=E[b+M]|S[b+M]}return a[m+8]=p,m}function Ic(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Cl(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ga(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,h=null,p=a;for(;null!==p;){if(h=Qo(p),null===h)return-1;if(c++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function ro(s,a,c){!function ju(s,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(J)&&(h=c[J]),null==h&&(h=c[J]=Hu++);const p=255&h;a.data[s+(p>>5)]|=1<<p}(s,a,c)}function Zo(s,a,c){if(c&et.Optional)return s;_t()}function Ss(s,a,c,h){if(c&et.Optional&&void 0===h&&(h=null),0==(c&(et.Self|et.Host))){const p=s[9],m=pn(void 0);try{return p?p.get(a,h,c&et.Optional):Tn(a,h,c&et.Optional)}finally{pn(m)}}return Zo(h,0,c)}function Go(s,a,c,h=et.Default,p){if(null!==s){if(1024&a[2]){const b=function wh(s,a,c,h,p){let m=s,b=a;for(;null!==m&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=$u(m,b,c,h|et.Self,br);if(E!==br)return E;let S=m.parent;if(!S){const M=b[21];if(M){const R=M.get(c,br,h);if(R!==br)return R}S=Qo(b),b=b[15]}m=S}return p}(s,a,c,h,br);if(b!==br)return b}const m=$u(s,a,c,h,br);if(m!==br)return m}return Ss(a,c,h,p)}function $u(s,a,c,h,p){const m=function bh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(J)?s[J]:void 0;return"number"==typeof a?a>=0?255&a:Dc:a}(c);if("function"==typeof m){if(!ku(a,s,h))return h&et.Host?Zo(p,0,h):Ss(a,c,h,p);try{const b=m(h);if(null!=b||h&et.Optional)return b;_t()}finally{Ou()}}else if("number"==typeof m){let b=null,E=Cl(s,a),S=-1,M=h&et.Host?a[16][6]:null;for((-1===E||h&et.SkipSelf)&&(S=-1===E?Ga(s,a):a[E+8],-1!==S&&Tl(h,!1)?(b=a[1],E=Ii(S),a=Ns(S,a)):E=-1);-1!==E;){const R=a[1];if(qo(m,E,R.data)){const j=El(E,a,c,b,h,M);if(j!==br)return j}S=a[E+8],-1!==S&&Tl(h,a[1].data[E+8]===M)&&qo(m,E,a)?(b=R,E=Ii(S),a=Ns(S,a)):E=-1}}return p}function El(s,a,c,h,p,m){const b=a[1],E=b.data[s+8],R=Ka(E,b,c,null==h?$r(E)&&Sc:h!=b&&0!=(3&E.type),p&et.Host&&m===E);return null!==R?es(a,b,R,E):br}function Ka(s,a,c,h,p){const m=s.providerIndexes,b=a.data,E=1048575&m,S=s.directiveStart,R=m>>20,ie=p?E+R:s.directiveEnd;for(let me=h?E:E+R;me<ie;me++){const Oe=b[me];if(me<S&&c===Oe||me>=S&&Oe.type===c)return me}if(p){const me=b[S];if(me&&Wi(me)&&me.type===c)return S}return null}function es(s,a,c,h){let p=s[c];const m=a.data;if(function Ec(s){return s instanceof Or}(p)){const b=p;b.resolving&&function $e(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ee(s)}(m[c]));const E=Za(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?pn(b.injectImpl):null;ku(s,h,et.Default);try{p=s[c]=b.factory(void 0,m,s,h),a.firstCreatePass&&c>=h.directiveStart&&function Lu(s,a,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const b=Iu(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,b)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,p),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],a)}finally{null!==S&&pn(S),Za(E),b.resolving=!1,Ou()}}return p}function qo(s,a,c){return!!(c[a+(s>>5)]&1<<s)}function Tl(s,a){return!(s&et.Self||s&et.Host&&a)}class Ko{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,h){return Go(this._tNode,this._lView,a,h,c)}}function Dc(){return new Ko(Ti(),He())}function Ls(s){return On(()=>{const a=s.prototype.constructor,c=a[re]||Yo(a),h=Object.prototype;let p=Object.getPrototypeOf(s.prototype).constructor;for(;p&&p!==h;){const m=p[re]||Yo(p);if(m&&m!==c)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Yo(s){return Ce(s)?()=>{const a=Yo(Q(s));return a&&a()}:Zi(s)}function Qo(s){const a=s[1],c=a.type;return 2===c?a.declTNode:1===c?s[6]:null}function Sl(s){return function qa(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const m=c[p];if(za(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(m===a)return c[p+1];p+=2}}}return null}(Ti(),s)}const Jo="__parameters__";function ea(s,a,c){return On(()=>{const h=function Ac(s){return function(...c){if(s){const h=s(...c);for(const p in h)this[p]=h[p]}}}(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const b=new p(...m);return E.annotation=b,E;function E(S,M,R){const j=S.hasOwnProperty(Jo)?S[Jo]:Object.defineProperty(S,Jo,{value:[]})[Jo];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(b),S}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}class Bn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Jt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jn(s,a){void 0===a&&(a=s);for(let c=0;c<s.length;c++){let h=s[c];Array.isArray(h)?(a===s&&(a=s.slice(0,c)),jn(h,a)):a!==s&&a.push(h)}return a}function Fs(s,a){s.forEach(c=>Array.isArray(c)?Fs(c,a):a(c))}function oo(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Is(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function qi(s,a,c){let h=Rr(s,a);return h>=0?s[1|h]=c:(h=~h,function Th(s,a,c,h){let p=s.length;if(p==a)s.push(c,h);else if(1===p)s.push(h,s[0]),s[0]=c;else{for(p--,s.push(s[p-1],s[p]);p>a;)s[p]=s[p-2],p--;s[a]=c,s[a+1]=h}}(s,h,a,c)),h}function ia(s,a){const c=Rr(s,a);if(c>=0)return s[1|c]}function Rr(s,a){return function Sh(s,a,c){let h=0,p=s.length>>c;for(;p!==h;){const m=h+(p-h>>1),b=s[m<<c];if(a===b)return m<<c;b>a?p=m:h=m+1}return~(p<<c)}(s,a,1)}const Er={},xn="__NG_DI_FLAG__",Qa="ngTempTokenPath",kc=/\n/gm,Vs="__source";let ra;function I(s){const a=ra;return ra=s,a}function x(s,a=et.Default){if(void 0===ra)throw new Be(-203,!1);return null===ra?Tn(s,void 0,a):ra.get(s,a&et.Optional?null:void 0,a)}function k(s,a=et.Default){return(function Wn(){return pi}()||x)(Q(s),a)}function de(s,a=et.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),k(s,a)}function ye(s){const a=[];for(let c=0;c<s.length;c++){const h=Q(s[c]);if(Array.isArray(h)){if(0===h.length)throw new Be(900,!1);let p,m=et.Default;for(let b=0;b<h.length;b++){const E=h[b],S=rt(E);"number"==typeof S?-1===S?p=E.token:m|=S:p=E}a.push(k(p,m))}else a.push(k(h))}return a}function Ue(s,a){return s[xn]=a,s.prototype[xn]=a,s}function rt(s){return s[xn]}const wt=Ue(ea("Optional"),8),mi=Ue(ea("SkipSelf"),4);let Zt;function Oc(s){Zt=s}class bp{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function oa(s){return s instanceof bp?s.changingThisBreaksApplicationSecurity:s}const B=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Qi=(()=>((Qi=Qi||{})[Qi.NONE=0]="NONE",Qi[Qi.HTML=1]="HTML",Qi[Qi.STYLE=2]="STYLE",Qi[Qi.SCRIPT=3]="SCRIPT",Qi[Qi.URL=4]="URL",Qi[Qi.RESOURCE_URL=5]="RESOURCE_URL",Qi))();function Lc(s){const a=function Lh(){const s=He();return s&&s[12]}();return a?a.sanitize(Qi.URL,s)||"":function el(s,a){const c=function Mh(s){return s instanceof bp&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}(s,"URL")?oa(s):function ge(s){return(s=String(s)).match(B)?s:"unsafe:"+s}(Ee(s))}const Fh=new Bn("ENVIRONMENT_INITIALIZER"),sd=new Bn("INJECTOR",-1),Db=new Bn("INJECTOR_DEF_TYPES");class Sp{get(a,c=Er){if(c===Er){const h=new Error(`NullInjectorError: No provider for ${oe(a)}!`);throw h.name="NullInjectorError",h}return c}}function _T(...s){return{\u0275providers:jm(0,s)}}function jm(s,...a){const c=[],h=new Set;let p;return Fs(a,m=>{const b=m;uo(b,c,[],h)&&(p||(p=[]),p.push(b))}),void 0!==p&&$m(p,c),c}function $m(s,a){for(let c=0;c<s.length;c++){const{providers:p}=s[c];Fs(p,m=>{a.push(m)})}}function uo(s,a,c,h){if(!(s=Q(s)))return!1;let p=null,m=ji(s);const b=!m&&K(s);if(m||b){if(b&&!b.standalone)return!1;p=s}else{const S=s.ngModule;if(m=ji(S),!m)return!1;p=S}const E=h.has(p);if(b){if(E)return!1;if(h.add(p),b.dependencies){const S="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const M of S)uo(M,a,c,h)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let M;h.add(p);try{Fs(m.imports,R=>{uo(R,a,c,h)&&(M||(M=[]),M.push(R))})}finally{}void 0!==M&&$m(M,a)}if(!E){const M=Zi(p)||(()=>new p);a.push({provide:p,useFactory:M,deps:St},{provide:Db,useValue:p,multi:!0},{provide:Fh,useValue:()=>k(p),multi:!0})}const S=m.providers;null==S||E||Fs(S,R=>{a.push(R)})}}return p!==s&&void 0!==s.providers}const Uc=le({provide:String,useValue:le});function od(s){return null!==s&&"object"==typeof s&&Uc in s}function Vc(s){return"function"==typeof s}const Wm=new Bn("Set Injector scope."),Ip={},vT={};let Zm;function Dp(){return void 0===Zm&&(Zm=new Sp),Zm}class Bc{}class Mb extends Bc{constructor(a,c,h,p){super(),this.parent=c,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ap(a,b=>this.processProvider(b)),this.records.set(sd,Ol(void 0,this)),p.has("environment")&&this.records.set(Bc,Ol(void 0,this));const m=this.records.get(Wm);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Db.multi,St,et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=I(this),h=pn(void 0);try{return a()}finally{I(c),pn(h)}}get(a,c=Er,h=et.Default){this.assertNotDestroyed();const p=I(this),m=pn(void 0);try{if(!(h&et.SkipSelf)){let E=this.records.get(a);if(void 0===E){const S=function ad(s){return"function"==typeof s||"object"==typeof s&&s instanceof Bn}(a)&&vn(a);E=S&&this.injectableDefInScope(S)?Ol(Gm(a),Ip):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(h&et.Self?Dp():this.parent).get(a,c=h&et.Optional&&c===Er?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[Qa]=b[Qa]||[]).unshift(oe(a)),p)throw b;return function At(s,a,c,h){const p=s[Qa];throw a[Vs]&&p.unshift(a[Vs]),s.message=function Lt(s,a,c,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let p=oe(a);if(Array.isArray(a))p=a.map(oe).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let E=a[b];m.push(b+":"+("string"==typeof E?JSON.stringify(E):oe(E)))}p=`{${m.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${s.replace(kc,"\n  ")}`}("\n"+s.message,p,c,h),s.ngTokenPath=p,s[Qa]=null,s}(b,a,"R3InjectorError",this.source)}throw b}finally{pn(m),I(p)}}resolveInjectorInitializers(){const a=I(this),c=pn(void 0);try{const h=this.get(Fh.multi,St,et.Self);for(const p of h)p()}finally{I(a),pn(c)}}toString(){const a=[],c=this.records;for(const h of c.keys())a.push(oe(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(a){let c=Vc(a=Q(a))?a:Q(a&&a.provide);const h=function bT(s){return od(s)?Ol(void 0,s.useValue):Ol(qm(s),Ip)}(a);if(Vc(a)||!0!==a.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Ol(void 0,Ip,!0),p.factory=()=>ye(p.multi),this.records.set(c,p)),c=a,p.multi.push(a)}this.records.set(c,h)}hydrate(a,c){return c.value===Ip&&(c.value=vT,c.value=c.factory()),"object"==typeof c.value&&c.value&&function nl(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Q(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Gm(s){const a=vn(s),c=null!==a?a.factory:Zi(s);if(null!==c)return c;if(s instanceof Bn)throw new Be(204,!1);if(s instanceof Function)return function Pb(s){const a=s.length;if(a>0)throw function ns(s,a){const c=[];for(let h=0;h<s;h++)c.push(a);return c}(a,"?"),new Be(204,!1);const c=function Kt(s){const a=s&&(s[bi]||s[Ni]);if(a){const c=function dr(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Be(204,!1)}function qm(s,a,c){let h;if(Vc(s)){const p=Q(s);return Zi(p)||Gm(p)}if(od(s))h=()=>Q(s.useValue);else if(function xb(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...ye(s.deps||[]));else if(function zm(s){return!(!s||!s.useExisting)}(s))h=()=>k(Q(s.useExisting));else{const p=Q(s&&(s.useClass||s.provide));if(!function Km(s){return!!s.deps}(s))return Zi(p)||Gm(p);h=()=>new p(...ye(s.deps))}return h}function Ol(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function kb(s){return!!s.\u0275providers}function Ap(s,a){for(const c of s)Array.isArray(c)?Ap(c,a):kb(c)?Ap(c.\u0275providers,a):a(c)}class Rl{}class Nb{resolveComponentFactory(a){throw function Ob(s){const a=Error(`No component factory found for ${oe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Hc=(()=>{class s{}return s.NULL=new Nb,s})();function Lb(){return Nl(Ti(),He())}function Nl(s,a){return new jc(Gi(s,a))}let jc=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Lb,s})();function CT(s){return s instanceof jc?s.nativeElement:s}class Fb{}let ET=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Qm(){const s=He(),c=wn(Ti().index,s);return(Yn(c)?c:s)[11]}(),s})(),Ub=(()=>{class s{}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:()=>null}),s})();class Jm{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Xm=new Jm("14.2.1"),Mp={};function $c(s){return s.ngOriginalError}class Vh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&$c(a);for(;c&&$c(c);)c=$c(c);return c||null}}const i_=new Map;let Hh=0;const s_="__ngContext__";function pr(s,a){Yn(a)?(s[s_]=a[20],function xT(s){i_.set(s[20],s)}(a)):s[s_]=a}function Ll(s){const a=s[s_];return"number"==typeof a?function Wb(s){return i_.get(s)||null}(a):a||null}function Fl(s){const a=Ll(s);return a?Yn(a)?a:a.lView:null}function ho(s){return s instanceof Function?s():s}var fo=(()=>((fo=fo||{})[fo.Important=1]="Important",fo[fo.DashCase=2]="DashCase",fo))();function ud(s,a){return undefined(s,a)}function dd(s){const a=s[3];return zi(a)?a[3]:a}function c_(s){return Qb(s[13])}function u_(s){return Qb(s[4])}function Qb(s){for(;null!==s&&!zi(s);)s=s[4];return s}function hd(s,a,c,h,p){if(null!=h){let m,b=!1;zi(h)?m=h:Yn(h)&&(b=!0,h=h[0]);const E=ri(h);0===s&&null!==c?null==p?__(a,c,E):Wc(a,c,E,p||null,!0):1===s&&null!==c?Wc(a,c,E,p||null,!0):2===s?function zh(s,a,c){const h=y_(s,a);h&&function s0(s,a,c,h){s.removeChild(a,c,h)}(s,h,a,c)}(a,E,b):3===s&&a.destroyNode(E),null!=m&&function JT(s,a,c,h,p){const m=c[7];m!==ri(c)&&hd(a,s,h,m,p);for(let E=10;E<c.length;E++){const S=c[E];Wh(S[1],S,s,a,h,m)}}(a,s,m,c,p)}}function f_(s,a,c){return s.createElement(a,c)}function p_(s,a){const c=s[9],h=c.indexOf(a),p=a[3];512&a[2]&&(a[2]&=-513,li(p,-1)),c.splice(h,1)}function Fp(s,a){if(s.length<=10)return;const c=10+a,h=s[c];if(h){const p=h[17];null!==p&&p!==s&&p_(p,h),a>0&&(s[c-1][4]=h[4]);const m=Is(s,10+a);!function zT(s,a){Wh(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function g_(s,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Wh(s,a,c,3,null,null),function ZT(s){let a=s[13];if(!a)return m_(s[1],s);for(;a;){let c=null;if(Yn(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==s;)Yn(a)&&m_(a[1],a),a=a[3];null===a&&(a=s),Yn(a)&&m_(a[1],a),c=a&&a[4]}a=c}}(a)}}function m_(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function qT(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let h=0;h<c.length;h+=2){const p=a[c[h]];if(!(p instanceof Or)){const m=c[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const E=p[m[b]],S=m[b+1];try{S.call(E)}finally{}}else try{m.call(p)}finally{}}}}(s,a),function GT(s,a){const c=s.cleanup,h=a[7];let p=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const b=c[m+1],E="function"==typeof b?b(a):ri(a[b]),S=h[p=c[m+2]],M=c[m+3];"boolean"==typeof M?E.removeEventListener(c[m],S,M):M>=0?h[p=M]():h[p=-M].unsubscribe(),m+=2}else{const b=h[p=c[m+1]];c[m].call(b)}if(null!==h){for(let m=p+1;m<h.length;m++)(0,h[m])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&zi(a[3])){c!==a[3]&&p_(c,a);const h=a[19];null!==h&&h.detachView(s)}!function MT(s){i_.delete(s[20])}(a)}}function n0(s,a,c){return function r0(s,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const p=s.data[h.directiveStart].encapsulation;if(p===pt.None||p===pt.Emulated)return null}return Gi(h,c)}(s,a.parent,c)}function Wc(s,a,c,h,p){s.insertBefore(a,c,h,p)}function __(s,a,c){s.appendChild(a,c)}function Up(s,a,c,h,p){null!==h?Wc(s,a,c,h,p):__(s,a,c)}function y_(s,a){return s.parentNode(a)}let l0=function a0(s,a,c){return 40&s.type?Gi(s,c):null};function pd(s,a,c,h){const p=n0(s,h,a),m=a[11],E=function o0(s,a,c){return l0(s,a,c)}(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(c))for(let S=0;S<c.length;S++)Up(m,p,c[S],E,!1);else Up(m,p,c,E,!1)}function gd(s,a){if(null!==a){const c=a.type;if(3&c)return Gi(a,s);if(4&c)return b_(-1,s[a.index]);if(8&c){const h=a.child;if(null!==h)return gd(s,h);{const p=s[a.index];return zi(p)?b_(-1,p):ri(p)}}if(32&c)return ud(a,s)()||ri(s[a.index]);{const h=c0(s,a);return null!==h?Array.isArray(h)?h[0]:gd(dd(s[16]),h):gd(s,a.next)}}return null}function c0(s,a){return null!==a?s[16][6].projection[a.projection]:null}function b_(s,a){const c=10+s+1;if(c<a.length){const h=a[c],p=h[1].firstChild;if(null!==p)return gd(h,p)}return a[7]}function w_(s,a,c,h,p,m,b){for(;null!=c;){const E=h[c.index],S=c.type;if(b&&0===a&&(E&&pr(ri(E),h),c.flags|=4),64!=(64&c.flags))if(8&S)w_(s,a,c.child,h,p,m,!1),hd(a,s,p,E,m);else if(32&S){const M=ud(c,h);let R;for(;R=M();)hd(a,s,p,R,m);hd(a,s,p,E,m)}else 16&S?u0(s,a,h,c,p,m):hd(a,s,p,E,m);c=b?c.projectionNext:c.next}}function Wh(s,a,c,h,p,m){w_(c,h,s.firstChild,a,p,m,!1)}function u0(s,a,c,h,p,m){const b=c[16],S=b[6].projection[h.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)hd(a,s,p,S[M],m);else w_(s,a,S,b[3],p,m,!0)}function Ji(s,a,c){s.setAttribute(a,"style",c)}function C_(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function E_(s,a,c){let h=s.length;for(;;){const p=s.indexOf(a,c);if(-1===p)return p;if(0===p||s.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||s.charCodeAt(p+m)<=32)return p}c=p+1}}const Bp="ng-template";function XT(s,a,c){let h=0;for(;h<s.length;){let p=s[h++];if(c&&"class"===p){if(p=s[h],-1!==E_(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<s.length&&"string"==typeof(p=s[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function h0(s){return 4===s.type&&s.value!==Bp}function f0(s,a,c){return a===(4!==s.type||c?s.value:Bp)}function Xx(s,a,c){let h=4;const p=s.attrs||[],m=function jp(s){for(let a=0;a<s.length;a++)if(za(s[a]))return a;return s.length}(p);let b=!1;for(let E=0;E<a.length;E++){const S=a[E];if("number"!=typeof S){if(!b)if(4&h){if(h=2|1&h,""!==S&&!f0(s,S,c)||""===S&&1===a.length){if(ca(h))return!1;b=!0}}else{const M=8&h?S:a[++E];if(8&h&&null!==s.attrs){if(!XT(s.attrs,M,c)){if(ca(h))return!1;b=!0}continue}const j=eS(8&h?"class":S,p,h0(s),c);if(-1===j){if(ca(h))return!1;b=!0;continue}if(""!==M){let ie;ie=j>m?"":p[j+1].toLowerCase();const me=8&h?ie:null;if(me&&-1!==E_(me,M,0)||2&h&&M!==ie){if(ca(h))return!1;b=!0}}}}else{if(!b&&!ca(h)&&!ca(S))return!1;if(b&&ca(S))continue;b=!1,h=S|1&h}}return ca(h)||b}function ca(s){return 0==(1&s)}function eS(s,a,c,h){if(null===a)return-1;let p=0;if(h||!c){let m=!1;for(;p<a.length;){const b=a[p];if(b===s)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let E=a[++p];for(;"string"==typeof E;)E=a[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function eM(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const h=s[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,s)}function Hp(s,a,c=!1){for(let h=0;h<a.length;h++)if(Xx(s,a[h],c))return!0;return!1}function Zc(s,a){return s?":not("+a.trim()+")":a}function T_(s){let a=s[0],c=1,h=2,p="",m=!1;for(;c<s.length;){let b=s[c];if("string"==typeof b)if(2&h){const E=s[++c];p+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!ca(b)&&(a+=Zc(m,p),p=""),h=b,m=m||!ca(h);c++}return""!==p&&(a+=Zc(m,p)),a}const Ht={};function $p(s){_0(en(),He(),Qn()+s,!1)}function _0(s,a,c,h){if(!h)if(3==(3&a[2])){const m=s.preOrderCheckHooks;null!==m&&jo(a,m,c)}else{const m=s.preOrderHooks;null!==m&&$o(a,m,0,c)}Cs(c)}function C0(s,a=null,c=null,h){const p=Ul(s,a,c,h);return p.resolveInjectorInitializers(),p}function Ul(s,a=null,c=null,h,p=new Set){const m=[c||St,_T(s)];return h=h||("object"==typeof s?void 0:oe(s)),new Mb(m,a||Dp(),h||null,p)}let Gc=(()=>{class s{static create(c,h){var p;if(Array.isArray(c))return C0({name:""},h,c,"");{const m=null!==(p=c.name)&&void 0!==p?p:"";return C0({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=Er,s.NULL=new Sp,s.\u0275prov=Jt({token:s,providedIn:"any",factory:()=>k(sd)}),s.__NG_ELEMENT_ID__=-1,s})();function Bl(s,a=et.Default){const c=He();return null===c?k(s,a):Go(Ti(),c,Q(s),a)}function A_(){throw new Error("invalid")}function Wp(s,a){return s<<17|a<<2}function $s(s){return s>>17&32767}function jl(s){return 2|s}function ua(s){return(131068&s)>>2}function Zp(s,a){return-131069&s|a<<2}function il(s){return 1|s}function Jp(s,a){const c=s.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const p=c[h],m=c[h+1];if(-1!==m){const b=s.data[m];vc(p),b.contentQueries(2,a[m],m)}}}function Xp(s,a,c,h,p,m,b,E,S,M,R){const j=a.blueprint.slice();return j[0]=p,j[2]=76|h,(null!==R||s&&1024&s[2])&&(j[2]|=1024),ka(j),j[3]=j[15]=s,j[8]=c,j[10]=b||s&&s[10],j[11]=E||s&&s[11],j[12]=S||s&&s[12]||null,j[9]=M||s&&s[9]||null,j[6]=m,j[20]=function jh(){return Hh++}(),j[21]=R,j[16]=2==a.type?s[16]:j,j}function zl(s,a,c,h,p){let m=s.data[a];if(null===m)m=function qh(s,a,c,h,p){const m=Uo(),b=ml(),S=s.data[a]=function CS(s,a,c,h,p,m){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,c,a,h,p);return null===s.firstChild&&(s.firstChild=S),null!==m&&(b?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S)),S}(s,a,c,h,p),function Mu(){return Nt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=h,m.attrs=p;const b=function gl(){const s=Nt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return fr(m,!0),m}function Wl(s,a,c,h){if(0===c)return-1;const p=a.length;for(let m=0;m<c;m++)a.push(h),s.blueprint.push(h),s.data.push(null);return p}function eg(s,a,c){Ho(a);try{const h=s.viewQuery;null!==h&&lg(1,h,c);const p=s.template;null!==p&&L0(s,a,p,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Jp(s,a),s.staticViewQueries&&lg(2,s.viewQuery,c);const m=s.components;null!==m&&function R0(s,a){for(let c=0;c<a.length;c++)Y0(s,a[c])}(a,m)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[2]&=-5,Os()}}function Kh(s,a,c,h){const p=a[2];if(128!=(128&p)){Ho(a);try{ka(a),function Ua(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&L0(s,a,c,2,h);const b=3==(3&p);if(b){const M=s.preOrderCheckHooks;null!==M&&jo(a,M,null)}else{const M=s.preOrderHooks;null!==M&&$o(a,M,0,null),Fu(a,0)}if(function K0(s){for(let a=c_(s);null!==a;a=u_(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const p=c[h],m=p[3];0==(512&p[2])&&li(m,1),p[2]|=512}}}(a),function q0(s){for(let a=c_(s);null!==a;a=u_(a))for(let c=10;c<a.length;c++){const h=a[c],p=h[1];ks(h)&&Kh(p,h,p.template,h[8])}}(a),null!==s.contentQueries&&Jp(s,a),b){const M=s.contentCheckHooks;null!==M&&jo(a,M)}else{const M=s.contentHooks;null!==M&&$o(a,M,1),Fu(a,1)}!function O0(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Cs(~p);else{const m=p,b=c[++h],E=c[++h];Pu(b,m),E(2,a[m])}}}finally{Cs(-1)}}(s,a);const E=s.components;null!==E&&function vS(s,a){for(let c=0;c<a.length;c++)rg(s,a[c])}(a,E);const S=s.viewQuery;if(null!==S&&lg(2,S,h),b){const M=s.viewCheckHooks;null!==M&&jo(a,M)}else{const M=s.viewHooks;null!==M&&$o(a,M,2),Fu(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,li(a[3],-1))}finally{Os()}}}function N0(s,a,c,h){const p=a[10],b=pl(a);try{!b&&p.begin&&p.begin(),b&&eg(s,a,h),Kh(s,a,c,h)}finally{!b&&p.end&&p.end()}}function L0(s,a,c,h,p){const m=Qn(),b=2&h;try{Cs(-1),b&&a.length>22&&_0(s,a,22,!1),c(h,p)}finally{Cs(m)}}function V_(s,a,c){!io()||(function H0(s,a,c,h){const p=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||Ts(c,a),pr(h,a);const b=c.initialInputs;for(let E=p;E<m;E++){const S=s.data[E],M=Wi(S);M&&DS(a,c,S);const R=es(a,s,E,c);pr(R,a),null!==b&&Z0(0,E-p,R,S,0,b),M&&(wn(c.index,a)[8]=R)}}(s,a,c,Gi(c,a)),128==(128&c.flags)&&function SS(s,a,c){const h=c.directiveStart,p=c.directiveEnd,m=c.index,b=function fh(){return Nt.lFrame.currentDirectiveIndex}();try{Cs(m);for(let E=h;E<p;E++){const S=s.data[E],M=a[E];Bo(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&j0(S,M)}}finally{Cs(-1),Bo(b)}}(s,a,c))}function tg(s,a,c=Gi){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],E=-1===b?c(a,s):s[b];s[p++]=E}}}function B_(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=ng(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function ng(s,a,c,h,p,m,b,E,S,M){const R=22+h,j=R+p,ie=function bS(s,a){const c=[];for(let h=0;h<a;h++)c.push(h<s?null:Ht);return c}(R,j),me="function"==typeof M?M():M;return ie[1]={type:s,blueprint:ie,template:c,queries:null,viewQuery:E,declTNode:a,data:ie.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:me,incompleteFirstPass:!1}}function U0(s,a,c,h){const p=rn(a);null===c?p.push(h):(p.push(c),s.firstCreatePass&&Fr(s).push(h,p.length-1))}function H_(s,a,c){for(let h in s)if(s.hasOwnProperty(h)){const p=s[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,p):c[h]=[a,p]}return c}function j_(s,a){const h=a.directiveEnd,p=s.data,m=a.attrs,b=[];let E=null,S=null;for(let M=a.directiveStart;M<h;M++){const R=p[M],j=R.inputs,ie=null===m||h0(a)?null:G0(j,m);b.push(ie),E=H_(j,M,E),S=H_(R.outputs,M,S)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=16),E.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=E,a.outputs=S}function Ds(s,a,c,h,p,m,b,E){const S=Gi(a,c);let R,M=a.inputs;!E&&null!=M&&(R=M[h])?(os(s,c,R,h,p),$r(a)&&V0(c,a.index)):3&a.type&&(h=function ES(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),p=null!=b?b(p,a.value||"",h):p,m.setProperty(S,h,p))}function V0(s,a){const c=wn(a,s);16&c[2]||(c[2]|=32)}function $_(s,a,c,h){let p=!1;if(io()){const m=function IS(s,a,c){const h=s.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];Hp(c,b.selectors,!1)&&(p||(p=[]),ro(Ts(c,a),s,b.type),Wi(b)?($0(s,c),p.unshift(b)):p.push(b))}return p}(s,a,c),b=null===h?null:{"":-1};if(null!==m){p=!0,W0(c,s.data.length,m.length);for(let R=0;R<m.length;R++){const j=m[R];j.providersResolver&&j.providersResolver(j)}let E=!1,S=!1,M=Wl(s,a,m.length,null);for(let R=0;R<m.length;R++){const j=m[R];c.mergedAttrs=Wa(c.mergedAttrs,j.hostAttrs),W_(s,c,a,M,j),z0(M,j,b),null!==j.contentQueries&&(c.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(c.flags|=128);const ie=j.type.prototype;!E&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!S&&(ie.ngOnChanges||ie.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),S=!0),M++}j_(s,c)}b&&function z_(s,a,c){if(a){const h=s.localNames=[];for(let p=0;p<a.length;p+=2){const m=c[a[p+1]];if(null==m)throw new Be(-301,!1);h.push(a[p],m)}}}(c,h,b)}return c.mergedAttrs=Wa(c.mergedAttrs,c.attrs),p}function Yh(s,a,c,h,p,m){const b=m.hostBindings;if(b){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const S=~a.index;(function Cd(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(E)!=S&&E.push(S),E.push(h,p,b)}}function j0(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function $0(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function z0(s,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=s;Wi(a)&&(c[""]=s)}}function W0(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}function W_(s,a,c,h,p){s.data[h]=p;const m=p.factory||(p.factory=Zi(p.type)),b=new Or(m,Wi(p),Bl);s.blueprint[h]=b,c[h]=b,Yh(s,a,0,h,Wl(s,c,p.hostVars,Ht),p)}function DS(s,a,c){const h=Gi(a,s),p=B_(c),m=s[10],b=Cn(s,Xp(s,p,null,c.onPush?32:16,h,a,m,m.createRenderer(h,c),null,null,null));s[a.index]=b}function mo(s,a,c,h,p,m){const b=Gi(s,a);!function ig(s,a,c,h,p,m,b){if(null==m)s.removeAttribute(a,p,c);else{const E=null==b?Ee(m):b(m,h||"",p);s.setAttribute(a,p,E,c)}}(a[11],b,m,s.value,c,h,p)}function Z0(s,a,c,h,p,m){const b=m[a];if(null!==b){const E=h.setInput;for(let S=0;S<b.length;){const M=b[S++],R=b[S++],j=b[S++];null!==E?h.setInput(c,j,M,R):c[R]=j}}}function G0(s,a){let c=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;s.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,s[p],a[h+1])),h+=2}else h+=2;else h+=4}return c}function Z_(s,a,c,h){return new Array(s,!0,!1,a,null,0,h,c,null,null)}function rg(s,a){const c=wn(a,s);if(ks(c)){const h=c[1];48&c[2]?Kh(h,c,h.template,c[8]):c[5]>0&&sg(c)}}function sg(s){for(let h=c_(s);null!==h;h=u_(h))for(let p=10;p<h.length;p++){const m=h[p];if(ks(m))if(512&m[2]){const b=m[1];Kh(b,m,b.template,m[8])}else m[5]>0&&sg(m)}const c=s[1].components;if(null!==c)for(let h=0;h<c.length;h++){const p=wn(c[h],s);ks(p)&&p[5]>0&&sg(p)}}function Y0(s,a){const c=wn(a,s),h=c[1];(function Un(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(h,c),eg(h,c,c[8])}function Cn(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function tn(s){for(;s;){s[2]|=32;const a=dd(s);if(Js(s)&&!a)return s;s=a}return null}function lg(s,a,c){vc(0),a(s,c)}function rn(s){return s[7]||(s[7]=[])}function Fr(s){return s.cleanup||(s.cleanup=[])}function cg(s,a){const c=s[9],h=c?c.get(Vh,null):null;h&&h.handleError(a)}function os(s,a,c,h,p){for(let m=0;m<c.length;){const b=c[m++],E=c[m++],S=a[b],M=s.data[b];null!==M.setInput?M.setInput(S,p,h,E):S[E]=p}}function ol(s,a,c){const h=Zr(a,s);!function Jb(s,a,c){s.setValue(a,c)}(s[11],h,c)}function ug(s,a,c){let h=c?s.styles:null,p=c?s.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const E=a[b];"number"==typeof E?m=E:1==m?p=ue(p,E):2==m&&(h=ue(h,E+": "+a[++b]+";"))}c?s.styles=h:s.stylesWithoutHost=h,c?s.classes=p:s.classesWithoutHost=p}function dg(s,a,c,h,p=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&h.push(ri(m)),zi(m))for(let E=10;E<m.length;E++){const S=m[E],M=S[1].firstChild;null!==M&&dg(S[1],S,M,h)}const b=c.type;if(8&b)dg(s,a,c.child,h);else if(32&b){const E=ud(c,a);let S;for(;S=E();)h.push(S)}else if(16&b){const E=c0(a,c);if(Array.isArray(E))h.push(...E);else{const S=dd(a[16]);dg(S[1],S,E,h,!0)}}c=p?c.projectionNext:c.next}return h}class Ed{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return dg(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(zi(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(Fp(a,h),Is(c,h))}this._attachedToViewContainer=!1}g_(this._lView[1],this._lView)}onDestroy(a){U0(this._lView[1],this._lView,null,a)}markForCheck(){tn(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function zn(s,a,c){const h=a[10];h.begin&&h.begin();try{Kh(s,a,s.template,c)}catch(p){throw cg(a,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xb(s,a){Wh(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=a}}class Kc extends Ed{constructor(a){super(a),this._view=a}detectChanges(){!function og(s){!function Gl(s){for(let a=0;a<s.components.length;a++){const c=s.components[a],h=Fl(c);if(null!==h){const p=h[1];N0(p,h,p.template,c)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Qh extends Hc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=K(a);return new Jh(c,this.ngModule)}}function Td(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class J0{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,h){const p=this.injector.get(a,Mp,h);return p!==Mp||c===Mp?p:this.parentInjector.get(a,c,h)}}class Jh extends Rl{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function tM(s){return s.map(T_).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Td(this.componentDef.inputs)}get outputs(){return Td(this.componentDef.outputs)}create(a,c,h,p){let m=(p=p||this.ngModule)instanceof Bc?p:null==p?void 0:p.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const b=m?new J0(a,m):a,E=b.get(Fb,null);if(null===E)throw new Be(407,!1);const S=b.get(Ub,null),M=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",j=h?function wS(s,a,c){return s.selectRootElement(a,c===pt.ShadowDom)}(M,h,this.componentDef.encapsulation):f_(E.createRenderer(null,this.componentDef),R,function AS(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(R)),ie=this.componentDef.onPush?288:272,me={components:[]},Oe=ng(0,null,null,1,0,null,null,null,null,null),qe=Xp(null,Oe,me,ie,null,null,E,M,S,b,null);let st,dt;Ho(qe);try{const Pt=function fn(s,a,c,h,p,m){const b=c[1];c[22]=s;const S=zl(b,22,2,"#host",null),M=S.mergedAttrs=a.hostAttrs;null!==M&&(ug(S,M,!0),null!==s&&(Es(p,s,M),null!==S.classes&&C_(p,s,S.classes),null!==S.styles&&Ji(p,s,S.styles)));const R=h.createRenderer(s,a),j=Xp(c,B_(a),null,a.onPush?32:16,c[22],S,h,R,m||null,null,null);return b.firstCreatePass&&(ro(Ts(S,c),b,a.type),$0(b,S),W0(S,c.length,1)),Cn(c,j),c[22]=j}(j,this.componentDef,qe,E,M);if(j)if(h)Es(M,j,["ng-version",Xm.full]);else{const{attrs:je,classes:Dt}=function m0(s){const a=[],c=[];let h=1,p=2;for(;h<s.length;){let m=s[h];if("string"==typeof m)2===p?""!==m&&a.push(m,s[++h]):8===p&&c.push(m);else{if(!ca(p))break;p=m}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);je&&Es(M,j,je),Dt&&Dt.length>0&&C_(M,j,Dt.join(" "))}if(dt=no(Oe,22),void 0!==c){const je=dt.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const sn=c[Dt];je.push(null!=sn?Array.from(sn):null)}}st=function hg(s,a,c,h,p){const m=c[1],b=function TS(s,a,c){const h=Ti();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),W_(s,h,a,Wl(s,a,1,null),c),j_(s,h));const p=es(a,s,h.directiveStart,h);pr(p,a);const m=Gi(h,a);return m&&pr(m,a),p}(m,c,a);if(h.components.push(b),s[8]=b,null!==p)for(const S of p)S(b,a);if(a.contentQueries){const S=Ti();a.contentQueries(1,b,S.directiveStart)}const E=Ti();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Cs(E.index),Yh(c[1],E,0,E.directiveStart,E.directiveEnd,a),j0(a,b)),b}(Pt,this.componentDef,qe,me,[ew]),eg(Oe,qe,null)}finally{Os()}return new X0(this.componentType,st,Nl(dt,qe),qe,dt)}}class X0 extends class wT{}{constructor(a,c,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new Kc(p),this.componentType=a}setInput(a,c){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[a])){const m=this._rootLView;os(m[1],m,p,a,c),V0(m,this._tNode.index)}}get injector(){return new Ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ew(){const s=Ti();yl(He()[1],s)}function Id(s){let a=function _o(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const h=[s];for(;a;){let p;if(Wi(s))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Be(903,!1);p=a.\u0275dir}if(p){if(c){h.push(p);const b=s;b.inputs=G_(s.inputs),b.declaredInputs=G_(s.declaredInputs),b.outputs=G_(s.outputs);const E=p.hostBindings;E&&q_(s,E);const S=p.viewQuery,M=p.contentQueries;if(S&&as(s,S),M&&MS(s,M),we(s.inputs,p.inputs),we(s.declaredInputs,p.declaredInputs),we(s.outputs,p.outputs),Wi(p)&&p.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const E=m[b];E&&E.ngInherit&&E(s),E===Id&&(c=!1)}}a=Object.getPrototypeOf(a)}!function yo(s){let a=0,c=null;for(let h=s.length-1;h>=0;h--){const p=s[h];p.hostVars=a+=p.hostVars,p.hostAttrs=Wa(p.hostAttrs,c=Wa(c,p.hostAttrs))}}(h)}function G_(s){return s===ai?{}:s===St?[]:s}function as(s,a){const c=s.viewQuery;s.viewQuery=c?(h,p)=>{a(h,p),c(h,p)}:a}function MS(s,a){const c=s.contentQueries;s.contentQueries=c?(h,p,m)=>{a(h,p,m),c(h,p,m)}:a}function q_(s,a){const c=s.hostBindings;s.hostBindings=c?(h,p)=>{a(h,p),c(h,p)}:a}let Xh=null;function ql(){if(!Xh){const s=kt.Symbol;if(s&&s.iterator)Xh=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Xh=h)}}}return Xh}function Dd(s){return!!Y_(s)&&(Array.isArray(s)||!(s instanceof Map)&&ql()in s)}function Y_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function En(s,a,c){return s[a]=c}function Ur(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function ha(s,a,c,h){const p=Ur(s,a,c);return Ur(s,a+1,h)||p}function vo(s,a,c,h){const p=He();return Ur(p,Va(),a)&&(en(),mo(Jn(),p,s,a,c,h)),vo}function Ft(s,a,c,h){return Ur(s,Va(),c)?a+Ee(c)+h:Ht}function xd(s,a,c,h,p,m){const E=ha(s,function Xr(){return Nt.lFrame.bindingIndex}(),c,p);return ws(2),E?a+Ee(c)+h+Ee(p)+m:Ht}function rw(s,a,c,h,p,m,b,E){const S=He(),M=en(),R=s+22,j=M.firstCreatePass?function rf(s,a,c,h,p,m,b,E,S){const M=a.consts,R=zl(a,s,4,b||null,kr(M,E));$_(a,c,R,kr(M,S)),yl(a,R);const j=R.tViews=ng(2,R,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,R),j.queries=a.queries.embeddedTView(R)),R}(R,M,S,a,c,h,p,m,b):M.data[R];fr(j,!1);const ie=S[11].createComment("");pd(M,S,ie,j),pr(ie,S),Cn(S,S[R]=Z_(ie,S,ie,j)),Qs(j)&&V_(M,S,j),null!=b&&tg(S,j,E)}function iy(s,a,c){const h=He();return Ur(h,Va(),a)&&Ds(en(),Jn(),h,s,a,h[11],c,!1),iy}function kd(s,a,c,h,p){const b=p?"class":"style";os(s,c,a.inputs[b],b,h)}function gg(s,a,c,h){const p=He(),m=en(),b=22+s,E=p[11],S=p[b]=f_(E,a,function _l(){return Nt.lFrame.currentNamespace}()),M=m.firstCreatePass?function RS(s,a,c,h,p,m,b){const E=a.consts,M=zl(a,s,2,p,kr(E,m));return $_(a,c,M,kr(E,b)),null!==M.attrs&&ug(M,M.attrs,!1),null!==M.mergedAttrs&&ug(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(b,m,p,0,a,c,h):m.data[b];fr(M,!0);const R=M.mergedAttrs;null!==R&&Es(E,S,R);const j=M.classes;null!==j&&C_(E,S,j);const ie=M.styles;return null!==ie&&Ji(E,S,ie),64!=(64&M.flags)&&pd(m,p,S,M),0===function Ra(){return Nt.lFrame.elementDepthCount}()&&pr(S,p),function xu(){Nt.lFrame.elementDepthCount++}(),Qs(M)&&(V_(m,p,M),function F0(s,a,c){if(jr(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const b=s.data[m];b.contentQueries&&b.contentQueries(1,c[m],m)}}}(m,M,p)),null!==h&&tg(p,M),gg}function mg(){let s=Ti();ml()?function Vo(){Nt.lFrame.isParent=!1}():(s=s.parent,fr(s,!1));const a=s;!function Na(){Nt.lFrame.elementDepthCount--}();const c=en();return c.firstCreatePass&&(yl(c,s),jr(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function bl(s){return 0!=(16&s.flags)}(a)&&kd(c,a,He(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function wl(s){return 0!=(32&s.flags)}(a)&&kd(c,a,He(),a.stylesWithoutHost,!1),mg}function af(s,a,c,h){return gg(s,a,c,h),mg(),af}function sy(){return He()}function _g(s){return!!s&&"function"==typeof s.then}function uf(s){return!!s&&"function"==typeof s.subscribe}const sw=uf;function Od(s,a,c,h){const p=He(),m=en(),b=Ti();return function yg(s,a,c,h,p,m,b,E){const S=Qs(h),R=s.firstCreatePass&&Fr(s),j=a[8],ie=rn(a);let me=!0;if(3&h.type||E){const st=Gi(h,a),dt=E?E(st):st,Pt=ie.length,je=E?sn=>E(ri(sn[h.index])):h.index;let Dt=null;if(!E&&S&&(Dt=function oy(s,a,c,h){const p=s.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===c&&p[m+1]===h){const E=a[7],S=p[m+2];return E.length>S?E[S]:null}"string"==typeof b&&(m+=2)}return null}(s,a,p,h.index)),null!==Dt)(Dt.__ngLastListenerFn__||Dt).__ngNextListenerFn__=m,Dt.__ngLastListenerFn__=m,me=!1;else{m=aw(h,a,j,m,!1);const sn=c.listen(dt,p,m);ie.push(m,sn),R&&R.push(p,je,Pt,Pt+1)}}else m=aw(h,a,j,m,!1);const Oe=h.outputs;let qe;if(me&&null!==Oe&&(qe=Oe[p])){const st=qe.length;if(st)for(let dt=0;dt<st;dt+=2){const ei=a[qe[dt]][qe[dt+1]].subscribe(m),oc=ie.length;ie.push(m,ei),R&&R.push(p,h.index,oc,-(oc+1))}}}(m,p,p[11],b,s,a,0,h),Od}function ow(s,a,c,h){try{return!1!==c(h)}catch(p){return cg(s,p),!1}}function aw(s,a,c,h,p){return function m(b){if(b===Function)return h;tn(2&s.flags?wn(s.index,a):a);let S=ow(a,0,h,b),M=m.__ngNextListenerFn__;for(;M;)S=ow(a,0,M,b)&&S,M=M.__ngNextListenerFn__;return p&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function ay(s=1){return function Rs(s){return(Nt.lFrame.contextLView=function Ru(s,a){for(;s>0;)a=a[15],s--;return a}(s,Nt.lFrame.contextLView))[8]}(s)}function ls(s,a,c){return df(s,"",a,"",c),ls}function df(s,a,c,h,p){const m=He(),b=Ft(m,a,c,h);return b!==Ht&&Ds(en(),Jn(),m,s,b,m[11],p,!1),df}function cw(s,a,c,h,p){const m=s[c+1],b=null===a;let E=h?$s(m):ua(m),S=!1;for(;0!==E&&(!1===S||b);){const R=s[E+1];wg(s[E],a)&&(S=!0,s[E+1]=h?il(R):jl(R)),E=h?$s(R):ua(R)}S&&(s[c+1]=h?jl(m):il(m))}function wg(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Rr(s,a)>=0}function Jl(s,a){return function wo(s,a,c,h){const p=He(),m=en(),b=ws(2);m.firstUpdatePass&&function hw(s,a,c,h){const p=s.data;if(null===p[c+1]){const m=p[Qn()],b=function dw(s,a){return a>=s.expandoStartIndex}(s,c);(function mw(s,a){return 0!=(s.flags&(a?16:32))})(m,h)&&null===a&&!b&&(a=!1),a=function jS(s,a,c,h){const p=function yc(s){const a=Nt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(c=pf(c=dy(null,s,a,c,h),a.attrs,h),m=null);else{const b=a.directiveStylingLast;if(-1===b||s[b]!==p)if(c=dy(p,s,a,c,h),null===m){let S=function fw(s,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==ua(h))return s[$s(h)]}(s,a,h);void 0!==S&&Array.isArray(S)&&(S=dy(null,s,a,S[1],h),S=pf(S,a.attrs,h),function pw(s,a,c,h){s[$s(c?a.classBindings:a.styleBindings)]=h}(s,a,h,S))}else m=function $S(s,a,c){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=pf(h,s[m].hostAttrs,c);return pf(h,a.attrs,c)}(s,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),c}(p,m,a,h),function ff(s,a,c,h,p,m){let b=m?a.classBindings:a.styleBindings,E=$s(b),S=ua(b);s[h]=c;let R,M=!1;if(Array.isArray(c)){const j=c;R=j[1],(null===R||Rr(j,R)>0)&&(M=!0)}else R=c;if(p)if(0!==S){const ie=$s(s[E+1]);s[h+1]=Wp(ie,E),0!==ie&&(s[ie+1]=Zp(s[ie+1],h)),s[E+1]=function x_(s,a){return 131071&s|a<<17}(s[E+1],h)}else s[h+1]=Wp(E,0),0!==E&&(s[E+1]=Zp(s[E+1],h)),E=h;else s[h+1]=Wp(S,0),0===E?E=h:s[S+1]=Zp(s[S+1],h),S=h;M&&(s[h+1]=jl(s[h+1])),cw(s,R,h,!0),cw(s,R,h,!1),function VS(s,a,c,h,p){const m=p?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Rr(m,a)>=0&&(c[h+1]=il(c[h+1]))}(a,R,s,h,m),b=Wp(E,S),m?a.classBindings=b:a.styleBindings=b}(p,m,a,c,b,h)}}(m,s,b,h),a!==Ht&&Ur(p,b,a)&&function gf(s,a,c,h,p,m,b,E){if(!(3&a.type))return;const S=s.data,M=S[E+1];mf(function vd(s){return 1==(1&s)}(M)?Dg(S,a,c,p,ua(M),b):void 0)||(mf(m)||function Hl(s){return 2==(2&s)}(M)&&(m=Dg(S,null,c,p,E,b)),function d0(s,a,c,h,p){if(a)p?s.addClass(c,h):s.removeClass(c,h);else{let m=-1===h.indexOf("-")?void 0:fo.DashCase;null==p?s.removeStyle(c,h,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=fo.Important),s.setStyle(c,h,p,m))}}(h,b,Zr(Qn(),c),p,m))}(m,m.data[Qn()],p,p[11],s,p[b+1]=function Ag(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=oe(oa(s)))),s}(a,c),h,b)}(s,a,null,!0),Jl}function dy(s,a,c,h,p){let m=null;const b=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<b&&(m=a[E],h=pf(h,m.hostAttrs,p),m!==s);)E++;return null!==s&&(c.directiveStylingLast=E),h}function pf(s,a,c){const h=c?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?p=b:p===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qi(s,b,!!c||a[++m]))}return void 0===s?null:s}function Dg(s,a,c,h,p,m){const b=null===a;let E;for(;p>0;){const S=s[p],M=Array.isArray(S),R=M?S[1]:S,j=null===R;let ie=c[p+1];ie===Ht&&(ie=j?St:void 0);let me=j?ia(ie,h):R===h?ie:void 0;if(M&&!mf(me)&&(me=ia(S,h)),mf(me)&&(E=me,b))return E;const Oe=s[p+1];p=b?$s(Oe):ua(Oe)}if(null!==a){let S=m?a.residualClasses:a.residualStyles;null!=S&&(E=ia(S,h))}return E}function mf(s){return void 0!==s}function xg(s,a=""){const c=He(),h=en(),p=s+22,m=h.firstCreatePass?zl(h,p,1,a,null):h.data[p],b=c[p]=function h_(s,a){return s.createText(a)}(c[11],a);pd(h,c,b,m),fr(m,!1)}function Mg(s){return _f("",s,""),Mg}function _f(s,a,c){const h=He(),p=Ft(h,s,a,c);return p!==Ht&&ol(h,Qn(),p),_f}function hy(s,a,c,h,p){const m=He(),b=xd(m,s,a,c,h,p);return b!==Ht&&ol(m,Qn(),b),hy}const Xl=void 0;var Rw=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ec(s){const c=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let iu={};function Nd(s){const a=function by(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Lw(a);if(c)return c;const h=a.split("-")[0];if(c=Lw(h),c)return c;if("en"===h)return Rw;throw new Be(701,!1)}function Nw(s){return Nd(s)[xt.PluralCase]}function Lw(s){return s in iu||(iu[s]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[s]),iu[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const _a="en-US";let Fw=_a;function $g(s,a,c,h,p){if(s=Q(s),Array.isArray(s))for(let m=0;m<s.length;m++)$g(s[m],a,c,h,p);else{const m=en(),b=He();let E=Vc(s)?s:Q(s.provide),S=qm(s);const M=Ti(),R=1048575&M.providerIndexes,j=M.directiveStart,ie=M.providerIndexes>>20;if(Vc(s)||!s.multi){const me=new Or(S,p,Bl),Oe=ya(E,a,p?R:R+ie,j);-1===Oe?(ro(Ts(M,b),m,E),By(m,s,a.length),a.push(E),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),c.push(me),b.push(me)):(c[Oe]=me,b[Oe]=me)}else{const me=ya(E,a,R+ie,j),Oe=ya(E,a,R,R+ie),qe=me>=0&&c[me],st=Oe>=0&&c[Oe];if(p&&!st||!p&&!qe){ro(Ts(M,b),m,E);const dt=function CI(s,a,c,h,p){const m=new Or(s,c,Bl);return m.multi=[],m.index=a,m.componentProviders=0,uu(m,p,h&&!c),m}(p?Hy:wI,c.length,p,h,S);!p&&st&&(c[Oe].providerFactory=dt),By(m,s,a.length,0),a.push(E),M.directiveStart++,M.directiveEnd++,p&&(M.providerIndexes+=1048576),c.push(dt),b.push(dt)}else By(m,s,me>-1?me:Oe,uu(c[p?Oe:me],S,!p&&h));!p&&h&&st&&c[Oe].componentProviders++}}}function By(s,a,c,h){const p=Vc(a),m=function yT(s){return!!s.useClass}(a);if(p||m){const S=(m?Q(a.useClass):a).prototype.ngOnDestroy;if(S){const M=s.destroyHooks||(s.destroyHooks=[]);if(!p&&a.multi){const R=M.indexOf(c);-1===R?M.push(c,[h,S]):M[R+1].push(h,S)}else M.push(c,S)}}}function uu(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function ya(s,a,c,h){for(let p=c;p<h;p++)if(a[p]===s)return p;return-1}function wI(s,a,c,h){return Ud(this.multi,[])}function Hy(s,a,c,h){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=es(c,c[1],this.providerFactory.index,h);m=E.slice(0,b),Ud(p,m);for(let S=b;S<E.length;S++)m.push(E[S])}else m=[],Ud(p,m);return m}function Ud(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function du(s,a=[]){return c=>{c.providersResolver=(h,p)=>function Vy(s,a,c){const h=en();if(h.firstCreatePass){const p=Wi(s);$g(c,h.data,h.blueprint,p,!0),$g(a,h.data,h.blueprint,p,!1)}}(h,p?p(s):s,a)}}class Vd{}class jy{}function nC(s,a){return new Df(s,null!=a?a:null)}class Df extends Vd{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qh(this);const h=bt(a);this._bootstrapComponents=ho(h.bootstrap),this._r3Injector=Ul(a,c,[{provide:Vd,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],oe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Af extends jy{constructor(a){super(),this.moduleType=a}create(a){return new Df(this.moduleType,a)}}class $y extends Vd{constructor(a,c,h){super(),this.componentFactoryResolver=new Qh(this),this.instance=null;const p=new Mb([...a,{provide:Vd,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],c||Dp(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function zy(s,a,c=null){return new $y(s,a,c).injector}let TI=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const h=jm(0,c.type),p=h.length>0?zy([h],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,p)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Jt({token:s,providedIn:"environment",factory:()=>new s(k(Bc))}),s})();function zg(s){s.getStandaloneInjector=a=>a.get(TI).getOrCreateStandaloneInjector(s)}function Hd(s,a){const c=s[a];return c===Ht?void 0:c}function aC(s,a){const c=en();let h;const p=s+22;c.firstCreatePass?(h=function MI(s,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(s===h.name)return h}}(a,c.pipeRegistry),c.data[p]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,h.onDestroy)):h=c.data[p];const m=h.factory||(h.factory=Zi(h.type)),b=pn(Bl);try{const E=Za(!1),S=m();return Za(E),function ny(s,a,c,h){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=h}(c,He(),p,S),S}finally{pn(b)}}function lC(s,a,c){const h=s+22,p=He(),m=Jr(p,h);return Pf(p,h)?function Jy(s,a,c,h,p,m){const b=a+c;return Ur(s,b,p)?En(s,b+1,m?h.call(m,p):h(p)):Hd(s,b+1)}(p,Si(),a,m.transform,c,m):m.transform(c)}function cC(s,a,c,h){const p=s+22,m=He(),b=Jr(m,p);return Pf(m,p)?function Xy(s,a,c,h,p,m,b){const E=a+c;return ha(s,E,p,m)?En(s,E+2,b?h.call(b,p,m):h(p,m)):Hd(s,E+2)}(m,Si(),a,b.transform,c,h,b):b.transform(c,h)}function Pf(s,a){return s[1].data[a].pure}function tv(s){return a=>{setTimeout(s,void 0,a)}}const va=class NI extends u.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){var p,m,b;let E=a,S=c||(()=>null),M=h;if(a&&"object"==typeof a){const j=a;E=null===(p=j.next)||void 0===p?void 0:p.bind(j),S=null===(m=j.error)||void 0===m?void 0:m.bind(j),M=null===(b=j.complete)||void 0===b?void 0:b.bind(j)}this.__isAsync&&(S=tv(S),E&&(E=tv(E)),M&&(M=tv(M)));const R=super.subscribe({next:E,error:S,complete:M});return a instanceof z.w&&a.add(R),R}};function LI(){return this._results[ql()]()}class nv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ql(),h=nv.prototype;h[c]||(h[c]=LI)}get changes(){return this._changes||(this._changes=new va)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const p=jn(a);(this._changesDetected=!function xc(s,a,c){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let p=s[h],m=a[h];if(c&&(p=c(p),m=c(m)),m!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kf=(()=>{class s{}return s.__NG_ELEMENT_ID__=VI,s})();const FI=kf,UI=class extends FI{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a,c){const h=this._declarationTContainer.tViews,p=Xp(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,c||null);p[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(p[19]=b.createEmbeddedView(h)),eg(h,p,a),new Ed(p)}};function VI(){return Kg(Ti(),He())}function Kg(s,a){return 4&s.type?new UI(a,s,Nl(s,a)):null}let Yg=(()=>{class s{}return s.__NG_ELEMENT_ID__=To,s})();function To(){return sv(Ti(),He())}const BI=Yg,Qg=class extends BI{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new Ko(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ga(this._hostTNode,this._hostLView);if(_h(a)){const c=Ns(a,this._hostLView),h=Ii(a);return new Ko(c[1].data[h+8],c)}return new Ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=iv(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){let p,m;"number"==typeof h?p=h:null!=h&&(p=h.index,m=h.injector);const b=a.createEmbeddedView(c||{},m);return this.insert(b,p),b}createComponent(a,c,h,p,m){const b=a&&!function at(s){return"function"==typeof s}(a);let E;if(b)E=c;else{const j=c||{};E=j.index,h=j.injector,p=j.projectableNodes,m=j.environmentInjector||j.ngModuleRef}const S=b?a:new Jh(K(a)),M=h||this.parentInjector;if(!m&&null==S.ngModule){const ie=(b?M:this.parentInjector).get(Bc,null);ie&&(m=ie)}const R=S.create(M,p,void 0,m);return this.insert(R.hostView,E),R}insert(a,c){const h=a._lView,p=h[1];if(function mc(s){return zi(s[3])}(h)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const j=h[3],ie=new Qg(j,j[6],j[3]);ie.detach(ie.indexOf(a))}}const m=this._adjustIndex(c),b=this._lContainer;!function e0(s,a,c,h){const p=10+h,m=c.length;h>0&&(c[p-1][4]=a),h<m-10?(a[4]=c[p],oo(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const b=a[17];null!==b&&c!==b&&function t0(s,a){const c=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===c?s[9]=[a]:c.push(a)}(b,a);const E=a[19];null!==E&&E.insertView(s),a[2]|=64}(p,h,b,m);const E=b_(m,b),S=h[11],M=y_(S,b[7]);return null!==M&&function WT(s,a,c,h,p,m){h[0]=p,h[6]=a,Wh(s,h,c,1,p,m)}(p,b[6],S,h,M,E),a.attachToViewContainerRef(),oo(rv(b),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=iv(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=Fp(this._lContainer,c);h&&(Is(rv(this._lContainer),c),g_(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=Fp(this._lContainer,c);return h&&null!=Is(rv(this._lContainer),c)?new Ed(h):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function iv(s){return s[8]}function rv(s){return s[8]||(s[8]=[])}function sv(s,a){let c;const h=a[s.index];if(zi(h))c=h;else{let p;if(8&s.type)p=ri(h);else{const m=a[11];p=m.createComment("");const b=Gi(s,a);Wc(m,y_(m,b),p,function YT(s,a){return s.nextSibling(a)}(m,b),!1)}a[s.index]=c=Z_(h,a,p,s),Cn(a,c)}return new Qg(c,s,a)}class ov{constructor(a){this.queryList=a,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jg{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,p=[];for(let m=0;m<h;m++){const b=c.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new Jg(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==mC(a,c).matches&&this.queries[c].setDirty()}}class uC{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class av{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==c?c.push(m):c=[m])}return null!==c?new av(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class lv{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new lv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,c,$I(c,m)),this.matchTNodeWithReadOption(a,c,Ka(c,a,m,!1,!1))}else h===kf?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Ka(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===jc||p===Yg||p===kf&&4&c.type)this.addMatch(c.index,-2);else{const m=Ka(c,a,p,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function $I(s,a){const c=s.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function WI(s,a,c,h){return-1===c?function zI(s,a){return 11&s.type?Nl(s,a):4&s.type?Kg(s,a):null}(a,s):-2===c?function ZI(s,a,c){return c===jc?Nl(a,s):c===kf?Kg(a,s):c===Yg?sv(a,s):void 0}(s,a,h):es(s,s[1],c,a)}function dC(s,a,c,h){const p=a[19].queries[h];if(null===p.matches){const m=s.data,b=c.matches,E=[];for(let S=0;S<b.length;S+=2){const M=b[S];E.push(M<0?null:WI(a,m[M],b[S+1],c.metadata.read))}p.matches=E}return p.matches}function cv(s,a,c,h){const p=s.queries.getByIndex(c),m=p.matches;if(null!==m){const b=dC(s,a,p,c);for(let E=0;E<m.length;E+=2){const S=m[E];if(S>0)h.push(b[E/2]);else{const M=m[E+1],R=a[-S];for(let j=10;j<R.length;j++){const ie=R[j];ie[17]===ie[3]&&cv(ie[1],ie,M,h)}if(null!==R[9]){const j=R[9];for(let ie=0;ie<j.length;ie++){const me=j[ie];cv(me[1],me,M,h)}}}}}return h}function hC(s){const a=He(),c=en(),h=Ba();vc(h+1);const p=mC(c,h);if(s.dirty&&pl(a)===(2==(2&p.metadata.flags))){if(null===p.matches)s.reset([]);else{const m=p.crossesNgTemplate?cv(c,a,h,[]):dC(c,a,p,h);s.reset(m,CT),s.notifyOnChanges()}return!0}return!1}function fC(s,a,c,h){const p=en();if(p.firstCreatePass){const m=Ti();(function gC(s,a,c){null===s.queries&&(s.queries=new av),s.queries.track(new lv(a,c))})(p,new uC(a,c,h),m.index),function KI(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(p,s),2==(2&c)&&(p.staticContentQueries=!0)}!function qI(s,a,c){const h=new nv(4==(4&c));U0(s,a,h,h.destroy),null===a[19]&&(a[19]=new Jg),a[19].queries.push(new ov(h))}(p,He(),c)}function pC(){return function bM(s,a){return s[19].queries[a].queryList}(He(),Ba())}function mC(s,a){return s.queries.getByIndex(a)}function Zd(...s){}const DC=new Bn("Application Initializer");let em=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Zd,this.reject=Zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(_g(m))c.push(m);else if(sw(m)){const b=new Promise((E,S)=>{m.subscribe({complete:E,error:S})});c.push(b)}}Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(k(DC,8))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const AC=new Bn("AppId",{providedIn:"root",factory:function xC(){return`${nm()}${nm()}${nm()}`}});function nm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ff=new Bn("Platform Initializer"),MC=new Bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),PC=new Bn("appBootstrapListener"),dD=new Bn("AnimationModuleType");let hD=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Gd=new Bn("LocaleId",{providedIn:"root",factory:()=>de(Gd,et.Optional|et.SkipSelf)||function kC(){return"undefined"!=typeof $localize&&$localize.locale||_a}()}),OC=new Bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class pD{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let vv=(()=>{class s{compileModuleSync(c){return new Af(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),m=ho(bt(c).declarations).reduce((b,E)=>{const S=K(E);return S&&b.push(new Jh(S)),b},[]);return new pD(h,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const gD=(()=>Promise.resolve(0))();function Ev(s){"undefined"==typeof Zone?gD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class fs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new va(!1),this.onMicrotaskEmpty=new va(!1),this.onStable=new va(!1),this.onError=new va(!1),"undefined"==typeof Zone)throw new Be(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function rm(){let s=kt.requestAnimationFrame,a=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function mD(s){const a=()=>{!function FC(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,sm(s),s.isCheckStableRunning=!0,Uf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),sm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,m,b,E)=>{try{return Vf(s),c.invokeTask(p,m,b,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),UC(s)}},onInvoke:(c,h,p,m,b,E,S)=>{try{return Vf(s),c.invoke(p,m,b,E,S)}finally{s.shouldCoalesceRunChangeDetection&&a(),UC(s)}},onHasTask:(c,h,p,m)=>{c.hasTask(p,m),h===p&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,sm(s),Uf(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,h,p,m)=>(c.handleError(p,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fs.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(fs.isInAngularZone())throw new Be(909,!1)}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,a,Tv,Zd,Zd);try{return m.runTask(b,c,h)}finally{m.cancelTask(b)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const Tv={};function Uf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function sm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Vf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function UC(s){s._nesting--,Uf(s)}class _D{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new va,this.onMicrotaskEmpty=new va,this.onStable=new va,this.onError=new va}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,p){return a.apply(c,h)}}const VC=new Bn(""),BC=new Bn("");let Bf,yD=(()=>{class s{constructor(c,h,p){this._ngZone=c,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bf||(function vD(s){Bf=s}(p),p.addToWindow(h)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fs.assertNotInAngularZone(),Ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ev(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,h,p){return[]}}return s.\u0275fac=function(c){return new(c||s)(k(fs),k(HC),k(BC))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac}),s})(),HC=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){var p;return null!==(p=null==Bf?void 0:Bf.findTestabilityInTree(this,c,h))&&void 0!==p?p:null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ba=null;const jC=new Bn("AllowMultipleToken"),qd=new Bn("PlatformDestroyListeners");class wD{constructor(a,c){this.name=a,this.token=c}}function Iv(s,a,c=[]){const h=`Platform: ${a}`,p=new Bn(h);return(m=[])=>{let b=GC();if(!b||b.injector.get(jC,!1)){const E=[...c,...m,{provide:p,useValue:!0}];s?s(E):function CD(s){if(ba&&!ba.get(jC,!1))throw new Be(400,!1);ba=s;const a=s.get(SD);(function Sv(s){const a=s.get(Ff,null);a&&a.forEach(c=>c())})(s)}(function TD(s=[],a){return Gc.create({name:a,providers:[{provide:Wm,useValue:"platform"},{provide:qd,useValue:new Set([()=>ba=null])},...s]})}(E,h))}return function ZC(s){const a=GC();if(!a)throw new Be(401,!1);return a}()}}function GC(){var s;return null!==(s=null==ba?void 0:ba.get(SD))&&void 0!==s?s:null}let SD=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const p=function ID(s,a){let c;return c="noop"===s?new _D:("zone.js"===s?void 0:s)||new fs(a),c}(null==h?void 0:h.ngZone,function om(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:fs,useValue:p}];return p.run(()=>{const b=Gc.create({providers:m,parent:this.injector,name:c.moduleType.name}),E=c.create(b),S=E.injector.get(Vh,null);if(!S)throw new Be(402,!1);return p.runOutsideAngular(()=>{const M=p.onError.subscribe({next:R=>{S.handleError(R)}});E.onDestroy(()=>{Hf(this._modules,E),M.unsubscribe()})}),function qC(s,a,c){try{const h=c();return _g(h)?h.catch(p=>{throw a.runOutsideAngular(()=>s.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(S,p,()=>{const M=E.injector.get(em);return M.runInitializers(),M.donePromise.then(()=>(function Lg(s){Vt(s,"Expected localeId to be defined"),"string"==typeof s&&(Fw=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Gd,_a)||_a),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,h=[]){const p=Dv({},h);return function $C(s,a,c){const h=new Af(c);return Promise.resolve(h)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(c){const h=c.injector.get(am);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new Be(403,!1);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const c=this._injector.get(qd,null);c&&(c.forEach(h=>h()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(k(Gc))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Dv(s,a){return Array.isArray(a)?a.reduce(Dv,s):Object.assign(Object.assign({},s),a)}let am=(()=>{class s{constructor(c,h,p){this._zone=c,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new L.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{fs.assertNotInAngularZone(),Ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,fe.T)(m,b.pipe((0,ce.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,h){const p=c instanceof Rl;if(!this._injector.get(em).done)throw!p&&Je(c),new Be(405,false);let b;b=p?c:this._injector.get(Hc).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const E=function bD(s){return s.isBoundToModule}(b)?void 0:this._injector.get(Vd),M=b.create(Gc.NULL,[],h||b.selector,E),R=M.location.nativeElement,j=M.injector.get(VC,null);return null==j||j.registerApplication(R),M.onDestroy(()=>{this.detachView(M.hostView),Hf(this.components,M),null==j||j.unregisterApplication(R)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;Hf(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(PC,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Hf(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Be(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(k(fs),k(Bc),k(Vh))},s.\u0275prov=Jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Hf(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}let DD=!0,cm=!1;function RM(){return cm=!0,DD}function AD(){if(cm)throw new Error("Cannot enable prod mode after platform setup.");DD=!1}let LM=(()=>{class s{}return s.__NG_ELEMENT_ID__=FM,s})();function FM(s){return function xD(s,a,c){if($r(s)&&!c){const h=wn(s.index,a);return new Ed(h,h)}return 47&s.type?new Ed(a[16],a):null}(Ti(),He(),16==(16&s))}class Kd{constructor(){}supports(a){return Dd(a)}create(a){return new XC(a)}}const ND=(s,a)=>a;class XC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||ND}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,p=0,m=null;for(;c||h;){const b=!h||c&&c.currentIndex<Ov(h,p,m)?c:h,E=Ov(b,p,m),S=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(c=c._next,null==b.previousIndex)p++;else{m||(m=[]);const M=E-p,R=S-p;if(M!=R){for(let ie=0;ie<M;ie++){const me=ie<m.length?m[ie]:m[ie]=0,Oe=me+ie;R<=Oe&&Oe<M&&(m[ie]=me+1)}m[b.previousIndex]=R-M}}E!==S&&a(b,E,S)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Dd(a))throw new Be(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,b,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)m=a[E],b=this._trackByFn(E,m),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,m,b,E)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,b,E),h=!0),c=c._next}else p=0,function kS(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[ql()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,E=>{b=this._trackByFn(p,E),null!==c&&Object.is(c.trackById,b)?(h&&(c=this._verifyReinsertion(c,E,b,p)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,b,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,p)):a=this._addAfter(new LD(c,h),m,p),a}_verifyReinsertion(a,c,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const p=null===c?this._itHead:c._next;return a._next=p,a._prev=c,null===p?this._itTail=a:p._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new kv),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kv),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class LD{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FD{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class kv{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new FD,this.map.set(c,h)),h.add(a)}get(a,c){const p=this.map.get(a);return p?p.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ov(s,a,c){const h=s.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+a+p}class Rv{constructor(){}supports(a){return a instanceof Map||Y_(a)}create(){return new UD}}class UD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Y_(a)))throw new Be(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,c);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const h=new VD(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class VD{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eE(){return new pm([new Kd])}let pm=(()=>{class s{constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new s(c)}static extend(c){return{provide:s,useFactory:h=>s.create(c,h||eE()),deps:[[s,new mi,new wt]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new Be(901,!1)}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:eE}),s})();function tE(){return new gm([new Rv])}let gm=(()=>{class s{constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new s(c)}static extend(c){return{provide:s,useFactory:h=>s.create(c,h||tE()),deps:[[s,new mi,new wt]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new Be(901,!1)}}return s.\u0275prov=Jt({token:s,providedIn:"root",factory:tE}),s})();const BM=Iv(null,"core",[]);let jD=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(k(am))},s.\u0275mod=Et({type:s}),s.\u0275inj=Ut({}),s})();function $D(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ot,Ae,V)=>{"use strict";V.d(Ae,{Z:()=>Be});var u=V(2090),z=V(4859),L=V(9681),fe=V(1877);class ce{constructor(Ee,Me){this._delegate=Ee,this.firebase=Me,(0,L._addComponent)(Ee,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ee,Me=L._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(Ee);return!Ve.isInitialized()&&"EXPLICIT"===(null===($e=Ve.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Me})}_removeServiceInstance(Ee,Me=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(Me)}_addComponent(Ee){(0,L._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,L._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ue(){const Fe=function oe(Fe){const Ee={},Me={__esModule:!0,initializeApp:function Qe(Ie,Pe={}){const ke=L.initializeApp(Ie,Pe);if((0,u.r3)(Ee,ke.name))return Ee[ke.name];const ae=new Fe(ke,Me);return Ee[ke.name]=ae,ae},app:Ve,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ct(Ie){const Pe=Ie.name,ke=Pe.replace("-compat","");if(L._registerComponent(Ie)&&"PUBLIC"===Ie.type){const ae=(he=Ve())=>{if("function"!=typeof he[ke])throw we.create("invalid-app-argument",{appName:Pe});return he[ke]()};void 0!==Ie.serviceProps&&(0,u.ZB)(ae,Ie.serviceProps),Me[ke]=ae,Fe.prototype[ke]=function(...he){return this._getService.bind(this,Pe).apply(this,Ie.multipleInstances?he:[])}}return"PUBLIC"===Ie.type?Me[ke]:null},removeApp:function $e(Ie){delete Ee[Ie]},useAsService:function Qt(Ie,Pe){return"serverAuth"===Pe?null:Pe},modularAPIs:L}};function Ve(Ie){if(!(0,u.r3)(Ee,Ie=Ie||L._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Ie});return Ee[Ie]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function _t(){return Object.keys(Ee).map(Ie=>Ee[Ie])}}),Ve.App=Fe,Me}(ce);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function Ee(Me){(0,u.ZB)(Fe,Me)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Fe}(),W=new fe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=H;!function Le(Fe){(0,L.registerVersion)("@firebase/app-compat","0.1.33",Fe)}()},9681:(ot,Ae,V)=>{"use strict";V.r(Ae),V.d(Ae,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>ji,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>un,_addOrOverwriteComponent:()=>Jt,_apps:()=>In,_clearComponents:()=>tr,_components:()=>Pn,_getProvider:()=>Ut,_registerComponent:()=>jt,_removeServiceInstance:()=>vn,deleteApp:()=>oi,getApp:()=>kn,getApps:()=>Ni,initializeApp:()=>bi,onLog:()=>Wn,registerVersion:()=>pi,setLogLevel:()=>pn});var u=V(5861),z=V(4859),L=V(1877),fe=V(2090),ce=V(8766);class le{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(ne=>{if(function we(q){const te=q.getComponent();return"VERSION"===(null==te?void 0:te.type)}(ne)){const Re=ne.getImmediate();return`${Re.library}/${Re.version}`}return null}).filter(ne=>ne).join(" ")}}const oe="@firebase/app",H=new L.Yd("@firebase/app"),Vt="[DEFAULT]",Xe={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},In=new Map,Pn=new Map;function un(q,te){try{q.container.addComponent(te)}catch(ne){H.debug(`Component ${te.name} failed to register with FirebaseApp ${q.name}`,ne)}}function Jt(q,te){q.container.addOrOverwriteComponent(te)}function jt(q){const te=q.name;if(Pn.has(te))return H.debug(`There were multiple attempts to register component ${te}.`),!1;Pn.set(te,q);for(const ne of In.values())un(ne,q);return!0}function Ut(q,te){const ne=q.container.getProvider("heartbeat").getImmediate({optional:!0});return ne&&ne.triggerHeartbeat(),q.container.getProvider(te)}function vn(q,te,ne=Vt){Ut(q,te).clearInstance(ne)}function tr(){Pn.clear()}const Kt=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dr{constructor(te,ne,Re){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},ne),this._name=ne.name,this._automaticDataCollectionEnabled=ne.automaticDataCollectionEnabled,this._container=Re,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const ji="9.9.4";function bi(q,te={}){"object"!=typeof te&&(te={name:te});const ne=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},te),Re=ne.name;if("string"!=typeof Re||!Re)throw Kt.create("bad-app-name",{appName:String(Re)});const Ye=In.get(Re);if(Ye){if((0,fe.vZ)(q,Ye.options)&&(0,fe.vZ)(ne,Ye.config))return Ye;throw Kt.create("duplicate-app",{appName:Re})}const Et=new z.H0(Re);for(const gn of Pn.values())Et.addComponent(gn);const bn=new dr(q,ne,Et);return In.set(Re,bn),bn}function kn(q=Vt){const te=In.get(q);if(!te)throw Kt.create("no-app",{appName:q});return te}function Ni(){return Array.from(In.values())}function oi(q){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(q){const te=q.name;In.has(te)&&(In.delete(te),yield Promise.all(q.container.getProviders().map(ne=>ne.delete())),q.isDeleted=!0)})).apply(this,arguments)}function pi(q,te,ne){var Re;let Ye=null!==(Re=Xe[q])&&void 0!==Re?Re:q;ne&&(Ye+=`-${ne}`);const Et=Ye.match(/\s|\//),bn=te.match(/\s|\//);if(Et||bn){const gn=[`Unable to register library "${Ye}" with version "${te}":`];return Et&&gn.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),Et&&bn&&gn.push("and"),bn&&gn.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void H.warn(gn.join(" "))}jt(new z.wA(`${Ye}-version`,()=>({library:Ye,version:te}),"VERSION"))}function Wn(q,te){if(null!==q&&"function"!=typeof q)throw Kt.create("invalid-log-argument");(0,L.Am)(q,te)}function pn(q){(0,L.Ub)(q)}const On="firebase-heartbeat-store";let Rn=null;function Dn(){return Rn||(Rn=(0,ce.X3)("firebase-heartbeat-database",1,{upgrade:(q,te)=>{0===te&&q.createObjectStore(On)}}).catch(q=>{throw Kt.create("idb-open",{originalErrorMessage:q.message})})),Rn}function pt(){return(pt=(0,u.Z)(function*(q){var te;try{return(yield Dn()).transaction(On).objectStore(On).get(gi(q))}catch(ne){if(ne instanceof fe.ZR)H.warn(ne.message);else{const Re=Kt.create("idb-get",{originalErrorMessage:null===(te=ne)||void 0===te?void 0:te.message});H.warn(Re.message)}}})).apply(this,arguments)}function kt(q,te){return Li.apply(this,arguments)}function Li(){return(Li=(0,u.Z)(function*(q,te){var ne;try{const Ye=(yield Dn()).transaction(On,"readwrite");return yield Ye.objectStore(On).put(te,gi(q)),Ye.done}catch(Re){if(Re instanceof fe.ZR)H.warn(Re.message);else{const Ye=Kt.create("idb-set",{originalErrorMessage:null===(ne=Re)||void 0===ne?void 0:ne.message});H.warn(Ye.message)}}})).apply(this,arguments)}function gi(q){return`${q.name}!${q.options.appId}`}class Fi{constructor(te){this.container=te,this._heartbeatsCache=null;const ne=this.container.getProvider("app").getImmediate();this._storage=new zt(ne),this._heartbeatsCachePromise=this._storage.read().then(Re=>(this._heartbeatsCache=Re,Re))}triggerHeartbeat(){var te=this;return(0,u.Z)(function*(){const Re=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=Rt();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!te._heartbeatsCache.heartbeats.some(Et=>Et.date===Ye))return te._heartbeatsCache.heartbeats.push({date:Ye,agent:Re}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(Et=>{const bn=new Date(Et.date).valueOf();return Date.now()-bn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,u.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const ne=Rt(),{heartbeatsToSend:Re,unsentEntries:Ye}=function nr(q,te=1024){const ne=[];let Re=q.slice();for(const Ye of q){const Et=ne.find(bn=>bn.agent===Ye.agent);if(Et){if(Et.dates.push(Ye.date),re(ne)>te){Et.dates.pop();break}}else if(ne.push({agent:Ye.agent,dates:[Ye.date]}),re(ne)>te){ne.pop();break}Re=Re.slice(1)}return{heartbeatsToSend:ne,unsentEntries:Re}}(te._heartbeatsCache.heartbeats),Et=(0,fe.L)(JSON.stringify({version:2,heartbeats:Re}));return te._heartbeatsCache.lastSentHeartbeatDate=ne,Ye.length>0?(te._heartbeatsCache.heartbeats=Ye,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),Et})()}}function Rt(){return(new Date).toISOString().substring(0,10)}class zt{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,u.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function ft(q){return pt.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var ne=this;return(0,u.Z)(function*(){var Re;if(yield ne._canUseIndexedDBPromise){const Et=yield ne.read();return kt(ne.app,{lastSentHeartbeatDate:null!==(Re=te.lastSentHeartbeatDate)&&void 0!==Re?Re:Et.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var ne=this;return(0,u.Z)(function*(){var Re;if(yield ne._canUseIndexedDBPromise){const Et=yield ne.read();return kt(ne.app,{lastSentHeartbeatDate:null!==(Re=te.lastSentHeartbeatDate)&&void 0!==Re?Re:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...te.heartbeats]})}})()}}function re(q){return(0,fe.L)(JSON.stringify({version:2,heartbeats:q})).length}!function J(q){jt(new z.wA("platform-logger",te=>new le(te),"PRIVATE")),jt(new z.wA("heartbeat",te=>new Fi(te),"PRIVATE")),pi(oe,"0.7.32",q),pi(oe,"0.7.32","esm2017"),pi("fire-js","")}("")},4859:(ot,Ae,V)=>{"use strict";V.d(Ae,{H0:()=>oe,wA:()=>L,zt:()=>ce});var u=V(5861),z=V(2090);class L{constructor(H,W,Q){this.name=H,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const fe="[DEFAULT]";class ce{constructor(H,W){this.name=H,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const W=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(W)){const Q=new z.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:W});Ce&&Q.resolve(Ce)}catch(Ce){}}return this.instancesDeferred.get(W).promise}getImmediate(H){var W;const Q=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),Ce=null!==(W=null==H?void 0:H.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Le){if(Ce)return null;throw Le}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function we(ue){return"EAGER"===ue.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(W){}for(const[W,Q]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(W);try{const Le=this.getOrInitializeService({instanceIdentifier:Ce});Q.resolve(Le)}catch(Le){}}}}clearInstance(H=fe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,u.Z)(function*(){const W=Array.from(H.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=fe){return this.instances.has(H)}getOptions(H=fe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:W={}}=H,Q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[Le,Be]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Le)&&Be.resolve(Ce);return Ce}onInit(H,W){var Q;const Ce=this.normalizeInstanceIdentifier(W),Le=null!==(Q=this.onInitCallbacks.get(Ce))&&void 0!==Q?Q:new Set;Le.add(H),this.onInitCallbacks.set(Ce,Le);const Be=this.instances.get(Ce);return Be&&H(Be,Ce),()=>{Le.delete(H)}}invokeOnInitCallbacks(H,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const Ce of Q)try{Ce(H,W)}catch(Le){}}getOrInitializeService({instanceIdentifier:H,options:W={}}){let Q=this.instances.get(H);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=H,ue===fe?void 0:ue),options:W}),this.instances.set(H,Q),this.instancesOptions.set(H,W),this.invokeOnInitCallbacks(Q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Q)}catch(Ce){}var ue;return Q||null}normalizeInstanceIdentifier(H=fe){return this.component?this.component.multipleInstances?H:fe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const W=this.getProvider(H.name);if(W.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);W.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const W=new ce(H,this);return this.providers.set(H,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ot,Ae,V)=>{"use strict";V.d(Ae,{Am:()=>ue,Ub:()=>oe,Yd:()=>we,in:()=>z});const u=[];var z=(()=>{return(H=z||(z={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",z;var H})();const L={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},fe=z.INFO,ce={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},le=(H,W,...Q)=>{if(W<H.logLevel)return;const Ce=(new Date).toISOString(),Le=ce[W];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Le](`[${Ce}]  ${H.name}:`,...Q)};class we{constructor(W){this.name=W,this._logLevel=fe,this._logHandler=le,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in z))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...W),this._logHandler(this,z.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...W),this._logHandler(this,z.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,z.INFO,...W),this._logHandler(this,z.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,z.WARN,...W),this._logHandler(this,z.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...W),this._logHandler(this,z.ERROR,...W)}}function oe(H){u.forEach(W=>{W.setLogLevel(H)})}function ue(H,W){for(const Q of u){let Ce=null;W&&W.level&&(Ce=L[W.level]),Q.userLogHandler=null===H?null:(Le,Be,...Fe)=>{const Ee=Fe.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch($e){return null}}).filter(Me=>Me).join(" ");Be>=(null!=Ce?Ce:Le.logLevel)&&H({level:z[Be].toLowerCase(),message:Ee,args:Fe,type:Le.name})}}}},8766:(ot,Ae,V)=>{"use strict";V.d(Ae,{Lj:()=>Qe,X3:()=>Ve});var u=V(5861);let L,fe;const we=new WeakMap,oe=new WeakMap,ue=new WeakMap,H=new WeakMap,W=new WeakMap;let Le={get(Pe,ke,ae){if(Pe instanceof IDBTransaction){if("done"===ke)return oe.get(Pe);if("objectStoreNames"===ke)return Pe.objectStoreNames||ue.get(Pe);if("store"===ke)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Me(Pe[ke])},set:(Pe,ke,ae)=>(Pe[ke]=ae,!0),has:(Pe,ke)=>Pe instanceof IDBTransaction&&("done"===ke||"store"===ke)||ke in Pe};function Ee(Pe){return"function"==typeof Pe?function Fe(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...ke){return Pe.apply($e(this),ke),Me(we.get(this))}:function(...ke){return Me(Pe.apply($e(this),ke))}:function(ke,...ae){const he=Pe.call($e(this),ke,...ae);return ue.set(he,ke.sort?ke.sort():[ke]),Me(he)}}(Pe):(Pe instanceof IDBTransaction&&function Ce(Pe){if(oe.has(Pe))return;const ke=new Promise((ae,he)=>{const Te=()=>{Pe.removeEventListener("complete",_e),Pe.removeEventListener("error",ze),Pe.removeEventListener("abort",ze)},_e=()=>{ae(),Te()},ze=()=>{he(Pe.error||new DOMException("AbortError","AbortError")),Te()};Pe.addEventListener("complete",_e),Pe.addEventListener("error",ze),Pe.addEventListener("abort",ze)});oe.set(Pe,ke)}(Pe),((Pe,ke)=>ke.some(ae=>Pe instanceof ae))(Pe,function ce(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,Le):Pe)}function Me(Pe){if(Pe instanceof IDBRequest)return function Q(Pe){const ke=new Promise((ae,he)=>{const Te=()=>{Pe.removeEventListener("success",_e),Pe.removeEventListener("error",ze)},_e=()=>{ae(Me(Pe.result)),Te()},ze=()=>{he(Pe.error),Te()};Pe.addEventListener("success",_e),Pe.addEventListener("error",ze)});return ke.then(ae=>{ae instanceof IDBCursor&&we.set(ae,Pe)}).catch(()=>{}),W.set(ke,Pe),ke}(Pe);if(H.has(Pe))return H.get(Pe);const ke=Ee(Pe);return ke!==Pe&&(H.set(Pe,ke),W.set(ke,Pe)),ke}const $e=Pe=>W.get(Pe);function Ve(Pe,ke,{blocked:ae,upgrade:he,blocking:Te,terminated:_e}={}){const ze=indexedDB.open(Pe,ke),Ze=Me(ze);return he&&ze.addEventListener("upgradeneeded",vt=>{he(Me(ze.result),vt.oldVersion,vt.newVersion,Me(ze.transaction))}),ae&&ze.addEventListener("blocked",()=>ae()),Ze.then(vt=>{_e&&vt.addEventListener("close",()=>_e()),Te&&vt.addEventListener("versionchange",()=>Te())}).catch(()=>{}),Ze}function Qe(Pe,{blocked:ke}={}){const ae=indexedDB.deleteDatabase(Pe);return ke&&ae.addEventListener("blocked",()=>ke()),Me(ae).then(()=>{})}const _t=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Qt=new Map;function Ie(Pe,ke){if(!(Pe instanceof IDBDatabase)||ke in Pe||"string"!=typeof ke)return;if(Qt.get(ke))return Qt.get(ke);const ae=ke.replace(/FromIndex$/,""),he=ke!==ae,Te=Ct.includes(ae);if(!(ae in(he?IDBIndex:IDBObjectStore).prototype)||!Te&&!_t.includes(ae))return;const _e=function(){var ze=(0,u.Z)(function*(Ze,...vt){const nn=this.transaction(Ze,Te?"readwrite":"readonly");let Vt=nn.store;return he&&(Vt=Vt.index(vt.shift())),(yield Promise.all([Vt[ae](...vt),Te&&nn.done]))[0]});return function(vt){return ze.apply(this,arguments)}}();return Qt.set(ke,_e),_e}!function Be(Pe){Le=Pe(Le)}(Pe=>hT(dT({},Pe),{get:(ke,ae,he)=>Ie(ke,ae)||Pe.get(ke,ae,he),has:(ke,ae)=>!!Ie(ke,ae)||Pe.has(ke,ae)}))},5861:(ot,Ae,V)=>{"use strict";function u(L,fe,ce,le,we,oe,ue){try{var H=L[oe](ue),W=H.value}catch(Q){return void ce(Q)}H.done?fe(W):Promise.resolve(W).then(le,we)}function z(L){return function(){var fe=this,ce=arguments;return new Promise(function(le,we){var oe=L.apply(fe,ce);function ue(W){u(oe,le,we,ue,H,"next",W)}function H(W){u(oe,le,we,ue,H,"throw",W)}ue(void 0)})}}V.d(Ae,{Z:()=>z})}},ot=>{ot(ot.s=9300)}]);